<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2016-10-21 Fri 15:33 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="viewport" content="width=device-width, initial-scale=1" />
<title>Notes</title>
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Sen Lin" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="./style/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="./style/bigblow.css"/>
<link rel="stylesheet" type="text/css" href="./style/hideshow.css"/>
<link rel="stylesheet" type="text/css" href="./style/main.css"/>
<script type="text/javascript" src="./style/jquery-1.12.2.min.js"></script>
<script type="text/javascript" src="./style/jquery-ui-1.10.2.min.js"></script>
<script type="text/javascript" src="./style/jquery.localscroll-min.js"></script>
<script type="text/javascript" src="./style/jquery.scrollTo-1.4.3.1-min.js"></script>
<script type="text/javascript" src="./style/jquery.zclip.min.js"></script>
<script type="text/javascript" src="./style/bigblow.js"></script>
<script type="text/javascript" src="./style/hideshow.js"></script>
<script type="text/javascript" src="./style/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript">//$(hsCollapseAll);</script>
<base target="_blank">
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content">
<h1 class="title">Notes</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgheadline101">1. Algorithm</a>
<ul>
<li><a href="#orgheadline3">1.1. Asymptotic bounds</a>
<ul>
<li><a href="#orgheadline1">1.1.1. Definitions</a></li>
<li><a href="#orgheadline2">1.1.2. Rules</a></li>
</ul>
</li>
<li><a href="#orgheadline17">1.2. Bit Manipulation</a>
<ul>
<li><a href="#orgheadline9">1.2.1. Basic Manipulations and their Applications</a></li>
<li><a href="#orgheadline10">1.2.2. Two's Complement</a></li>
<li><a href="#orgheadline11">1.2.3. Increment and Decrement</a></li>
<li><a href="#orgheadline12">1.2.4. LSB(Least Significant Bit)</a></li>
<li><a href="#orgheadline16">1.2.5. Arithmetic Operations using Bit Manipulations</a></li>
</ul>
</li>
<li><a href="#orgheadline39">1.3. String and Array</a>
<ul>
<li><a href="#orgheadline20">1.3.1. Two pointers</a></li>
<li><a href="#orgheadline22">1.3.2. Recursion</a></li>
<li><a href="#orgheadline27">1.3.3. Running Maximum</a></li>
<li><a href="#orgheadline32">1.3.4. Dynamic Programming</a></li>
<li><a href="#orgheadline34">1.3.5. Hashing</a></li>
<li><a href="#orgheadline36">1.3.6. Hash table</a></li>
<li><a href="#orgheadline38">1.3.7. Greedy</a></li>
</ul>
</li>
<li><a href="#orgheadline42">1.4. In-place array manipulation</a>
<ul>
<li><a href="#orgheadline40">1.4.1. Rotate an array</a></li>
<li><a href="#orgheadline41">1.4.2. Pivotify</a></li>
</ul>
</li>
<li><a href="#orgheadline44">1.5. Randomization</a>
<ul>
<li><a href="#orgheadline43">1.5.1. Reservoir sampling</a></li>
</ul>
</li>
<li><a href="#orgheadline49">1.6. Binary Heap</a>
<ul>
<li><a href="#orgheadline48">1.6.1. Data Structure of Heap</a></li>
</ul>
</li>
<li><a href="#orgheadline53">1.7. Binary Tree</a>
<ul>
<li><a href="#orgheadline52">1.7.1. Data Structures</a></li>
</ul>
</li>
<li><a href="#orgheadline71">1.8. Dynamic Programming (DP)</a>
<ul>
<li><a href="#orgheadline54">1.8.1. Ideas</a></li>
<li><a href="#orgheadline57">1.8.2. Longest Common Subsequence (LCS)</a></li>
<li><a href="#orgheadline60">1.8.3. Minimum Edit Distance</a></li>
<li><a href="#orgheadline62">1.8.4. Combination Sum</a></li>
<li><a href="#orgheadline65">1.8.5. <span class="todo TODO">TODO</span> Optimal binary search tree</a></li>
<li><a href="#orgheadline66">1.8.6. <span class="todo TODO">TODO</span> Rod-cutting</a></li>
<li><a href="#orgheadline67">1.8.7. <span class="todo TODO">TODO</span> Matrix-chain multiplication</a></li>
<li><a href="#orgheadline70">1.8.8. 0-1 knapsack problem</a></li>
</ul>
</li>
<li><a href="#orgheadline96">1.9. Graph</a>
<ul>
<li><a href="#orgheadline83">1.9.1. Traversing a graph</a></li>
<li><a href="#orgheadline89">1.9.2. Shortest paths</a></li>
<li><a href="#orgheadline94">1.9.3. Minimum spanning tree (MST)</a></li>
<li><a href="#orgheadline95">1.9.4. Maximum flow</a></li>
</ul>
</li>
<li><a href="#orgheadline100">1.10. Greedy Algorithms</a>
<ul>
<li><a href="#orgheadline97">1.10.1. Matroid</a></li>
<li><a href="#orgheadline98">1.10.2. Greedy algorithm</a></li>
<li><a href="#orgheadline99">1.10.3. Applications</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgheadline104">2. Special Algorithms</a>
<ul>
<li><a href="#orgheadline102">2.1. Index mapping</a></li>
<li><a href="#orgheadline103">2.2. Scan line</a></li>
</ul>
</li>
<li><a href="#orgheadline126">3. Distributed Systems</a>
<ul>
<li><a href="#orgheadline107">3.1. Network</a>
<ul>
<li><a href="#orgheadline105">3.1.1. 7 layers of the OSI model (Open System Interconnection)</a></li>
<li><a href="#orgheadline106">3.1.2. Physical devices</a></li>
</ul>
</li>
<li><a href="#orgheadline108">3.2. Point-to-Point Protocols and Links</a></li>
<li><a href="#orgheadline112">3.3. ARQ (Automatic Repeat reQuest)</a>
<ul>
<li><a href="#orgheadline109">3.3.1. Stop-and-wait ARQ</a></li>
<li><a href="#orgheadline110">3.3.2. Go-back-N ARQ</a></li>
<li><a href="#orgheadline111">3.3.3. Selective Repeat ARQ</a></li>
</ul>
</li>
<li><a href="#orgheadline114">3.4. Socket Programming</a>
<ul>
<li><a href="#orgheadline113">3.4.1. Socket</a></li>
</ul>
</li>
<li><a href="#orgheadline119">3.5. Consensus problem</a>
<ul>
<li><a href="#orgheadline115">3.5.1. Failure</a></li>
<li><a href="#orgheadline116">3.5.2. Timing</a></li>
<li><a href="#orgheadline117">3.5.3. Consensus</a></li>
<li><a href="#orgheadline118">3.5.4. Requirements</a></li>
</ul>
</li>
<li><a href="#orgheadline125">3.6. Multicast</a>
<ul>
<li><a href="#orgheadline123">3.6.1. Ordering</a></li>
<li><a href="#orgheadline124">3.6.2. Lamport Timestamps</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgheadline134">4. Operating System</a>
<ul>
<li><a href="#orgheadline127">4.1. Process</a></li>
<li><a href="#orgheadline128">4.2. Thread</a></li>
<li><a href="#orgheadline132">4.3. Memory Hierarchy</a>
<ul>
<li><a href="#orgheadline129">4.3.1. Cache line</a></li>
<li><a href="#orgheadline131">4.3.2. Associativity</a></li>
</ul>
</li>
<li><a href="#orgheadline133">4.4. Mutex</a></li>
</ul>
</li>
<li><a href="#orgheadline147">5. Parallel Computing</a>
<ul>
<li><a href="#orgheadline139">5.1. Intro</a>
<ul>
<li><a href="#orgheadline135">5.1.1. Amdahl's law</a></li>
<li><a href="#orgheadline136">5.1.2. 3 facts against parallelism</a></li>
<li><a href="#orgheadline137">5.1.3. Multiple instruction, multiple data (MIMD)</a></li>
<li><a href="#orgheadline138">5.1.4. Task</a></li>
</ul>
</li>
<li><a href="#orgheadline140">5.2. OpenMP</a></li>
<li><a href="#orgheadline145">5.3. CUDA</a>
<ul>
<li><a href="#orgheadline142">5.3.1. Terminologies</a></li>
<li><a href="#orgheadline143">5.3.2. GPU Memory Model</a></li>
<li><a href="#orgheadline144">5.3.3. Syntax</a></li>
</ul>
</li>
<li><a href="#orgheadline146">5.4. OpenCL</a></li>
</ul>
</li>
<li><a href="#orgheadline184">6. Java</a>
<ul>
<li><a href="#orgheadline155">6.1. Java Basics</a>
<ul>
<li><a href="#orgheadline148">6.1.1. About Java</a></li>
<li><a href="#orgheadline149">6.1.2. Variable</a></li>
<li><a href="#orgheadline150">6.1.3. Three types of variables</a></li>
<li><a href="#orgheadline151">6.1.4. Data types</a></li>
<li><a href="#orgheadline152">6.1.5. What happens at runtime</a></li>
<li><a href="#orgheadline153">6.1.6. Comparison with C++</a></li>
<li><a href="#orgheadline154">6.1.7. Some keywords</a></li>
</ul>
</li>
<li><a href="#orgheadline165">6.2. Object Oriented Java</a>
<ul>
<li><a href="#orgheadline156">6.2.1. Inheritance</a></li>
<li><a href="#orgheadline157">6.2.2. Static keyword</a></li>
<li><a href="#orgheadline158">6.2.3. Instance Initializer block</a></li>
<li><a href="#orgheadline159">6.2.4. Final keyword</a></li>
<li><a href="#orgheadline160">6.2.5. Runtime polymorphism, or Dynamic method dispatch</a></li>
<li><a href="#orgheadline161">6.2.6. Static binding and dynamic binding</a></li>
<li><a href="#orgheadline162">6.2.7. <b><code>instanceof</code></b>, type comparison</a></li>
<li><a href="#orgheadline163">6.2.8. Abstraction</a></li>
<li><a href="#orgheadline164">6.2.9. Interface</a></li>
</ul>
</li>
<li><a href="#orgheadline169">6.3. Data Structures</a>
<ul>
<li><a href="#orgheadline166">6.3.1. Array</a></li>
<li><a href="#orgheadline167">6.3.2. Wrapper classes</a></li>
<li><a href="#orgheadline168">6.3.3. String</a></li>
</ul>
</li>
<li><a href="#orgheadline174">6.4. Exception</a>
<ul>
<li><a href="#orgheadline170">6.4.1. Hierarchy of Java Exception classes</a></li>
<li><a href="#orgheadline171">6.4.2. Types of exceptions</a></li>
<li><a href="#orgheadline172">6.4.3. Multiple catch</a></li>
<li><a href="#orgheadline173">6.4.4. Declaring Exception in overriding a method</a></li>
</ul>
</li>
<li><a href="#orgheadline181">6.5. Nested Classes</a>
<ul>
<li><a href="#orgheadline178">6.5.1. Inner class: non-static nested class</a></li>
<li><a href="#orgheadline179">6.5.2. Static nested class</a></li>
<li><a href="#orgheadline180">6.5.3. Nested interface</a></li>
</ul>
</li>
<li><a href="#orgheadline182">6.6. Multithreading in Java</a></li>
<li><a href="#orgheadline183">6.7. Garbage Collection</a></li>
</ul>
</li>
<li><a href="#orgheadline200">7. C++</a>
<ul>
<li><a href="#orgheadline192">7.1. Pitfalls in C++</a>
<ul>
<li><a href="#orgheadline185">7.1.1. Overflow and Underflow</a></li>
<li><a href="#orgheadline188">7.1.2. Implicit cast</a></li>
<li><a href="#orgheadline189">7.1.3. Vector</a></li>
<li><a href="#orgheadline190">7.1.4. Char</a></li>
<li><a href="#orgheadline191">7.1.5. Boolean</a></li>
</ul>
</li>
<li><a href="#orgheadline195">7.2. Techniques</a>
<ul>
<li><a href="#orgheadline193">7.2.1. Logical operators</a></li>
<li><a href="#orgheadline194">7.2.2. Assertion</a></li>
</ul>
</li>
<li><a href="#orgheadline196">7.3. Causes of Segmentation Fault</a></li>
<li><a href="#orgheadline199">7.4. Templates</a>
<ul>
<li><a href="#orgheadline197">7.4.1. File IO</a></li>
<li><a href="#orgheadline198">7.4.2. Timer</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgheadline236">8. Design Pattern</a>
<ul>
<li><a href="#orgheadline205">8.1. Object Oriented</a>
<ul>
<li><a href="#orgheadline201">8.1.1. Abstraction</a></li>
<li><a href="#orgheadline202">8.1.2. Encapsulation</a></li>
<li><a href="#orgheadline203">8.1.3. Inheritance</a></li>
<li><a href="#orgheadline204">8.1.4. Polymorphism</a></li>
</ul>
</li>
<li><a href="#orgheadline206">8.2. UML and Dependency</a></li>
<li><a href="#orgheadline218">8.3. OO Principles</a>
<ul>
<li><a href="#orgheadline207">8.3.1. Liskov Substitution Principle</a></li>
<li><a href="#orgheadline208">8.3.2. Encapsulate what varies</a></li>
<li><a href="#orgheadline209">8.3.3. Program to interfaces, not implementations</a></li>
<li><a href="#orgheadline210">8.3.4. Favor composition over inheritance</a></li>
<li><a href="#orgheadline211">8.3.5. Loose couple</a></li>
<li><a href="#orgheadline212">8.3.6. Interface Segregation Principle</a></li>
<li><a href="#orgheadline213">8.3.7. Open-Close Principle</a></li>
<li><a href="#orgheadline214">8.3.8. Dependency Inversion Principle</a></li>
<li><a href="#orgheadline215">8.3.9. Principle of Least Knowledge</a></li>
<li><a href="#orgheadline216">8.3.10. The Hollywood Principle</a></li>
<li><a href="#orgheadline217">8.3.11. Single Responsibility Principle</a></li>
</ul>
</li>
<li><a href="#orgheadline219">8.4. Observer</a></li>
<li><a href="#orgheadline220">8.5. Decorator</a></li>
<li><a href="#orgheadline224">8.6. Factory</a>
<ul>
<li><a href="#orgheadline221">8.6.1. Simple Factory</a></li>
<li><a href="#orgheadline222">8.6.2. Factory Method Pattern</a></li>
<li><a href="#orgheadline223">8.6.3. Abstract Factory Pattern</a></li>
</ul>
</li>
<li><a href="#orgheadline225">8.7. Singleton</a></li>
<li><a href="#orgheadline226">8.8. Command</a></li>
<li><a href="#orgheadline227">8.9. Adapter</a></li>
<li><a href="#orgheadline228">8.10. Facade</a></li>
<li><a href="#orgheadline229">8.11. Template Method</a></li>
<li><a href="#orgheadline230">8.12. Iterator</a></li>
<li><a href="#orgheadline231">8.13. Composite</a></li>
<li><a href="#orgheadline232">8.14. State</a></li>
<li><a href="#orgheadline233">8.15. Strategy</a></li>
<li><a href="#orgheadline234">8.16. Proxy</a></li>
<li><a href="#orgheadline235">8.17. Flyweight</a></li>
</ul>
</li>
<li><a href="#orgheadline261">9. Fluid Dynamics</a>
<ul>
<li><a href="#orgheadline249">9.1. Mathematical Background</a>
<ul>
<li><a href="#orgheadline245">9.1.1. Tensor</a></li>
<li><a href="#orgheadline246">9.1.2. Gauss (Divergence) Theorem</a></li>
<li><a href="#orgheadline247">9.1.3. Stokes's Theorem</a></li>
<li><a href="#orgheadline248">9.1.4. Leibnitz's Theorem</a></li>
</ul>
</li>
<li><a href="#orgheadline256">9.2. Motion Equations</a>
<ul>
<li><a href="#orgheadline253">9.2.1. Convective derivative</a></li>
<li><a href="#orgheadline254">9.2.2. Continuity Condition</a></li>
<li><a href="#orgheadline255">9.2.3. Momentum equation</a></li>
</ul>
</li>
<li><a href="#orgheadline258">9.3. Navier-Stokes Equation</a>
<ul>
<li><a href="#orgheadline257">9.3.1. Constitutive relationship of newtonian fluids</a></li>
</ul>
</li>
<li><a href="#orgheadline260">9.4. Finite Element Methods</a>
<ul>
<li><a href="#orgheadline259">9.4.1. Discretization</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgheadline289">10. Numerical Optimization</a>
<ul>
<li><a href="#orgheadline263">10.1. Linear Algebra</a>
<ul>
<li><a href="#orgheadline262">10.1.1. Matrix Decomposition</a></li>
</ul>
</li>
<li><a href="#orgheadline266">10.2. Overview</a>
<ul>
<li><a href="#orgheadline264">10.2.1. Convexity</a></li>
<li><a href="#orgheadline265">10.2.2. Taylor's Theorem</a></li>
</ul>
</li>
<li><a href="#orgheadline271">10.3. Unconstrained Optimization</a>
<ul>
<li><a href="#orgheadline267">10.3.1. Unconstrained Optimality Condition</a></li>
<li><a href="#orgheadline268">10.3.2. Line Search</a></li>
<li><a href="#orgheadline269">10.3.3. Line Search Directions</a></li>
<li><a href="#orgheadline270">10.3.4. Trust Region</a></li>
</ul>
</li>
<li><a href="#orgheadline275">10.4. Least Square Problems</a>
<ul>
<li><a href="#orgheadline272">10.4.1. Problem Formulation</a></li>
<li><a href="#orgheadline273">10.4.2. Solving</a></li>
<li><a href="#orgheadline274">10.4.3. Linear Least Square</a></li>
</ul>
</li>
<li><a href="#orgheadline279">10.5. Constrained Optimization</a>
<ul>
<li><a href="#orgheadline276">10.5.1. KKT (1st order Necessary) condition</a></li>
<li><a href="#orgheadline277">10.5.2. Notes about KKT</a></li>
<li><a href="#orgheadline278">10.5.3. Proof of KKT</a></li>
</ul>
</li>
<li><a href="#orgheadline280">10.6. Duality</a></li>
<li><a href="#orgheadline283">10.7. Linear Programming</a>
<ul>
<li><a href="#orgheadline281">10.7.1. Simplex Method</a></li>
<li><a href="#orgheadline282">10.7.2. Primal-Dual Interior-Point Method</a></li>
</ul>
</li>
<li><a href="#orgheadline288">10.8. Method of Moving Asymptotes (MMA)</a>
<ul>
<li><a href="#orgheadline284">10.8.1. Problem to solve</a></li>
<li><a href="#orgheadline285">10.8.2. General approach</a></li>
<li><a href="#orgheadline286">10.8.3. Approximation of \(f_i\)</a></li>
<li><a href="#orgheadline287">10.8.4. Solving subproblem</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgheadline316">11. Probability and Statistics</a>
<ul>
<li><a href="#orgheadline290">11.1. Probability</a></li>
<li><a href="#orgheadline304">11.2. Random Variables</a>
<ul>
<li><a href="#orgheadline297">11.2.1. Discrete Distributions</a></li>
<li><a href="#orgheadline303">11.2.2. Continuous Distributions</a></li>
</ul>
</li>
<li><a href="#orgheadline305">11.3. Joint Distributions</a></li>
<li><a href="#orgheadline310">11.4. Expected Value</a>
<ul>
<li><a href="#orgheadline306">11.4.1. Expectation</a></li>
<li><a href="#orgheadline307">11.4.2. Variance and Standard Deviation</a></li>
<li><a href="#orgheadline308">11.4.3. A Mode for Measurement Error</a></li>
<li><a href="#orgheadline309">11.4.4. Covariance and Correlation</a></li>
</ul>
</li>
<li><a href="#orgheadline315">11.5. Data Pre-processing</a>
<ul>
<li><a href="#orgheadline311">11.5.1. <span class="todo TODO">TODO</span> Skewness</a></li>
<li><a href="#orgheadline313">11.5.2. Normality</a></li>
<li><a href="#orgheadline314">11.5.3. Cronbach's alpha</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgheadline355">12. Natural Language Processing</a>
<ul>
<li><a href="#orgheadline322">12.1. Grammar</a>
<ul>
<li><a href="#orgheadline317">12.1.1. Levels of languages:</a></li>
<li><a href="#orgheadline318">12.1.2. Part-of-speech or word classes</a></li>
<li><a href="#orgheadline319">12.1.3. Abbreviations of part-of-speech categories</a></li>
<li><a href="#orgheadline320">12.1.4. Parts of sentences</a></li>
<li><a href="#orgheadline321">12.1.5. Sentence level constructions</a></li>
</ul>
</li>
<li><a href="#orgheadline325">12.2. Regular expression and Automata</a>
<ul>
<li><a href="#orgheadline323">12.2.1. Elements of regular expression</a></li>
<li><a href="#orgheadline324">12.2.2. Finite State Automaton (FSA)</a></li>
</ul>
</li>
<li><a href="#orgheadline334">12.3. Language Model</a>
<ul>
<li><a href="#orgheadline326">12.3.1. Corpus</a></li>
<li><a href="#orgheadline327">12.3.2. Bayes Theorem</a></li>
<li><a href="#orgheadline333">12.3.3. Measure of performance</a></li>
</ul>
</li>
<li><a href="#orgheadline340">12.4. N-gram model</a>
<ul>
<li><a href="#orgheadline335">12.4.1. Definition</a></li>
<li><a href="#orgheadline336">12.4.2. Laplace or Add-&lambda; smoothing</a></li>
<li><a href="#orgheadline337">12.4.3. Good-Turing Discounting</a></li>
<li><a href="#orgheadline338">12.4.4. Add-&lambda; back-off</a></li>
<li><a href="#orgheadline339">12.4.5. Witten-Bell smoothing</a></li>
</ul>
</li>
<li><a href="#orgheadline345">12.5. Log-linear model</a>
<ul>
<li><a href="#orgheadline341">12.5.1. Model overview</a></li>
<li><a href="#orgheadline342">12.5.2. Training the model</a></li>
<li><a href="#orgheadline343">12.5.3. Regularization</a></li>
<li><a href="#orgheadline344">12.5.4. Log-linear model as smoothing</a></li>
</ul>
</li>
<li><a href="#orgheadline348">12.6. Parsing</a>
<ul>
<li><a href="#orgheadline346">12.6.1. CYK algorithm</a></li>
<li><a href="#orgheadline347">12.6.2. Earley algorithm</a></li>
</ul>
</li>
<li><a href="#orgheadline354">12.7. Hidden Markov Model</a>
<ul>
<li><a href="#orgheadline349">12.7.1. Components of a HMM</a></li>
<li><a href="#orgheadline350">12.7.2. Two simplifying assumptions</a></li>
<li><a href="#orgheadline351">12.7.3. Likelihood problem (Forward algorithm)</a></li>
<li><a href="#orgheadline352">12.7.4. Decoding problem (Viterbi algorithm)</a></li>
<li><a href="#orgheadline353">12.7.5. Learning problem</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgheadline382">13. Principle of Programming Languages</a>
<ul>
<li><a href="#orgheadline357">13.1. Background</a>
<ul>
<li><a href="#orgheadline356">13.1.1. Several Programming paradigm</a></li>
</ul>
</li>
<li><a href="#orgheadline360">13.2. OCaml</a>
<ul>
<li><a href="#orgheadline358">13.2.1. Variable types</a></li>
<li><a href="#orgheadline359">13.2.2. Polymorphism</a></li>
</ul>
</li>
<li><a href="#orgheadline364">13.3. Operational Semantics</a>
<ul>
<li><a href="#orgheadline361">13.3.1. BNF (Backus-Naur Form)</a></li>
<li><a href="#orgheadline362">13.3.2. Variable substitution</a></li>
<li><a href="#orgheadline363">13.3.3. Y-combinator</a></li>
</ul>
</li>
<li><a href="#orgheadline367">13.4. Operational equivalence</a>
<ul>
<li><a href="#orgheadline365">13.4.1. Properties of operational equivalence</a></li>
<li><a href="#orgheadline366">13.4.2. Some examples</a></li>
</ul>
</li>
<li><a href="#orgheadline372">13.5. Abstract Syntax and Semantics</a>
<ul>
<li><a href="#orgheadline368">13.5.1. Basic Fb</a></li>
<li><a href="#orgheadline369">13.5.2. FbV, Fb with Variant</a></li>
<li><a href="#orgheadline370">13.5.3. FbS, Fb with State</a></li>
<li><a href="#orgheadline371">13.5.4. FbX, Fb with Exception</a></li>
</ul>
</li>
<li><a href="#orgheadline373">13.6. State</a></li>
<li><a href="#orgheadline377">13.7. Type Systems</a>
<ul>
<li><a href="#orgheadline374">13.7.1. Concepts</a></li>
<li><a href="#orgheadline375">13.7.2. Level of type systems</a></li>
<li><a href="#orgheadline376">13.7.3. Subtyping</a></li>
</ul>
</li>
<li><a href="#orgheadline381">13.8. Concurrency</a>
<ul>
<li><a href="#orgheadline378">13.8.1. Concepts</a></li>
<li><a href="#orgheadline379">13.8.2. Actor model</a></li>
<li><a href="#orgheadline380">13.8.3. AFbV</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgheadline455">14. Graph Theory</a>
<ul>
<li><a href="#orgheadline388">14.1. Notations</a>
<ul>
<li><a href="#orgheadline383">14.1.1. Graph</a></li>
<li><a href="#orgheadline384">14.1.2. Graph operations</a></li>
<li><a href="#orgheadline385">14.1.3. Size</a></li>
<li><a href="#orgheadline386">14.1.4. Connectivity</a></li>
<li><a href="#orgheadline387">14.1.5. Coloring</a></li>
</ul>
</li>
<li><a href="#orgheadline398">14.2. Basic Graph</a>
<ul>
<li><a href="#orgheadline389">14.2.1. Directed graphs</a></li>
<li><a href="#orgheadline391">14.2.2. Edges and connections</a></li>
<li><a href="#orgheadline392">14.2.3. Vertices</a></li>
<li><a href="#orgheadline396">14.2.4. Graphs</a></li>
<li><a href="#orgheadline397">14.2.5. Graph isomorphism</a></li>
</ul>
</li>
<li><a href="#orgheadline402">14.3. Tree</a>
<ul>
<li><a href="#orgheadline399">14.3.1. Definitions</a></li>
<li><a href="#orgheadline400">14.3.2. Properties of a tree</a></li>
<li><a href="#orgheadline401">14.3.3. Spanning tree</a></li>
</ul>
</li>
<li><a href="#orgheadline406">14.4. Matching and Factors</a>
<ul>
<li><a href="#orgheadline403">14.4.1. Definitions</a></li>
<li><a href="#orgheadline404">14.4.2. Theorems</a></li>
<li><a href="#orgheadline405">14.4.3. Stable matching</a></li>
</ul>
</li>
<li><a href="#orgheadline413">14.5. Cuts and Connectivity</a>
<ul>
<li><a href="#orgheadline407">14.5.1. Definitions</a></li>
<li><a href="#orgheadline408">14.5.2. Theorems</a></li>
<li><a href="#orgheadline410">14.5.3. 2-connected graphs</a></li>
<li><a href="#orgheadline411">14.5.4. \(k\) -connected graphs</a></li>
<li><a href="#orgheadline412">14.5.5. Block</a></li>
</ul>
</li>
<li><a href="#orgheadline422">14.6. Coloring of graphs</a>
<ul>
<li><a href="#orgheadline414">14.6.1. Definitions</a></li>
<li><a href="#orgheadline415">14.6.2. Theorems (vertex coloring)</a></li>
<li><a href="#orgheadline416">14.6.3. Theorems (edge coloring)</a></li>
<li><a href="#orgheadline419">14.6.4. \(k\) -critical graph</a></li>
<li><a href="#orgheadline421">14.6.5. Chromatic Polynomial</a></li>
</ul>
</li>
<li><a href="#orgheadline430">14.7. Special graphs</a>
<ul>
<li><a href="#orgheadline426">14.7.1. Vertex degree</a></li>
<li><a href="#orgheadline427">14.7.2. Bipartite Graph</a></li>
<li><a href="#orgheadline428">14.7.3. No even cycle</a></li>
<li><a href="#orgheadline429">14.7.4. Line graphs</a></li>
</ul>
</li>
<li><a href="#orgheadline442">14.8. Several topics</a>
<ul>
<li><a href="#orgheadline431">14.8.1. Transversing a graph</a></li>
<li><a href="#orgheadline432">14.8.2. Bijection</a></li>
<li><a href="#orgheadline438">14.8.3. Some famous graphs</a></li>
<li><a href="#orgheadline441">14.8.4. Techniques in graph theory</a></li>
</ul>
</li>
<li><a href="#orgheadline445">14.9. Plannar Graphs</a>
<ul>
<li><a href="#orgheadline443">14.9.1. Definitions</a></li>
<li><a href="#orgheadline444">14.9.2. Theorems</a></li>
</ul>
</li>
<li><a href="#orgheadline454">14.10. Random Graph</a>
<ul>
<li><a href="#orgheadline446">14.10.1. Definitions</a></li>
<li><a href="#orgheadline448">14.10.2. Ramsey Theory</a></li>
<li><a href="#orgheadline449">14.10.3. Probability and Expectation</a></li>
<li><a href="#orgheadline453">14.10.4. Several results</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgheadline465">15. My Cheat Sheet</a>
<ul>
<li><a href="#orgheadline463">15.1. Emacs</a>
<ul>
<li><a href="#orgheadline460">15.1.1. General</a></li>
<li><a href="#orgheadline461">15.1.2. Org-mode</a></li>
<li><a href="#orgheadline462">15.1.3. Auctex</a></li>
</ul>
</li>
<li><a href="#orgheadline464">15.2. Bash</a></li>
</ul>
</li>
<li><a href="#orgheadline467">16. Others</a>
<ul>
<li><a href="#orgheadline466">16.1. Software Installation</a></li>
</ul>
</li>
</ul>
</div>
</div>
\(
\newcommand{\dd}[2]{{\mathrm{d}#1\over\mathrm{d} #2}}
\newcommand{\pp}[2]{{\partial#1\over\partial#2}}
\newcommand{\dS}{\;\mathrm{d}S}
\newcommand{\dV}{\;\mathrm{d}V}
\newcommand{\dx}{\;\mathrm{d}x}
\newcommand{\dt}{\;\mathrm{d}t}
\newcommand{\ds}{\;\mathrm{d}s}
\newcommand{\A}{\mathcal{A}}
\newcommand{\B}{\mathcal{B}}
\newcommand{\E}{\mathcal{E}}
\newcommand{\F}{\mathcal{F}}
\newcommand{\I}{\mathcal{I}}
\newcommand{\N}{\mathcal{N}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\Y}{\mathcal{Y}}
\newcommand{\Var}[1]{\mathrm{Var}\left(#1\right)}
\newcommand{\Cov}[1]{\mathrm{Cov}\left(#1\right)}
\newcommand{\pow}[2]{\left( {#1} \right)^{#2}}
\newcommand{\MSE}{\mathrm{MSE}}
\newcommand{\fun}{\mathrm{Fun}~}
\newcommand{\To}{\Rightarrow}
\newcommand{\True}{\mathrm{True}}
\newcommand{\False}{\mathrm{False}}
\newcommand{\va}{\boldsymbol{a}}
\newcommand{\vb}{\boldsymbol{b}}
\newcommand{\vc}{\boldsymbol{c}}
\newcommand{\vd}{\boldsymbol{d}}
\newcommand{\ve}{\boldsymbol{e}}
\newcommand{\vf}{\boldsymbol{f}}
\newcommand{\vg}{\boldsymbol{g}}
\newcommand{\vh}{\boldsymbol{h}}
\newcommand{\vi}{\boldsymbol{i}}
\newcommand{\vj}{\boldsymbol{j}}
\newcommand{\vk}{\boldsymbol{k}}
\newcommand{\vl}{\boldsymbol{l}}
\newcommand{\vm}{\boldsymbol{m}}
\newcommand{\vn}{\boldsymbol{n}}
\newcommand{\vo}{\boldsymbol{o}}
\newcommand{\vp}{\boldsymbol{p}}
\newcommand{\vq}{\boldsymbol{q}}
\newcommand{\vr}{\boldsymbol{r}}
\newcommand{\vs}{\boldsymbol{s}}
\newcommand{\vt}{\boldsymbol{t}}
\newcommand{\vu}{\boldsymbol{u}}
\newcommand{\vv}{\boldsymbol{v}}
\newcommand{\vw}{\boldsymbol{w}}
\newcommand{\vx}{\boldsymbol{x}}
\newcommand{\vy}{\boldsymbol{y}}
\newcommand{\vz}{\boldsymbol{z}}
\newcommand{\vA}{\boldsymbol{A}}
\newcommand{\vB}{\boldsymbol{B}}
\newcommand{\vC}{\boldsymbol{C}}
\newcommand{\vD}{\boldsymbol{D}}
\newcommand{\vE}{\boldsymbol{E}}
\newcommand{\vF}{\boldsymbol{F}}
\newcommand{\vG}{\boldsymbol{G}}
\newcommand{\vH}{\boldsymbol{H}}
\newcommand{\vI}{\boldsymbol{I}}
\newcommand{\vJ}{\boldsymbol{J}}
\newcommand{\vK}{\boldsymbol{K}}
\newcommand{\vL}{\boldsymbol{L}}
\newcommand{\vM}{\boldsymbol{M}}
\newcommand{\vN}{\boldsymbol{N}}
\newcommand{\vO}{\boldsymbol{O}}
\newcommand{\vP}{\boldsymbol{P}}
\newcommand{\vQ}{\boldsymbol{Q}}
\newcommand{\vR}{\boldsymbol{R}}
\newcommand{\vS}{\boldsymbol{S}}
\newcommand{\vT}{\boldsymbol{T}}
\newcommand{\vU}{\boldsymbol{U}}
\newcommand{\vV}{\boldsymbol{V}}
\newcommand{\vW}{\boldsymbol{W}}
\newcommand{\vX}{\boldsymbol{X}}
\newcommand{\vY}{\boldsymbol{Y}}
\newcommand{\vZ}{\boldsymbol{Z}}
\newcommand{\valpha}{\boldsymbol{\alpha}}
\newcommand{\vxk}{\vx^{(k)}}
\newcommand{\xjk}{x_j^{(k)}}
\newcommand{\rik}{r_i^{(k)}}
\newcommand{\Ujk}{U_j^{(k)}}
\newcommand{\Ljk}{L_j^{(k)}}
\)

<div id="outline-container-orgheadline101" class="outline-2">
<h2 id="orgheadline101"><span class="section-number-2">1</span> Algorithm</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-orgheadline3" class="outline-3">
<h3 id="orgheadline3"><span class="section-number-3">1.1</span> Asymptotic bounds</h3>
<div class="outline-text-3" id="text-1-1">
</div><div id="outline-container-orgheadline1" class="outline-4">
<h4 id="orgheadline1"><span class="section-number-4">1.1.1</span> Definitions</h4>
<div class="outline-text-4" id="text-1-1-1">
<ul class="org-ul">
<li>\(f = O(g)\): Upper bound; There exists positive constants \(c, n_0\), such that \(0 \le f(n) \le c\cdot g(n)\) for all \(n\ge n_0\)</li>
<li>\(f = \Omega(g)\): Lower bound; There exist positive constants \(c,
   n_0\) such that \(0 \le c\cdot g(n) \le f(n)\) for all \(n\ge n_0\)</li>
<li>\(f = \Theta(g)\): Double-side bound</li>
<li>\(f = o(g)\): Loose upper bound; For any (small) positive constant \(c\), there exists a positive constant \(n_0\) such that \(0 \le f(n) < c\cdot g(n)\) for all \(n\ge n_0\)</li>
<li>\(f = \omega(g)\): Loose lower bound; For any (large) positive constant \(c\), there exists a positive constant \(n_0\) such that \(0 \le c\cdot g(n) < f(n)\) for all \(n\ge n_0\)</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline2" class="outline-4">
<h4 id="orgheadline2"><span class="section-number-4">1.1.2</span> Rules</h4>
<div class="outline-text-4" id="text-1-1-2">
<dl class="org-dl">
<dt>Transpose symmetry</dt><dd><ul class="org-ul">
<li>\(f = O(g) \iff g = \Omega(f)\)</li>
<li>\(f = o(g) \iff g = \omega(f)\)</li>
</ul></dd>

<dt>Combinations</dt><dd><ul class="org-ul">
<li>\(f + g = \Omega(\min(f, g))\)</li>
<li>\(f + g = O(\max(f, g))\)</li>
<li>\(f + o(f) = \Theta(f)\)</li>
</ul></dd>
</dl>
</div>
</div>
</div>

<div id="outline-container-orgheadline17" class="outline-3">
<h3 id="orgheadline17"><span class="section-number-3">1.2</span> Bit Manipulation</h3>
<div class="outline-text-3" id="text-1-2">
</div><div id="outline-container-orgheadline9" class="outline-4">
<h4 id="orgheadline9"><span class="section-number-4">1.2.1</span> Basic Manipulations and their Applications</h4>
<div class="outline-text-4" id="text-1-2-1">
</div><ol class="org-ol"><li><a id="orgheadline4"></a>Construct a bit-mask<br  /><div class="outline-text-5" id="text-1-2-1-1">
<ul class="org-ul">
<li><code>000100 : 1 &lt;&lt; 2</code></li>
<li><code>000111 : (1 &lt;&lt; 3) - 1</code> (Note that shift operation has a lower precedence)</li>
<li><code>111111 : ~0U</code></li>
<li><code>001100 : (1 &lt;&lt; 4) - (1 &lt;&lt; 2)</code></li>
</ul>
</div></li>
<li><a id="orgheadline5"></a>AND <code>&amp;</code><br  /><div class="outline-text-5" id="text-1-2-1-2">
<ul class="org-ul">
<li>Get the value of bit: <code>x &amp; mask</code></li>
<li>Check whether a number is odd: <code>x &amp; 1</code></li>
<li>Set value of a bit to 0: <code>x &amp;= ~mask</code></li>
</ul>
</div></li>
<li><a id="orgheadline6"></a>OR <code>|</code><br  /><div class="outline-text-5" id="text-1-2-1-3">
<ul class="org-ul">
<li>Set value of a bit to 1: <code>x |= mask</code></li>
<li>Ceil to odd number (e.g., 3 &rarr; 3, 4 &rarr; 5): <code>x | 1</code></li>
</ul>
</div></li>
<li><a id="orgheadline7"></a>Exclusive OR, XOR <code>^</code><br  /><div class="outline-text-5" id="text-1-2-1-4">
<ul class="org-ul">
<li>Result is true is the two operands are different</li>
<li></li>
</ul>
<div class="org-src-container">

<pre class="src src-c++">x ^ y == ~x ^ ~y;
</pre>
</div>
<ul class="org-ul">
<li>Self inverse: <code>(x ^ a) ^ a == x</code></li>
<li>Flip a bit: <code>x ^= mask</code> (because <code>b ^ 1 == 1 - b</code> and <code>b ^ 0 == b</code>)</li>
</ul>
</div></li>
<li><a id="orgheadline8"></a>Shift<br  /><div class="outline-text-5" id="text-1-2-1-5">
<ul class="org-ul">
<li>Note that in C++ it would pad with 1 when right-shift a negative integer</li>
<li>Swap lower and higher 16 bits: <code>(x &lt;&lt; 16) | (x &gt;&gt; 16)</code></li>
</ul>
</div></li></ol>
</div>
<div id="outline-container-orgheadline10" class="outline-4">
<h4 id="orgheadline10"><span class="section-number-4">1.2.2</span> Two's Complement</h4>
<div class="outline-text-4" id="text-1-2-2">
<ul class="org-ul">
<li>Negative numbers are usually represented as its two's complement: (<code>-x</code>)<sub>bin</sub> \(=\) 2<sup>N</sup> \(-\) (<code>x</code>)<sub>bin</sub></li>
<li>Using this representation, signed addition is simply the same as unsigned addition.</li>
<li>Some examples</li>
</ul>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Decimal Number</th>
<th scope="col" class="org-left">Binary Representation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">\(1\)</td>
<td class="org-left"><code>00000000000000000000000000000001</code></td>
</tr>

<tr>
<td class="org-left">\(0\)</td>
<td class="org-left"><code>00000000000000000000000000000000</code></td>
</tr>

<tr>
<td class="org-left">\(-1\)</td>
<td class="org-left"><code>11111111111111111111111111111111</code></td>
</tr>

<tr>
<td class="org-left">\(-2\)</td>
<td class="org-left"><code>11111111111111111111111111111110</code></td>
</tr>

<tr>
<td class="org-left">\(-3\)</td>
<td class="org-left"><code>11111111111111111111111111111101</code></td>
</tr>

<tr>
<td class="org-left">\(-4\)</td>
<td class="org-left"><code>11111111111111111111111111111100</code></td>
</tr>
</tbody>
</table>
<ul class="org-ul">
<li>Note that (<code>~x</code>)<sub>bin</sub> \(=\) (<code>11111111111111111111111111111111</code>) \(-\) (<code>x</code>)<sub>bin</sub> \(=\) 2<sup>N</sup> \(- 1 -\) (<code>x</code>)<sub>bin</sub> \(= -1 -\) (<code>x</code>)<sub>bin</sub>, because 2<sup>N</sup> overflowed in binary representation. We have an interesting fact: (<code>~x</code>)<sub>bin</sub> \(=\) (<code>-x - 1</code>)<sub>bin</sub></li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline11" class="outline-4">
<h4 id="orgheadline11"><span class="section-number-4">1.2.3</span> Increment and Decrement</h4>
<div class="outline-text-4" id="text-1-2-3">
<ul class="org-ul">
<li>Increment flips the rightmost 0 to 1, and all tail 1 to 0, leaving leading bits unchanged.</li>
<li>Decrement flips the rightmost 1 to 0, and all tail 0 to 1, leaving leading bits unchanged.</li>
<li>Both increment and decrement flips the right bits.</li>
<li>Some examples about decrement</li>
</ul>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><code>x</code></td>
<td class="org-left">010000011010 <span class="underline">1000</span></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>x-1</code></td>
<td class="org-left">010000011010 <span class="underline">0111</span></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>x &amp; (x-1)</code></td>
<td class="org-left">010000011010 <span class="underline">0000</span></td>
<td class="org-left">Flip the rightmost 1 &rarr; 0</td>
</tr>

<tr>
<td class="org-left"><code>x or (x-1)</code></td>
<td class="org-left">010000011010 <span class="underline">1111</span></td>
<td class="org-left">Tail 1000 &rarr; 1111</td>
</tr>

<tr>
<td class="org-left"><code>x &amp; ~(x-1)</code></td>
<td class="org-left">000000000000 <span class="underline">1000</span></td>
<td class="org-left">Extract the rightmost 1</td>
</tr>
</tbody>
</table>
<ul class="org-ul">
<li>Some examples about increment</li>
</ul>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><code>x</code></td>
<td class="org-left">010000011010 <span class="underline">0111</span></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>x+1</code></td>
<td class="org-left">010000011010 <span class="underline">1000</span></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>x &amp; (x+1)</code></td>
<td class="org-left">010000011010 <span class="underline">0000</span></td>
<td class="org-left">Tail 0111 &rarr; 0000</td>
</tr>

<tr>
<td class="org-left"><code>x or (x+1)</code></td>
<td class="org-left">010000011010 <span class="underline">1111</span></td>
<td class="org-left">Flip the rightmost 0 &rarr; 1</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-orgheadline12" class="outline-4">
<h4 id="orgheadline12"><span class="section-number-4">1.2.4</span> LSB(Least Significant Bit)</h4>
<div class="outline-text-4" id="text-1-2-4">
<p>
<code>x &amp;= x - 1</code> destroys the nonzero LSB, while <code>x &amp; ~(x - 1)</code> extracts the nonzero LSB. In two's complement, it is the same as <code>x &amp; -x</code>
Some applications of LSB:
</p>
<ul class="org-ul">
<li>Power of 2: Destroying the nonzero LSB of \(x\) yields zero.</li>
<li>Find two single numbers where others are in pair: use LSB of <code>a^b</code> to bucketize all numbers, and then take XOR.</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline16" class="outline-4">
<h4 id="orgheadline16"><span class="section-number-4">1.2.5</span> Arithmetic Operations using Bit Manipulations</h4>
<div class="outline-text-4" id="text-1-2-5">
</div><ol class="org-ol"><li><a id="orgheadline13"></a>Add<br  /><div class="outline-text-5" id="text-1-2-5-1">
<p>
Adding signed and unsigned numbers works the same way.
</p>
<div class="org-src-container">

<pre class="src src-c++"><span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #6c3163; font-weight: bold;">add</span><span style="color: #3a81c3;">(</span><span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">a</span>, <span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">b</span><span style="color: #3a81c3;">){</span>
  <span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">sum</span> = a ^ b;
  <span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">carry</span> = <span style="color: #6c3163;">(</span>a &amp; b<span style="color: #6c3163;">)</span> &lt;&lt; <span style="color: #4e3163;">1</span>;
  <span style="color: #3a81c3; font-weight: bold;">return</span> carry == <span style="color: #4e3163;">0</span> ? sum : add<span style="color: #6c3163;">(</span>sum, carry<span style="color: #6c3163;">)</span>;
<span style="color: #3a81c3;">}</span>
</pre>
</div>
</div></li>
<li><a id="orgheadline14"></a>Multiply<br  /><div class="outline-text-5" id="text-1-2-5-2">
<p>
Here we use bit shift to perform multiplying or dividing by 2.
</p>

<p>
In calculating \(a\times b\), 
</p>
<ul class="org-ul">
<li>If \(b = \pm 1\), we are done</li>
<li>If \(b = 2k\), then \(a\times b = 2a \times {b\over2}\)</li>
<li>If \(b = 2k + 1\), then \(a\times b = a + 2a\times {b\over 2}\)</li>
</ul>

<div class="org-src-container">

<pre class="src src-c++"><span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #6c3163; font-weight: bold;">multiply</span><span style="color: #3a81c3;">(</span><span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">a</span>, <span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">b</span><span style="color: #3a81c3;">){</span>
  <span style="color: #3a81c3; font-weight: bold;">if</span><span style="color: #6c3163;">(</span>b == <span style="color: #4e3163;">1</span><span style="color: #6c3163;">)</span> <span style="color: #3a81c3; font-weight: bold;">return</span> a;
  <span style="color: #3a81c3; font-weight: bold;">if</span><span style="color: #6c3163;">(</span>b == -<span style="color: #4e3163;">1</span><span style="color: #6c3163;">)</span> <span style="color: #3a81c3; font-weight: bold;">return</span> -a;
  <span style="color: #3a81c3; font-weight: bold;">if</span><span style="color: #6c3163;">(</span>b &amp; <span style="color: #4e3163;">1</span><span style="color: #6c3163;">)</span> <span style="color: #3a81c3; font-weight: bold;">return</span> add<span style="color: #6c3163;">(</span>a, multiply<span style="color: #2d9574;">(</span>a &lt;&lt; <span style="color: #4e3163;">1</span>, b &gt;&gt; <span style="color: #4e3163;">1</span><span style="color: #2d9574;">)</span><span style="color: #6c3163;">)</span>;
  <span style="color: #3a81c3; font-weight: bold;">else</span> <span style="color: #3a81c3; font-weight: bold;">return</span> multiply<span style="color: #6c3163;">(</span>a &lt;&lt; <span style="color: #4e3163;">1</span>, b &gt;&gt; <span style="color: #4e3163;">1</span><span style="color: #6c3163;">)</span>;
<span style="color: #3a81c3;">}</span>
</pre>
</div>
</div></li>
<li><a id="orgheadline15"></a>Divide \(a / b\)<br  /><div class="outline-text-5" id="text-1-2-5-3">
<p>
The basic idea is to find the largest \(k\) such that \(b \cdot 2^k \le a\), then recursively reduce \(a\) until \(a < b\).
\[{a\over b} = 2^k + {a - b\cdot 2^k \over b}\]
</p>

<p>
There is a frequent bug about left shifting: if <code>a = bin(10...0)</code> and <code>b = 1</code>, then left shifting \(b\) will never get a larger value than \(a\) due to overflow.
</p>

<div class="org-src-container">

<pre class="src src-c++"><span style="color: #ba2f59; font-weight: bold;">unsigned</span> <span style="color: #6c3163; font-weight: bold;">divide</span><span style="color: #3a81c3;">(</span><span style="color: #ba2f59; font-weight: bold;">unsigned</span> <span style="color: #715ab1;">a</span>, <span style="color: #ba2f59; font-weight: bold;">unsigned</span> <span style="color: #715ab1;">b</span><span style="color: #3a81c3;">){</span>
  <span style="color: #3a81c3; font-weight: bold;">if</span><span style="color: #6c3163;">(</span>a &lt; b<span style="color: #6c3163;">)</span> <span style="color: #3a81c3; font-weight: bold;">return</span> <span style="color: #4e3163;">0</span>;
  <span style="color: #2aa1ae; background-color: #ecf3ec;">// </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Find the largest k such that b * 2^k &lt;= a</span>
  <span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">k</span> = <span style="color: #4e3163;">0</span>;
  <span style="color: #3a81c3; font-weight: bold;">while</span><span style="color: #6c3163;">(</span><span style="color: #2d9574;">(</span>b &lt;&lt; k<span style="color: #2d9574;">)</span> &lt; a<span style="color: #6c3163;">)</span> ++k;
  <span style="color: #3a81c3; font-weight: bold;">if</span><span style="color: #6c3163;">(</span><span style="color: #2d9574;">(</span>b &lt;&lt; k<span style="color: #2d9574;">)</span> &gt; a<span style="color: #6c3163;">)</span> --k;

  a = add<span style="color: #6c3163;">(</span>a, -<span style="color: #2d9574;">(</span>b &lt;&lt; k<span style="color: #2d9574;">)</span><span style="color: #6c3163;">)</span>;
  <span style="color: #3a81c3; font-weight: bold;">return</span> add<span style="color: #6c3163;">(</span><span style="color: #4e3163;">1</span> &lt;&lt; k, divide<span style="color: #2d9574;">(</span>a, b<span style="color: #2d9574;">)</span><span style="color: #6c3163;">)</span>;
<span style="color: #3a81c3;">}</span>
</pre>
</div>
</div></li></ol>
</div>
</div>
<div id="outline-container-orgheadline39" class="outline-3">
<h3 id="orgheadline39"><span class="section-number-3">1.3</span> String and Array</h3>
<div class="outline-text-3" id="text-1-3">
</div><div id="outline-container-orgheadline20" class="outline-4">
<h4 id="orgheadline20"><span class="section-number-4">1.3.1</span> Two pointers</h4>
<div class="outline-text-4" id="text-1-3-1">
</div><ol class="org-ol"><li><a id="orgheadline18"></a>Check if a string is palindromic<br  /><div class="outline-text-5" id="text-1-3-1-1">
<div class="org-src-container">

<pre class="src src-c++"><span style="color: #ba2f59; font-weight: bold;">bool</span> <span style="color: #6c3163; font-weight: bold;">isPalindromic</span><span style="color: #3a81c3;">(</span><span style="color: #3a81c3; font-weight: bold;">const</span> <span style="color: #ba2f59; font-weight: bold;">string</span> <span style="color: #715ab1;">s</span><span style="color: #3a81c3;">){</span>
  <span style="color: #3a81c3; font-weight: bold;">if</span><span style="color: #6c3163;">(</span>s.empty<span style="color: #2d9574;">()</span><span style="color: #6c3163;">)</span> <span style="color: #3a81c3; font-weight: bold;">return</span> <span style="color: #4e3163;">true</span>;
  <span style="color: #3a81c3; font-weight: bold;">for</span><span style="color: #6c3163;">(</span><span style="color: #ba2f59; font-weight: bold;">size_t</span> <span style="color: #715ab1;">i</span> = <span style="color: #4e3163;">0</span>, <span style="color: #715ab1;">j</span> = s.size<span style="color: #2d9574;">()</span> - <span style="color: #4e3163;">1</span>; i &lt; j; ++i, --j<span style="color: #6c3163;">){</span>
    <span style="color: #3a81c3; font-weight: bold;">if</span><span style="color: #2d9574;">(</span>s<span style="color: #67b11d;">[</span>i<span style="color: #67b11d;">]</span> != s<span style="color: #67b11d;">[</span>j<span style="color: #67b11d;">]</span><span style="color: #2d9574;">)</span> <span style="color: #3a81c3; font-weight: bold;">return</span> <span style="color: #4e3163;">false</span>;
  <span style="color: #6c3163;">}</span>
  <span style="color: #3a81c3; font-weight: bold;">return</span> <span style="color: #4e3163;">true</span>;
<span style="color: #3a81c3;">}</span>
</pre>
</div>
</div></li>

<li><a id="orgheadline19"></a>Find the longest palindromic substring<br  /><div class="outline-text-5" id="text-1-3-1-2">
<p>
For each position, using two pointers to search for palindromic strings centered at this position.
</p>
</div></li></ol>
</div>
<div id="outline-container-orgheadline22" class="outline-4">
<h4 id="orgheadline22"><span class="section-number-4">1.3.2</span> Recursion</h4>
<div class="outline-text-4" id="text-1-3-2">
</div><ol class="org-ol"><li><a id="orgheadline21"></a>Longest substring with at least k repeated chars<br  /><div class="outline-text-5" id="text-1-3-2-1">
<p>
<b>Question</b>: find the length of the longest substring \(T\) such that every char in \(T\) appears at least \(k\) times.
</p>
<ul class="org-ul">
<li>Mark all chars in the string that appears less than \(k\) times. These chars cannot be in any solution.</li>
<li>For each substring split by these chars, recursively solve it.</li>
</ul>
</div></li></ol>
</div>

<div id="outline-container-orgheadline27" class="outline-4">
<h4 id="orgheadline27"><span class="section-number-4">1.3.3</span> Running Maximum</h4>
<div class="outline-text-4" id="text-1-3-3">
</div><ol class="org-ol"><li><a id="orgheadline23"></a>Buy and sell stock once<br  /><div class="outline-text-5" id="text-1-3-3-1">
<p>
<b>Question</b>: given an array of stock prices, supposing you can buy and sell one share, find the max profit
</p>
<div class="org-src-container">

<pre class="src src-c++"><span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #6c3163; font-weight: bold;">maxProfit</span><span style="color: #3a81c3;">(</span><span style="color: #ba2f59; font-weight: bold;">vector</span><span style="color: #6c3163;">&lt;</span><span style="color: #ba2f59; font-weight: bold;">int</span><span style="color: #6c3163;">&gt;</span>&amp; <span style="color: #715ab1;">prices</span><span style="color: #3a81c3;">){</span>
  <span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">lowest</span> = INT_MAX; <span style="color: #2aa1ae; background-color: #ecf3ec;">// </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Running min of stock price</span>
  <span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">maxProfit</span> = <span style="color: #4e3163;">0</span>; <span style="color: #2aa1ae; background-color: #ecf3ec;">// </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Running max of profit</span>
  <span style="color: #3a81c3; font-weight: bold;">for</span><span style="color: #6c3163;">(</span><span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">p</span> : prices<span style="color: #6c3163;">){</span>
    lowest = min<span style="color: #2d9574;">(</span>p, lowest<span style="color: #2d9574;">)</span>;
    maxProfit = max<span style="color: #2d9574;">(</span>maxProfit, p - lowest<span style="color: #2d9574;">)</span>;
  <span style="color: #6c3163;">}</span>
  <span style="color: #3a81c3; font-weight: bold;">return</span> maxProfit;
<span style="color: #3a81c3;">}</span>
</pre>
</div>
</div></li>

<li><a id="orgheadline24"></a>Buy and sell stock twice<br  /><div class="outline-text-5" id="text-1-3-3-2">
<p>
You can buy and sell at most twice, but one transaction in a day.
</p>
<div class="org-src-container">

<pre class="src src-c++"><span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #6c3163; font-weight: bold;">buy_and_sell_twice</span><span style="color: #3a81c3;">(</span><span style="color: #ba2f59; font-weight: bold;">vector</span><span style="color: #6c3163;">&lt;</span><span style="color: #ba2f59; font-weight: bold;">int</span><span style="color: #6c3163;">&gt;</span> <span style="color: #715ab1;">prices</span><span style="color: #3a81c3;">){</span>
  <span style="color: #3a81c3; font-weight: bold;">if</span><span style="color: #6c3163;">(</span>prices.empty<span style="color: #2d9574;">()</span><span style="color: #6c3163;">)</span> <span style="color: #3a81c3; font-weight: bold;">return</span> <span style="color: #4e3163;">0</span>;
  <span style="color: #3a81c3; font-weight: bold;">const</span> <span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">N</span> = prices.size<span style="color: #6c3163;">()</span>;
  <span style="color: #ba2f59; font-weight: bold;">vector</span><span style="color: #6c3163;">&lt;</span><span style="color: #ba2f59; font-weight: bold;">int</span><span style="color: #6c3163;">&gt;</span> <span style="color: #715ab1;">forwardP</span> <span style="color: #6c3163;">(</span>N, <span style="color: #4e3163;">0</span><span style="color: #6c3163;">)</span>;
  <span style="color: #2aa1ae; background-color: #ecf3ec;">// </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Find the max profit sell at or before day i</span>
  <span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">runningMin</span> = INT_MAX, <span style="color: #715ab1;">maxP</span> = <span style="color: #4e3163;">0</span>;
  <span style="color: #3a81c3; font-weight: bold;">for</span><span style="color: #6c3163;">(</span><span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">i</span> = <span style="color: #4e3163;">1</span>; i &lt; N; ++i<span style="color: #6c3163;">){</span>
    runningMin = min<span style="color: #2d9574;">(</span>runningMin, prices<span style="color: #67b11d;">[</span>i<span style="color: #67b11d;">]</span><span style="color: #2d9574;">)</span>;
    maxP = max<span style="color: #2d9574;">(</span>maxP, prices<span style="color: #67b11d;">[</span>i<span style="color: #67b11d;">]</span> - runningMin<span style="color: #2d9574;">)</span>;
    forwardP<span style="color: #2d9574;">[</span>i<span style="color: #2d9574;">]</span> = maxP;
  <span style="color: #6c3163;">}</span>
  <span style="color: #2aa1ae; background-color: #ecf3ec;">// </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Find the profit buy at or after day i</span>
  <span style="color: #ba2f59; font-weight: bold;">vector</span><span style="color: #6c3163;">&lt;</span><span style="color: #ba2f59; font-weight: bold;">int</span><span style="color: #6c3163;">&gt;</span> <span style="color: #715ab1;">backwardP</span> <span style="color: #6c3163;">(</span><span style="color: #ba2f59; font-weight: bold;">N</span>, <span style="color: #4e3163;">0</span><span style="color: #6c3163;">)</span>;
  <span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">runningMax</span> = INT_MIN;
  maxP = <span style="color: #4e3163;">0</span>;
  <span style="color: #3a81c3; font-weight: bold;">for</span><span style="color: #6c3163;">(</span><span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">i</span> = N - <span style="color: #4e3163;">1</span>; i &gt;= <span style="color: #4e3163;">0</span>; --i<span style="color: #6c3163;">){</span>
    runningMax = max<span style="color: #2d9574;">(</span>runningMax, prices<span style="color: #67b11d;">[</span>i<span style="color: #67b11d;">]</span><span style="color: #2d9574;">)</span>;
    maxP = max<span style="color: #2d9574;">(</span>maxP, runningMax - prices<span style="color: #67b11d;">[</span>i<span style="color: #67b11d;">]</span><span style="color: #2d9574;">)</span>;
    backwardP<span style="color: #2d9574;">[</span>i<span style="color: #2d9574;">]</span> = maxP;
  <span style="color: #6c3163;">}</span>
  <span style="color: #2aa1ae; background-color: #ecf3ec;">// </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Find the max profit that sell at or before day i-1 and buy at or after day i</span>
  runningMax = backwardP<span style="color: #6c3163;">[</span><span style="color: #4e3163;">0</span><span style="color: #6c3163;">]</span>; <span style="color: #2aa1ae; background-color: #ecf3ec;">// </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Cannot sell at day 0</span>
  <span style="color: #3a81c3; font-weight: bold;">for</span><span style="color: #6c3163;">(</span><span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">i</span> = <span style="color: #4e3163;">1</span>; i &lt; N; ++i<span style="color: #6c3163;">){</span>
    runningMax = max<span style="color: #2d9574;">(</span>runningMax, forwardP<span style="color: #67b11d;">[</span>i - <span style="color: #4e3163;">1</span><span style="color: #67b11d;">]</span> + backwardP<span style="color: #67b11d;">[</span>i<span style="color: #67b11d;">]</span><span style="color: #2d9574;">)</span>;
  <span style="color: #6c3163;">}</span>
  <span style="color: #3a81c3; font-weight: bold;">return</span> runningMax;
<span style="color: #3a81c3;">}</span>
</pre>
</div>
</div></li>
<li><a id="orgheadline25"></a>Longest substring without repeating char<br  /><div class="outline-text-5" id="text-1-3-3-3">
<div class="org-src-container">

<pre class="src src-c++"><span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #6c3163; font-weight: bold;">lengthOfLongestSubstring</span><span style="color: #3a81c3;">(</span><span style="color: #ba2f59; font-weight: bold;">string</span> <span style="color: #715ab1;">s</span><span style="color: #3a81c3;">){</span>
  <span style="color: #ba2f59; font-weight: bold;">vector</span><span style="color: #6c3163;">&lt;</span><span style="color: #ba2f59; font-weight: bold;">int</span><span style="color: #6c3163;">&gt;</span> <span style="color: #715ab1;">lastOccurrence</span> <span style="color: #6c3163;">(</span><span style="color: #4e3163;">256</span>, -<span style="color: #4e3163;">1</span><span style="color: #6c3163;">)</span>;
  <span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">lastDup</span> = -<span style="color: #4e3163;">1</span>;
  <span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">maxL</span> = <span style="color: #4e3163;">0</span>; <span style="color: #2aa1ae; background-color: #ecf3ec;">// </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Running max length of substring [lastDup + 1, i]</span>
  <span style="color: #3a81c3; font-weight: bold;">for</span><span style="color: #6c3163;">(</span><span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">i</span> = <span style="color: #4e3163;">0</span>; i &lt; s.size<span style="color: #2d9574;">()</span>; ++i<span style="color: #6c3163;">){</span>
    <span style="color: #3a81c3; font-weight: bold;">if</span><span style="color: #2d9574;">(</span>lastOccurrence<span style="color: #67b11d;">[</span>s<span style="color: #b1951d;">[</span>i<span style="color: #b1951d;">]</span><span style="color: #67b11d;">]</span> &gt; lastDup<span style="color: #2d9574;">){</span>
      lastDup = lastOccurrence<span style="color: #67b11d;">[</span>s<span style="color: #b1951d;">[</span>i<span style="color: #b1951d;">]</span><span style="color: #67b11d;">]</span>;
    <span style="color: #2d9574;">}</span>
    maxL = max<span style="color: #2d9574;">(</span>maxL, i - lastDup<span style="color: #2d9574;">)</span>;
    lastOccurrence<span style="color: #2d9574;">[</span>s<span style="color: #67b11d;">[</span>i<span style="color: #67b11d;">]</span><span style="color: #2d9574;">]</span> = i;
  <span style="color: #6c3163;">}</span>
  <span style="color: #3a81c3; font-weight: bold;">return</span> maxL;
<span style="color: #3a81c3;">}</span>
</pre>
</div>
</div></li>
<li><a id="orgheadline26"></a>Jump Game<br  /><div class="outline-text-5" id="text-1-3-3-4">
<p>
Given an array of non-negative integers, you are initially positioned at index 0. Each element in the array represents your maximum jump at that position. Determine if you are able to reach the last index.
</p>
<div class="org-src-container">

<pre class="src src-c++"><span style="color: #ba2f59; font-weight: bold;">bool</span> <span style="color: #6c3163; font-weight: bold;">canJump</span><span style="color: #3a81c3;">(</span><span style="color: #ba2f59; font-weight: bold;">vector</span><span style="color: #6c3163;">&lt;</span><span style="color: #ba2f59; font-weight: bold;">int</span><span style="color: #6c3163;">&gt;</span>&amp; <span style="color: #715ab1;">nums</span><span style="color: #3a81c3;">)</span> <span style="color: #3a81c3;">{</span>
  <span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">maxIdx</span> = <span style="color: #4e3163;">0</span>;
  <span style="color: #3a81c3; font-weight: bold;">for</span><span style="color: #6c3163;">(</span><span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">i</span> = <span style="color: #4e3163;">0</span>; i &lt; nums.size<span style="color: #2d9574;">()</span>; ++i<span style="color: #6c3163;">){</span>
    <span style="color: #3a81c3; font-weight: bold;">if</span><span style="color: #2d9574;">(</span>maxIdx &gt;= i<span style="color: #2d9574;">){</span>
      maxIdx = max<span style="color: #67b11d;">(</span>maxIdx, nums<span style="color: #b1951d;">[</span>i<span style="color: #b1951d;">]</span> + i<span style="color: #67b11d;">)</span>;
    <span style="color: #2d9574;">}</span>
  <span style="color: #6c3163;">}</span>
  <span style="color: #3a81c3; font-weight: bold;">return</span> maxIdx + <span style="color: #4e3163;">1</span> &gt;= nums.size<span style="color: #6c3163;">()</span>;
<span style="color: #3a81c3;">}</span>
</pre>
</div>
</div></li></ol>
</div>

<div id="outline-container-orgheadline32" class="outline-4">
<h4 id="orgheadline32"><span class="section-number-4">1.3.4</span> Dynamic Programming</h4>
<div class="outline-text-4" id="text-1-3-4">
</div><ol class="org-ol"><li><a id="orgheadline28"></a>Longest increasing subsequence<br  /><div class="outline-text-5" id="text-1-3-4-1">
<p>
<b>Question</b>: Given an unsorted array \(A\), find the length of the longest increasing subsequence.
</p>
<ul class="org-ul">
<li>Let \(L_i\) denote the length of LIS that ended at (including) \(A_i\).</li>
<li>\(L_i = 1 + \max_{j<i} L_j \cdot(A_j < A_i)\)</li>
<li>Length of LIS is \(\max_i L_i\)</li>
</ul>
</div></li>

<li><a id="orgheadline29"></a>Word Break<br  /><div class="outline-text-5" id="text-1-3-4-2">
<p>
Given a string <code>s</code> and a set of words <code>vocabulary</code>, determine if the string can be segmented into words in the vocabulary.
</p>
<ul class="org-ul">
<li>For a string <code>wordsuffix</code>, if <code>suffix</code> is in the vocabulary, then <code>wordsuffix</code> is in the vocabulary if and only if <code>word</code> is in the vocabulary.</li>
</ul>
<div class="org-src-container">

<pre class="src src-c++"><span style="color: #ba2f59; font-weight: bold;">bool</span> <span style="color: #6c3163; font-weight: bold;">wordBreak</span><span style="color: #3a81c3;">(</span><span style="color: #ba2f59; font-weight: bold;">string</span> <span style="color: #715ab1;">s</span>, <span style="color: #ba2f59; font-weight: bold;">unordered_set</span><span style="color: #6c3163;">&lt;</span><span style="color: #ba2f59; font-weight: bold;">string</span><span style="color: #6c3163;">&gt;</span>&amp; <span style="color: #715ab1;">wordDict</span><span style="color: #3a81c3;">)</span> <span style="color: #3a81c3;">{</span>
  <span style="color: #3a81c3; font-weight: bold;">if</span><span style="color: #6c3163;">(</span>s.empty<span style="color: #2d9574;">()</span><span style="color: #6c3163;">)</span> <span style="color: #3a81c3; font-weight: bold;">return</span> <span style="color: #4e3163;">false</span>;
  <span style="color: #3a81c3; font-weight: bold;">auto</span> <span style="color: #ba2f59; font-weight: bold;">check</span> = <span style="color: #6c3163;">[</span>&amp;s, &amp;wordDict<span style="color: #6c3163;">](</span><span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">i1</span>, <span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">i2</span><span style="color: #6c3163;">){</span>
    <span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">cnt</span> = i2 - i1 + <span style="color: #4e3163;">1</span>;
    <span style="color: #3a81c3; font-weight: bold;">return</span> wordDict.count<span style="color: #2d9574;">(</span>s.substr<span style="color: #67b11d;">(</span>i1, cnt<span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span> &gt; <span style="color: #4e3163;">0</span>;
  <span style="color: #6c3163;">}</span>;

  <span style="color: #3a81c3; font-weight: bold;">const</span> <span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">N</span> = s.size<span style="color: #6c3163;">()</span>;
  <span style="color: #ba2f59; font-weight: bold;">vector</span><span style="color: #6c3163;">&lt;</span><span style="color: #ba2f59; font-weight: bold;">bool</span><span style="color: #6c3163;">&gt;</span> <span style="color: #715ab1;">canBreak</span> <span style="color: #6c3163;">(</span>N, <span style="color: #4e3163;">0</span><span style="color: #6c3163;">)</span>;
  <span style="color: #3a81c3; font-weight: bold;">for</span><span style="color: #6c3163;">(</span><span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">i</span> = <span style="color: #4e3163;">0</span>; i &lt; N; ++i<span style="color: #6c3163;">){</span>
    canBreak<span style="color: #2d9574;">[</span>i<span style="color: #2d9574;">]</span> = check<span style="color: #2d9574;">(</span><span style="color: #4e3163;">0</span>, i<span style="color: #2d9574;">)</span>;
    <span style="color: #3a81c3; font-weight: bold;">for</span><span style="color: #2d9574;">(</span><span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">j</span> = <span style="color: #4e3163;">1</span>; j &lt;= i; ++j<span style="color: #2d9574;">){</span>
      <span style="color: #3a81c3; font-weight: bold;">if</span><span style="color: #67b11d;">(</span>canBreak<span style="color: #b1951d;">[</span>j-<span style="color: #4e3163;">1</span><span style="color: #b1951d;">]</span> &amp;&amp; check<span style="color: #b1951d;">(</span>j, i<span style="color: #b1951d;">)</span><span style="color: #67b11d;">){</span>
        canBreak<span style="color: #b1951d;">[</span>i<span style="color: #b1951d;">]</span> = <span style="color: #4e3163;">true</span>;
        <span style="color: #3a81c3; font-weight: bold;">break</span>;
      <span style="color: #67b11d;">}</span>
    <span style="color: #2d9574;">}</span>
  <span style="color: #6c3163;">}</span>
  <span style="color: #3a81c3; font-weight: bold;">return</span> canBreak.back<span style="color: #6c3163;">()</span>;
<span style="color: #3a81c3;">}</span>
</pre>
</div>
</div></li>
<li><a id="orgheadline30"></a>Palindromic partitioning<br  /><div class="outline-text-5" id="text-1-3-4-3">
<p>
Given a string and find the min number of palindromic sub-strings that you can partition the string into.
</p>
</div></li>

<li><a id="orgheadline31"></a>Buy and sell stocks up to \(k\) times<br  /><div class="outline-text-5" id="text-1-3-4-4">
<p>
Given an array of stock prices, find the max profit by performing \(k\) buy-sell transactions. 
</p>

<p>
Define tables
</p>
<ul class="org-ul">
<li>\(B_{i,j}\): max money after performing j-th buy at day i</li>
<li>\(S_{i,j}\): max money after performing j-th sell at day i</li>

<li>Double recursion</li>
</ul>
<p>
\[ B_{i,j} = - p_i + \max_{i'<i} S_{i',j-1} \]
\[ S_{i,j} = p_i + \max_{i'<i} B_{i',j} \]
</p>
<ul class="org-ul">
<li>Starting condition</li>
</ul>
<p>
\[B_{0,j} = - p_0\]
\[S_{0,j} = 0\]
</p>
</div></li></ol>
</div>

<div id="outline-container-orgheadline34" class="outline-4">
<h4 id="orgheadline34"><span class="section-number-4">1.3.5</span> Hashing</h4>
<div class="outline-text-4" id="text-1-3-5">
</div><ol class="org-ol"><li><a id="orgheadline33"></a>strstr, Find the first occurrence of a substring<br  /><div class="outline-text-5" id="text-1-3-5-1">
<ul class="org-ul">
<li>Rabin-Karp algorithm is similar to the nested loop brute force algorithm, but it omits the inner loop by comparing the hash of the sliding-window substring in the text against the hash of the needle.</li>
<li>The hash function should be incremental for efficiency.</li>
<li>Rabin-Karp uses the 26-base numerical value as the hash.</li>
</ul>
</div></li></ol>
</div>

<div id="outline-container-orgheadline36" class="outline-4">
<h4 id="orgheadline36"><span class="section-number-4">1.3.6</span> Hash table</h4>
<div class="outline-text-4" id="text-1-3-6">
</div><ol class="org-ol"><li><a id="orgheadline35"></a>Find the first non-repeated char in a given string<br  /><div class="outline-text-5" id="text-1-3-6-1">
<div class="org-src-container">

<pre class="src src-c++"><span style="color: #ba2f59; font-weight: bold;">size_t</span> <span style="color: #6c3163; font-weight: bold;">firstNonreapt</span><span style="color: #3a81c3;">(</span><span style="color: #3a81c3; font-weight: bold;">const</span> <span style="color: #ba2f59; font-weight: bold;">string</span> <span style="color: #715ab1;">s</span><span style="color: #3a81c3;">){</span>
  assert<span style="color: #6c3163;">(</span><span style="color: #4e3163;">!</span>s.empty<span style="color: #2d9574;">()</span><span style="color: #6c3163;">)</span>;
  <span style="color: #3a81c3; font-weight: bold;">const</span> <span style="color: #ba2f59; font-weight: bold;">size_t</span> <span style="color: #715ab1;">maxSize</span> = ~<span style="color: #4e3163;">0U</span>;
  <span style="color: #ba2f59; font-weight: bold;">vector</span><span style="color: #6c3163;">&lt;</span><span style="color: #ba2f59; font-weight: bold;">size_t</span><span style="color: #6c3163;">&gt;</span> <span style="color: #715ab1;">firstOccurrence</span> <span style="color: #6c3163;">(</span><span style="color: #4e3163;">256</span>, maxSize<span style="color: #6c3163;">)</span>;
  <span style="color: #3a81c3; font-weight: bold;">for</span><span style="color: #6c3163;">(</span><span style="color: #ba2f59; font-weight: bold;">size_t</span> <span style="color: #715ab1;">i</span> = <span style="color: #4e3163;">0</span>; i &lt; s.size<span style="color: #2d9574;">()</span>; ++i<span style="color: #6c3163;">){</span>
    <span style="color: #3a81c3; font-weight: bold;">if</span><span style="color: #2d9574;">(</span>firstOccurrence<span style="color: #67b11d;">[</span>s<span style="color: #b1951d;">[</span>i<span style="color: #b1951d;">]</span><span style="color: #67b11d;">]</span> &lt; maxSize<span style="color: #2d9574;">)</span> firstOccurrence<span style="color: #2d9574;">[</span>s<span style="color: #67b11d;">[</span>i<span style="color: #67b11d;">]</span><span style="color: #2d9574;">]</span> = maxSize;
    <span style="color: #3a81c3; font-weight: bold;">else</span> firstOccurrence<span style="color: #2d9574;">[</span>s<span style="color: #67b11d;">[</span>i<span style="color: #67b11d;">]</span><span style="color: #2d9574;">]</span> = i;
  <span style="color: #6c3163;">}</span>
  <span style="color: #3a81c3; font-weight: bold;">return</span> * min_element<span style="color: #6c3163;">(</span>firstOccurrence.begin<span style="color: #2d9574;">()</span>, firstOccurrence.end<span style="color: #2d9574;">()</span><span style="color: #6c3163;">)</span>;
<span style="color: #3a81c3;">}</span>
</pre>
</div>
</div></li></ol>
</div>

<div id="outline-container-orgheadline38" class="outline-4">
<h4 id="orgheadline38"><span class="section-number-4">1.3.7</span> Greedy</h4>
<div class="outline-text-4" id="text-1-3-7">
</div><ol class="org-ol"><li><a id="orgheadline37"></a>Buy and sell stock unlimited times<br  /><div class="outline-text-5" id="text-1-3-7-1">
<p>
<b>Question</b>: Given an array of prices at day \(i\), find the max profit where you can only perform one transaction per day.
</p>
<ul class="org-ul">
<li>Buy at local minimum and sell at local maximum</li>
<li>Actually tracking the one-day difference is enough</li>
</ul>
<div class="org-src-container">

<pre class="src src-c++"><span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #6c3163; font-weight: bold;">maxProfit</span><span style="color: #3a81c3;">(</span><span style="color: #ba2f59; font-weight: bold;">vector</span><span style="color: #6c3163;">&lt;</span><span style="color: #ba2f59; font-weight: bold;">int</span><span style="color: #6c3163;">&gt;</span>&amp; <span style="color: #715ab1;">prices</span><span style="color: #3a81c3;">)</span> <span style="color: #3a81c3;">{</span>
  <span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">maxP</span> = <span style="color: #4e3163;">0</span>;
  <span style="color: #3a81c3; font-weight: bold;">for</span><span style="color: #6c3163;">(</span><span style="color: #ba2f59; font-weight: bold;">size_t</span> <span style="color: #715ab1;">i</span> = <span style="color: #4e3163;">0</span>; i + <span style="color: #4e3163;">1</span> &lt; prices.size<span style="color: #2d9574;">()</span>; ++i<span style="color: #6c3163;">){</span>
    maxP += max<span style="color: #2d9574;">(</span><span style="color: #4e3163;">0</span>, prices<span style="color: #67b11d;">[</span>i + <span style="color: #4e3163;">1</span><span style="color: #67b11d;">]</span> - prices<span style="color: #67b11d;">[</span>i<span style="color: #67b11d;">]</span><span style="color: #2d9574;">)</span>;
  <span style="color: #6c3163;">}</span>
  <span style="color: #3a81c3; font-weight: bold;">return</span> maxP;
<span style="color: #3a81c3;">}</span>
</pre>
</div>
</div></li></ol>
</div>
</div>

<div id="outline-container-orgheadline42" class="outline-3">
<h3 id="orgheadline42"><span class="section-number-3">1.4</span> In-place array manipulation</h3>
<div class="outline-text-3" id="text-1-4">
</div><div id="outline-container-orgheadline40" class="outline-4">
<h4 id="orgheadline40"><span class="section-number-4">1.4.1</span> Rotate an array</h4>
<div class="outline-text-4" id="text-1-4-1">
<p>
Given an array of size \(n\), rotate it by \(k\) positions
</p>
<div class="org-src-container">

<pre class="src src-c++"><span style="color: #ba2f59; font-weight: bold;">void</span> <span style="color: #6c3163; font-weight: bold;">rotate</span><span style="color: #3a81c3;">(</span><span style="color: #ba2f59; font-weight: bold;">vector</span><span style="color: #6c3163;">&lt;</span><span style="color: #ba2f59; font-weight: bold;">int</span><span style="color: #6c3163;">&gt;</span> &amp; <span style="color: #715ab1;">A</span>, <span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">k</span><span style="color: #3a81c3;">){</span>
  k %= A.size<span style="color: #6c3163;">()</span>;
  reverse<span style="color: #6c3163;">(</span>A.begin<span style="color: #2d9574;">()</span>, A.end<span style="color: #2d9574;">()</span><span style="color: #6c3163;">)</span>;
  reverse<span style="color: #6c3163;">(</span>A.begin<span style="color: #2d9574;">()</span>, A.begin<span style="color: #2d9574;">()</span> + k<span style="color: #6c3163;">)</span>;
  reverse<span style="color: #6c3163;">(</span>A.begin<span style="color: #2d9574;">()</span> + k, A.end<span style="color: #2d9574;">()</span><span style="color: #6c3163;">)</span>;
<span style="color: #3a81c3;">}</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgheadline41" class="outline-4">
<h4 id="orgheadline41"><span class="section-number-4">1.4.2</span> Pivotify</h4>
<div class="outline-text-4" id="text-1-4-2">
<p>
Maintain two pointers indicating the unclassified area. Each time either accept \(u_1\) as the left class, or swap it to the right class.
</p>

<div class="org-src-container">

<pre class="src src-c++"><span style="color: #ba2f59; font-weight: bold;">void</span> <span style="color: #6c3163; font-weight: bold;">pivotify3</span><span style="color: #3a81c3;">(</span><span style="color: #ba2f59; font-weight: bold;">vector</span><span style="color: #6c3163;">&lt;</span><span style="color: #ba2f59; font-weight: bold;">int</span><span style="color: #6c3163;">&gt;</span> &amp; <span style="color: #715ab1;">xx</span>, <span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">pivot</span><span style="color: #3a81c3;">){</span>
  <span style="color: #2aa1ae; background-color: #ecf3ec;">/* </span><span style="color: #2aa1ae; background-color: #ecf3ec;">_______________________________________________________</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">    |__Smaller___|___Equal___|___Unclassified___|___Larger__|</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">                  e1          u1              u2</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">   */</span>
  <span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">e1</span> = <span style="color: #4e3163;">0</span>, <span style="color: #715ab1;">u1</span> = <span style="color: #4e3163;">0</span>, <span style="color: #715ab1;">u2</span> = xx.size<span style="color: #6c3163;">()</span> - <span style="color: #4e3163;">1</span>;
  <span style="color: #3a81c3; font-weight: bold;">while</span><span style="color: #6c3163;">(</span>u1 &lt;= u2<span style="color: #6c3163;">){</span>
    <span style="color: #3a81c3; font-weight: bold;">if</span><span style="color: #2d9574;">(</span>xx<span style="color: #67b11d;">[</span>u1<span style="color: #67b11d;">]</span> == pivot<span style="color: #2d9574;">){</span>
      ++u1;
    <span style="color: #2d9574;">}</span><span style="color: #3a81c3; font-weight: bold;">else</span> <span style="color: #3a81c3; font-weight: bold;">if</span><span style="color: #2d9574;">(</span>xx<span style="color: #67b11d;">[</span>u1<span style="color: #67b11d;">]</span> &lt; pivot<span style="color: #2d9574;">){</span>
      swap<span style="color: #67b11d;">(</span>xx<span style="color: #b1951d;">[</span>e1++<span style="color: #b1951d;">]</span>, xx<span style="color: #b1951d;">[</span>u1++<span style="color: #b1951d;">]</span><span style="color: #67b11d;">)</span>;
    <span style="color: #2d9574;">}</span><span style="color: #3a81c3; font-weight: bold;">else</span><span style="color: #2d9574;">{</span>
      swap<span style="color: #67b11d;">(</span>xx<span style="color: #b1951d;">[</span>u1<span style="color: #b1951d;">]</span>, xx<span style="color: #b1951d;">[</span>u2--<span style="color: #b1951d;">]</span><span style="color: #67b11d;">)</span>;
    <span style="color: #2d9574;">}</span>
  <span style="color: #6c3163;">}</span>
<span style="color: #3a81c3;">}</span>

<span style="color: #ba2f59; font-weight: bold;">void</span> <span style="color: #6c3163; font-weight: bold;">pivotify2</span><span style="color: #3a81c3;">(</span><span style="color: #ba2f59; font-weight: bold;">vector</span><span style="color: #6c3163;">&lt;</span><span style="color: #ba2f59; font-weight: bold;">int</span><span style="color: #6c3163;">&gt;</span> &amp; <span style="color: #715ab1;">xx</span><span style="color: #3a81c3;">){</span>
  <span style="color: #3a81c3; font-weight: bold;">auto</span> <span style="color: #ba2f59; font-weight: bold;">isOdd</span> = <span style="color: #6c3163;">[</span>&amp;xx<span style="color: #6c3163;">](</span><span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">idx</span><span style="color: #6c3163;">){</span><span style="color: #3a81c3; font-weight: bold;">return</span> xx<span style="color: #2d9574;">[</span>idx<span style="color: #2d9574;">]</span> % <span style="color: #4e3163;">2</span> != <span style="color: #4e3163;">0</span>;<span style="color: #6c3163;">}</span>;
  <span style="color: #2aa1ae; background-color: #ecf3ec;">/* </span><span style="color: #2aa1ae; background-color: #ecf3ec;">In-place arrange an array into two groups</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">     ________________________________________</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">     |__Odd_____|__Unclassified___|____Even__|</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">                 u1             u2</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">   */</span>
  <span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">u1</span> = <span style="color: #4e3163;">0</span>, <span style="color: #715ab1;">u2</span> = xx.size<span style="color: #6c3163;">()</span> - <span style="color: #4e3163;">1</span>;
  <span style="color: #3a81c3; font-weight: bold;">while</span><span style="color: #6c3163;">(</span>u1 &lt;= u2<span style="color: #6c3163;">){</span>
    <span style="color: #3a81c3; font-weight: bold;">if</span><span style="color: #2d9574;">(</span>isOdd<span style="color: #67b11d;">(</span>u1<span style="color: #67b11d;">)</span><span style="color: #2d9574;">){</span>
      ++u1;
    <span style="color: #2d9574;">}</span><span style="color: #3a81c3; font-weight: bold;">else</span><span style="color: #2d9574;">{</span>
      swap<span style="color: #67b11d;">(</span>xx<span style="color: #b1951d;">[</span>u1<span style="color: #b1951d;">]</span>, xx<span style="color: #b1951d;">[</span>u2--<span style="color: #b1951d;">]</span><span style="color: #67b11d;">)</span>;
    <span style="color: #2d9574;">}</span>
  <span style="color: #6c3163;">}</span>
<span style="color: #3a81c3;">}</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline44" class="outline-3">
<h3 id="orgheadline44"><span class="section-number-3">1.5</span> Randomization</h3>
<div class="outline-text-3" id="text-1-5">
</div><div id="outline-container-orgheadline43" class="outline-4">
<h4 id="orgheadline43"><span class="section-number-4">1.5.1</span> Reservoir sampling</h4>
<div class="outline-text-4" id="text-1-5-1">
<p>
Given a large list containing \(n\) items, where \(n\) is unknown or very large. Reservoir sampling randomly pick one item.
</p>
<div class="org-src-container">

<pre class="src src-c++"><span style="color: #ba2f59; font-weight: bold;">T</span> <span style="color: #715ab1;">sample</span>;
<span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">N</span> = <span style="color: #4e3163;">0</span>;
<span style="color: #3a81c3; font-weight: bold;">for</span><span style="color: #3a81c3;">(</span><span style="color: #ba2f59; font-weight: bold;">T</span> <span style="color: #715ab1;">x</span> : xx<span style="color: #3a81c3;">){</span>
  ++N;
  <span style="color: #3a81c3; font-weight: bold;">if</span><span style="color: #6c3163;">(</span>rand<span style="color: #2d9574;">()</span> % N == <span style="color: #4e3163;">0</span><span style="color: #6c3163;">)</span> sample = x;
<span style="color: #3a81c3;">}</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline49" class="outline-3">
<h3 id="orgheadline49"><span class="section-number-3">1.6</span> Binary Heap</h3>
<div class="outline-text-3" id="text-1-6">
</div><div id="outline-container-orgheadline48" class="outline-4">
<h4 id="orgheadline48"><span class="section-number-4">1.6.1</span> Data Structure of Heap</h4>
<div class="outline-text-4" id="text-1-6-1">
</div><ol class="org-ol"><li><a id="orgheadline45"></a>Properties<br  /><div class="outline-text-5" id="text-1-6-1-1">
<ul class="org-ul">
<li>Max heap property: <code>node &gt;= children</code></li>
<li>Complete binary tree; only right leaves can be missing</li>
<li>For node \(i\):
<ul class="org-ul">
<li>Left child: \(2i+1\)</li>
<li>Right child: \(2i+2\)</li>
<li>Parent: \((i-1)/2\)</li>
</ul></li>
<li>For heap size \(N\):
<ul class="org-ul">
<li>height of the tree: \(\log_2 N + 1\)</li>
<li>First leaf: \(N /2\)</li>
</ul></li>
</ul>
</div></li>
<li><a id="orgheadline46"></a>Operations<br  /><div class="outline-text-5" id="text-1-6-1-2">
<ul class="org-ul">
<li>Extract max: swap root with the rightmost leaf, and then sink the root down.</li>
<li>Insert: append to the bottom and float it up.</li>
<li>Heapify: sink the root down until it obeys the heap property</li>
<li>Build heap from an array: for each \(i\) from \(N/2\) down to \(0\), heapify node \(i\).</li>
<li>Heap sort: swap root with tail while shrinking heap size and heapifing the new root, until heap size reaches 1.</li>
</ul>
</div></li>
<li><a id="orgheadline47"></a>STL implementation<br  /><div class="outline-text-5" id="text-1-6-1-3">
<div class="org-src-container">

<pre class="src src-c++"><span style="color: #ba2f59; font-weight: bold;">vector</span><span style="color: #3a81c3;">&lt;</span><span style="color: #ba2f59; font-weight: bold;">int</span><span style="color: #3a81c3;">&gt;</span> <span style="color: #715ab1;">data</span> = <span style="color: #3a81c3;">{</span><span style="color: #4e3163;">4</span>,<span style="color: #4e3163;">2</span>,<span style="color: #4e3163;">9</span>,<span style="color: #4e3163;">8</span>,<span style="color: #4e3163;">1</span><span style="color: #3a81c3;">}</span>;

<span style="color: #ba2f59; font-weight: bold;">priority_queue</span><span style="color: #3a81c3;">&lt;</span><span style="color: #ba2f59; font-weight: bold;">int</span><span style="color: #3a81c3;">&gt;</span> <span style="color: #715ab1;">maxHeap</span>;
<span style="color: #3a81c3; font-weight: bold;">for</span><span style="color: #3a81c3;">(</span><span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">x</span> : data<span style="color: #3a81c3;">)</span> maxHeap.push<span style="color: #3a81c3;">(</span>x<span style="color: #3a81c3;">)</span>;
assert<span style="color: #3a81c3;">(</span>maxHeap.top<span style="color: #6c3163;">()</span> == <span style="color: #4e3163;">9</span><span style="color: #3a81c3;">)</span>;

priority_queue&lt;<span style="color: #ba2f59; font-weight: bold;">int</span>, <span style="color: #ba2f59; font-weight: bold;">vector</span><span style="color: #3a81c3;">&lt;</span><span style="color: #ba2f59; font-weight: bold;">int</span><span style="color: #3a81c3;">&gt;</span>, greater&lt;<span style="color: #ba2f59; font-weight: bold;">int</span>&gt;&gt; minHeap;
<span style="color: #3a81c3; font-weight: bold;">for</span><span style="color: #3a81c3;">(</span><span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">x</span> : data<span style="color: #3a81c3;">)</span> minHeap.push<span style="color: #3a81c3;">(</span>x<span style="color: #3a81c3;">)</span>;
assert<span style="color: #3a81c3;">(</span>minHeap.top<span style="color: #6c3163;">()</span> == <span style="color: #4e3163;">1</span><span style="color: #3a81c3;">)</span>;
</pre>
</div>
</div></li></ol>
</div>
</div>

<div id="outline-container-orgheadline53" class="outline-3">
<h3 id="orgheadline53"><span class="section-number-3">1.7</span> Binary Tree</h3>
<div class="outline-text-3" id="text-1-7">
</div><div id="outline-container-orgheadline52" class="outline-4">
<h4 id="orgheadline52"><span class="section-number-4">1.7.1</span> Data Structures</h4>
<div class="outline-text-4" id="text-1-7-1">
</div><ol class="org-ol"><li><a id="orgheadline50"></a>BST properties<br  /><div class="outline-text-5" id="text-1-7-1-1">
<ul class="org-ul">
<li><span class="underline">all nodes in left subtree</span> &lt; <span class="underline">root</span> &lt; <span class="underline">all nodes in right subtree</span></li>
</ul>
</div></li>
<li><a id="orgheadline51"></a>Operations<br  /><div class="outline-text-5" id="text-1-7-1-2">
<ul class="org-ul">
<li>Insert: 
<ul class="org-ul">
<li>If root is NULL, replace the root with newly created node</li>
<li>If root is larger, recursively insert it to the left child</li>
<li>If root is smaller, recursively insert it to the right child</li>
</ul></li>
<li>Search: similar to insert</li>
<li>Delete a node:
<ul class="org-ul">
<li>If the node has no child, just delete</li>
<li>If the node has one child, replace it with its chidlren</li>
<li>If the node has two children, recursively replace the root with its in-order predecessor and delete the predecessor, until it reaches one of the above two base cases.</li>
</ul></li>
</ul>
</div></li></ol>
</div>
</div>

<div id="outline-container-orgheadline71" class="outline-3">
<h3 id="orgheadline71"><span class="section-number-3">1.8</span> Dynamic Programming (DP)</h3>
<div class="outline-text-3" id="text-1-8">
</div><div id="outline-container-orgheadline54" class="outline-4">
<h4 id="orgheadline54"><span class="section-number-4">1.8.1</span> Ideas</h4>
<div class="outline-text-4" id="text-1-8-1">
<ul class="org-ul">
<li>Multi-stage optimization: the decisions we make at some point are influenced by the decisions we made earlier.</li>
<li>The word "programming" in here means a way of tabulation.</li>
<li>Similar to Divide-and-Conquer but with overlapping subproblems.</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline57" class="outline-4">
<h4 id="orgheadline57"><span class="section-number-4">1.8.2</span> Longest Common Subsequence (LCS)</h4>
<div class="outline-text-4" id="text-1-8-2">
<p>
Given a sequence \(X = (x_1, x_2, \dots, x_m)\), where each \(x_i\) is an element of some alphabet, another sequence \(Z = (z_1, z_2, \dots, z_k)\) is a <b>subsequence</b> of \(X\) if there exists a strictly increasing sequence \((i_1, i_2, \dots, i_k)\) of indices of \(X\) such that for all \(j = 1,2,\dots, k\) we have \(x_{i_j} = z_j\). In the longest common subsequence problem, we are given two sequences \(X\) and \(Y\), and we wish to find a maximum length common subsequence of \(X\) and \(Y\).
</p>
</div>

<ol class="org-ol"><li><a id="orgheadline55"></a>Optimal substructure<br  /><div class="outline-text-5" id="text-1-8-2-1">
<p>
Let \(X, Y\) be sequences and \(Z\) be a LCS of \(X\) and \(Y\).
</p>
<ul class="org-ul">
<li>If \(x_m = y_n\), then \(z_k = x_m = y_n\) and \(Z_{k-1}\) is an LCS of \(X_{m-1}\) and \(Y_{n-1}\).</li>
<li>IF \(x_m\ne y_n\) and \(z_k\ne x_m\), then \(Z\) is LCS of \(X_{m-1}\) and \(Y\).</li>
<li>IF \(x_m\ne y_n\) and \(z_k\ne y_n\), then \(Z\) is LCS of \(X\) and \(Y_{n-1}\).</li>
</ul>
</div></li>

<li><a id="orgheadline56"></a>Recursive formula<br  /><div class="outline-text-5" id="text-1-8-2-2">
<p>
Define \(c[i,j]\) to be the length of an LCS of the sequence \(X_i\) and \(Y_j\). 
\[ c[i,j] =  \begin{cases} 
    0 & \mbox{if $i = 0$ or $j = 0$} \\
    c[i-1, j-1] + 1 & \mbox{if $i, j >0$ and $x_i = y_j$} \\ 
    \max\big(c[i, j-1], c[i-1,j] \big) & \mbox{if $i,j>0$ and $x_i\ne y_j$}
  \end{cases} 
\]
</p>
</div></li></ol>
</div>
<div id="outline-container-orgheadline60" class="outline-4">
<h4 id="orgheadline60"><span class="section-number-4">1.8.3</span> Minimum Edit Distance</h4>
<div class="outline-text-4" id="text-1-8-3">
<p>
Given two string \(A\) and \(B\), we find the minimum number of edits (substitution, insertion, deletion) to transform \(A\) to \(B\).
</p>
</div>
<ol class="org-ol"><li><a id="orgheadline58"></a>Optimal substructure<br  /><div class="outline-text-5" id="text-1-8-3-1">
<ul class="org-ul">
<li>If \(A_m = B_n\), then we can ignore their last characters.</li>
<li>If \(A_m \neq B_n\), then we need to consider pair \((A_{m-1}, B_n)\) and \((A_m, B_{n-1})\)</li>
</ul>
</div></li>
<li><a id="orgheadline59"></a>Recursive formula<br  /><div class="outline-text-5" id="text-1-8-3-2">
<p>
Let \(D[m,n]\) denote the min edit distance of string \(A_{0\dots m}\) and \(B_{0\dots n}\)
</p>
<ul class="org-ul">
<li>If \(A_m = B_n\), then \(D[m,n] = D[m - 1, n - 1]\)</li>
<li>If \(A_m \neq B_n\), then</li>
</ul>
<p>
\[ D[m,n] = 1 + \min \begin{cases}
  D[m - 1, n - 1] & \mbox{substitute} A_m \\
  D[m, n - 1] & \mbox{delete} A_m\\
  D[m - 1, n] & \mbox{insert} A_m
\end{cases}
\]
</p>
</div></li></ol>
</div>

<div id="outline-container-orgheadline62" class="outline-4">
<h4 id="orgheadline62"><span class="section-number-4">1.8.4</span> Combination Sum</h4>
<div class="outline-text-4" id="text-1-8-4">
<p>
Given a set of numbers \(a_i\), find the number of combinations of \(a_i\) (allowing duplicates) that sum to a target \(T\).
</p>
</div>
<ol class="org-ol"><li><a id="orgheadline61"></a>Optimal substructure<br  /><div class="outline-text-5" id="text-1-8-4-1">
<ul class="org-ul">
<li>If there is one combination that contains \(a_n\), then the combination is a solution to the subproblem up to \(a_n\) with sum \(T - a_n\).</li>
<li>If no combination contains \(a_n\), then these combinations are solution to the subproblem up to \(a_{n-1}\) with sum \(T\).</li>
</ul>
</div></li></ol>
</div>

<div id="outline-container-orgheadline65" class="outline-4">
<h4 id="orgheadline65"><span class="section-number-4">1.8.5</span> <span class="todo TODO">TODO</span> Optimal binary search tree</h4>
<div class="outline-text-4" id="text-1-8-5">
<p>
Given probability of accessing each node \(k_i\) in the BST, we want to minimize total cost \(\sum_{i=1}^n p_i (\mbox{depth}_T(k_i) + 1)\)
</p>
</div>
<ol class="org-ol"><li><a id="orgheadline63"></a>Optimal substructure<br  /><div class="outline-text-5" id="text-1-8-5-1">
<p>
To determine the optimal BST is to determine the root in each subtree. 
</p>
<ul class="org-ul">
<li>Let \(k_r\) be the root of optimal BST containing \((k_1, k_2, \dots, k_n)\) (sorted), then the left subtree containing \((k_1, k_2, \dots, k_{r-1})\) and the right subtree \((k_{r+1}, \dots, k_n)\) must also be optimal.</li>
</ul>
</div></li>

<li><a id="orgheadline64"></a>Recursive formula<br  /><div class="outline-text-5" id="text-1-8-5-2">
<p>
Denote \(M[i,j]\) as the total cost of accessing optimal BST containing \((k_i, \dots, k_j)\). 
\[ M[i,j] = \]
</p>
</div></li></ol>
</div>

<div id="outline-container-orgheadline66" class="outline-4">
<h4 id="orgheadline66"><span class="section-number-4">1.8.6</span> <span class="todo TODO">TODO</span> Rod-cutting</h4>
</div>

<div id="outline-container-orgheadline67" class="outline-4">
<h4 id="orgheadline67"><span class="section-number-4">1.8.7</span> <span class="todo TODO">TODO</span> Matrix-chain multiplication</h4>
</div>

<div id="outline-container-orgheadline70" class="outline-4">
<h4 id="orgheadline70"><span class="section-number-4">1.8.8</span> 0-1 knapsack problem</h4>
<div class="outline-text-4" id="text-1-8-8">
<p>
Given the value \(v_i\) and weight \(w_i\) for each of \(n\) items and a knapsack of capacity \(W\) pounds, find the items that can fit in the knapsack and maximize total value.
</p>
</div>
<ol class="org-ol"><li><a id="orgheadline68"></a>Optimal substructure<br  /><div class="outline-text-5" id="text-1-8-8-1">
<p>
Assume \(S\) is the optimal selection of capacity \(W\) and up to item \(k\).
</p>
<ul class="org-ul">
<li>If \(k \in S\), then \(S\setminus k\) must be optimal to subproblem with capacity \(W - w_k\) up to item \(k-1\).</li>
<li>If \(k \not\in S\), then \(S\) must be optimal to subproblem with capacity \(W\) up to item \(k-1\).</li>
</ul>
</div></li>

<li><a id="orgheadline69"></a>Recursive formula<br  /><div class="outline-text-5" id="text-1-8-8-2">
<p>
Denote \(V[k, w]\) as the value of the optimal solution to the first \(k\) items with constraint of weight \(w\). 
\[ V[k, w] = \begin{cases} 
  0 & \mbox{if $k=0$}\\
  V[k-1, w] & \mbox{if $k\ne0$ and $w_k > w$} \\
  \max\big( V[k-1, w], V[k-1, w-w_k] + v_k \big) & \mbox{otherwise}
\end{cases}\]
</p>
</div></li></ol>
</div>
</div>

<div id="outline-container-orgheadline96" class="outline-3">
<h3 id="orgheadline96"><span class="section-number-3">1.9</span> Graph</h3>
<div class="outline-text-3" id="text-1-9">
</div><div id="outline-container-orgheadline83" class="outline-4">
<h4 id="orgheadline83"><span class="section-number-4">1.9.1</span> Traversing a graph</h4>
<div class="outline-text-4" id="text-1-9-1">
</div><ol class="org-ol"><li><a id="orgheadline74"></a>BFS (Breath-first search)<br  /><ol class="org-ol"><li><a id="orgheadline72"></a>Algorithm implemented with a queue<br  /><div class="outline-text-6" id="text-1-9-1-1-1">
<ol class="org-ol">
<li>Initialization. Color all vertices as <b>white</b> and setup an empty queue</li>
<li>Push the source \(u\) into the queue.</li>
<li>While the queue is not empty, pull one vertex \(v\) from it, push all $v$'s <b>white</b> neighbors (which are marked <b>gray</b> after being enqueued) into the queue, and mark \(v\) as <b>black</b>.</li>
</ol>
</div></li>

<li><a id="orgheadline73"></a>Properties of BFS<br  /><div class="outline-text-6" id="text-1-9-1-1-2">
<ul class="org-ul">
<li>Running time \(O(V + E)\)</li>
<li>BFS expands the frontier between discovered and undiscovered vertices uniformly across the breadth of the frontier.</li>
<li>It discovers all vertices at distance \(k\) from the source before discovering any vertex at distance \(k+1\).</li>
<li>BFS tree = shortest-path tree</li>
</ul>
</div></li></ol></li>

<li><a id="orgheadline78"></a>DFS (Depth-first search)<br  /><ol class="org-ol"><li><a id="orgheadline75"></a>Algorithm implemented with a stack<br  /><div class="outline-text-6" id="text-1-9-1-2-1">
<p>
Change the queue to stack in BFS.
</p>
</div></li>

<li><a id="orgheadline76"></a>Recursive algorithm<br  /><div class="outline-text-6" id="text-1-9-1-2-2">
<pre class="example">
DFS(v){
    v.is_discovered = True
    For each edge {v, u} in v.Adj {
        if u.is_discovered == False {
            DFS(u)
        }
    }
}
</pre>
</div></li>

<li><a id="orgheadline77"></a>Properties of DFS<br  /><div class="outline-text-6" id="text-1-9-1-2-3">
<ul class="org-ul">
<li>Running time \(O(E+V)\)</li>
<li>DFS recursively explores edges out of the most recently discovered vertex \(v\) that still has unexplored out-edges. Once all of $v$'s edges have been explored, DFS <b>backtracks</b> to previous vertices.</li>
<li>DFS timestamps each vertex with discovery and finish time.</li>
<li>In DFS, discovery and finishing times have parenthesis property.</li>
<li>Edge partitions with DFS: tree edges, forward edges, backward edges, cross edges.</li>
</ul>
</div></li></ol></li>

<li><a id="orgheadline82"></a>Applications of DFS<br  /><ol class="org-ol"><li><a id="orgheadline79"></a>Topological sort<br  /><div class="outline-text-6" id="text-1-9-1-3-1">
<ul class="org-ul">
<li>Only a DAG (Directed Acyclic Graph) can be sorted.</li>
<li>All edges go forward in a topologically sorted graph.</li>
<li>Algorithm: Starting with an empty list, DFS a graph. When a node finished, put the node at the <b>head</b> of the list.</li>
<li>Running time: \(O(E+V)\)</li>
</ul>
</div></li>

<li><a id="orgheadline80"></a>Strongly Connected Components (SCC)<br  /><div class="outline-text-6" id="text-1-9-1-3-2">
<p>
Algorithm:
</p>
<ol class="org-ol">
<li>DFS(\(G^T\)) to get finishing times.</li>
<li>Let v be the vertex in \(G\) with largest finishing time.</li>
<li>Run DFS\((v)\) in \(G\) to define an SCC \(C\) of all nodes found in this
DFS.</li>
<li>Delete \(C\) from \(G\).</li>
<li>Repeat from (1) until \(G\) is empty</li>

<li>Two vertices \(u\) and \(v\) are equivalent if \(u\) is reachable from \(v\) and \(v\) is reachable from \(u\).</li>
<li>SCC: a maximal set in which every pair of vertices are equivalent.</li>
<li>Running time: \(O(E+V)\)</li>
<li>The node with largest finishing time is in a source SCC.</li>
</ol>
</div></li>

<li><a id="orgheadline81"></a>Other applications<br  /><div class="outline-text-6" id="text-1-9-1-3-3">
<ul class="org-ul">
<li>If a directed graph has a backward edge in DFS, then it is not DAG.</li>
</ul>
</div></li></ol></li></ol>
</div>

<div id="outline-container-orgheadline89" class="outline-4">
<h4 id="orgheadline89"><span class="section-number-4">1.9.2</span> Shortest paths</h4>
<div class="outline-text-4" id="text-1-9-2">
</div><ol class="org-ol"><li><a id="orgheadline84"></a>Types of shortest path<br  /><div class="outline-text-5" id="text-1-9-2-1">
<ul class="org-ul">
<li><b>Single source</b>: the shortest paths from source \(v\) to all other nodes.</li>
<li><b>Single pair</b>: find the shortest path from \(u\) to \(v\).</li>
<li><b>All pairs</b>: find the shortest path from \(u\) to \(v\) for every edge \(u\to v\).</li>
</ul>
</div></li>

<li><a id="orgheadline85"></a>Bellman-Ford Algorithm (single source)<br  /><div class="outline-text-5" id="text-1-9-2-2">
<ul class="org-ul">
<li>Define \(M[u,k]\) as the length of the shortest path from \(v\) to \(u\) with at most \(k\) edges.</li>
<li>Dynamic programming recurrence:
<ul class="org-ul">
<li>\(M[u, k] = 0\), if \(u=v, k=0\)</li>
<li>\(M[u, k] = \infty\), if \(u\ne v, k=0\)</li>
<li>\(M[u, k] = \displaystyle\min_{w\to u \in E} \bigg(M[w, k-1] + len(w\to u) \bigg)\), otherwise.</li>
</ul></li>
</ul>
</div></li>

<li><a id="orgheadline86"></a>Relaxation<br  /><div class="outline-text-5" id="text-1-9-2-3">
<ul class="org-ul">
<li>Define \(d(x)\) as an upper bound on its distance from the source.</li>
<li>Relaxation is the process of narrowing this upper bound.</li>
<li><b>Relax\((x,y)\)</b>: if \(d(y) > d(x) + len(x,y)\), then \(d(y) = d(x) +
   len(x,y)\) and \(y\).parent \(= x\).</li>
</ul>
</div></li>

<li><a id="orgheadline87"></a>Dijkstra's Algorithm (single source)<br  /><div class="outline-text-5" id="text-1-9-2-4">
<ul class="org-ul">
<li>does not work if there are negative edges</li>
<li>a greedy algorithm.</li>
<li>start from empty, maintain and grow it to shortest path tree.</li>

<li>\(T = \emptyset\)</li>
<li>Set \(d(v) = 0\), where \(v\) is the source. Set all other vertices \(d(u)  = \infty\)</li>
<li>While not all nodes in \(T\)
<ol class="org-ol">
<li>Let \(u\) be node with minimum \(d(u)\)</li>
<li>Add \(u\) to \(T\)</li>
<li>For each edge \(u\to x\) with \(x\not\in T\), relax\((u,x)\)</li>
</ol></li>
</ul>
</div></li>

<li><a id="orgheadline88"></a>Floyd-Warshall Algorithm (all pairs)<br  /></li></ol>
</div>

<div id="outline-container-orgheadline94" class="outline-4">
<h4 id="orgheadline94"><span class="section-number-4">1.9.3</span> Minimum spanning tree (MST)</h4>
<div class="outline-text-4" id="text-1-9-3">
</div><ol class="org-ol"><li><a id="orgheadline91"></a>Generic greedy<br  /><div class="outline-text-5" id="text-1-9-3-1">
<ul class="org-ul">
<li>Suppose \(A\) is a subset of a MST. Edge \(uv\) is <b>safe</b> for \(A\) if \(A\cup uv\) is also a subset of a MST.</li>
<li>A <b>cut</b> \((S,\overline{S})\) is a partition of \(V\) into two pieces.</li>
<li>An edge <b>crosses</b> the cut if one of its endpoints is in \(S\) and the other one not in \(S\).</li>
<li>Given a set of edges \(A\), a cut <b>respects</b> \(A\) if no edge in \(A\) crosses the cut.</li>
<li>An edge \(e\) is a <b>light edge</b> crossing a cut if it crosses the cut and has minimum weight.</li>
<li>Let \(A\subseteq E\) be a subset of a MST, let \((S,\overline{S})\) be a cut respecting \(A\), and let \(e\) be a light edge crossing \((S, \overline{S})\). Then \(e\) is safe for \(A\).</li>
</ul>
</div>

<ol class="org-ol"><li><a id="orgheadline90"></a>Generic-MST<br  /><div class="outline-text-6" id="text-1-9-3-1-1">
<ol class="org-ol">
<li>\(A = \emptyset\)</li>
<li>While \(A\) is not a spanning tree, find an edge \(uv\) that is safe for \(A\) and add it to \(A\).</li>
<li>Return \(A\)</li>
</ol>
</div></li></ol></li>

<li><a id="orgheadline92"></a>Prim's Algorithm<br  /><div class="outline-text-5" id="text-1-9-3-2">
<ul class="org-ul">
<li>start with a node, maintain a tree and grow it to spanning.</li>

<li>\(A = \emptyset\)</li>
<li>Let \(u\) be an arbitrary node, and let \(S = \{u\}\).</li>
<li>While \(A\) is not a spanning tree, find an light edge \(xy\) of \((S,\overline{S})\) with \(x\in S\) and \(y\not\in S\). Set \(A = A\cup \{xy\}\) and \(S = S\cup y\).</li>
<li>Return \(A\)</li>
</ul>
</div></li>

<li><a id="orgheadline93"></a>Kruskal's Algorithm<br  /><div class="outline-text-5" id="text-1-9-3-3">
<ul class="org-ul">
<li>maintain a forest and stop when the forest becomes a tree.</li>
<li>pure greedy.</li>
<li>Running time: \(O(m \log m)\)</li>

<li>\(A = \emptyset\).</li>
<li>Sort the edges not in \(A\) by weight in ascending order.</li>
<li>For each edge \(e\) in this order, if \(A\cup e\) has no cycles, add \(e\) to \(A\).</li>
<li>Return \(A\)</li>
</ul>
</div></li></ol>
</div>

<div id="outline-container-orgheadline95" class="outline-4">
<h4 id="orgheadline95"><span class="section-number-4">1.9.4</span> Maximum flow</h4>
</div>
</div>

<div id="outline-container-orgheadline100" class="outline-3">
<h3 id="orgheadline100"><span class="section-number-3">1.10</span> Greedy Algorithms</h3>
<div class="outline-text-3" id="text-1-10">
</div><div id="outline-container-orgheadline97" class="outline-4">
<h4 id="orgheadline97"><span class="section-number-4">1.10.1</span> Matroid</h4>
<div class="outline-text-4" id="text-1-10-1">
<ul class="org-ul">
<li>Let \(U\) be a universe of elements and \(I\) be a collection of subsets of \(U\). Then \((U, I)\) is a <b>matroid</b> if the following three properties hold:
<ol class="org-ol">
<li>\(\emptyset \in I\)</li>
<li>If \(F \in I\) and \(F'\subseteq F\), then \(F'\in I\)</li>
<li><b>Augmentation property</b>: If \(F_1\in I\) and \(F_2\in I\) with \(|F_2| > |F_1|\), then there is some element \(e\in F_2\setminus F_1\) such that \(F_1 \cup e \in I\).</li>
</ol></li>

<li>If \(F_1\in I\) and \(F_2\in I\) are both maximal, then \(|F_1| = |F_2|\).</li>
<li>The size of maximal independent set is known as the <b>rank</b> of a matroid.</li>
<li>An <b>independence oracle</b> is an algorithm which, when given a set \(S\subseteq U\), tells us whether \(S\in I\).</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline98" class="outline-4">
<h4 id="orgheadline98"><span class="section-number-4">1.10.2</span> Greedy algorithm</h4>
<div class="outline-text-4" id="text-1-10-2">
<p>
Greedy algorithm applies to any matroid.
</p>
<ol class="org-ol">
<li>Initialize \(F = \emptyset\).</li>
<li>Sort \(U\) by weight from largest to smallest.</li>
<li>Consider the elements in sorted order. For each element \(e\), add it to \(F\) if \(F\cup e\) is independent.</li>
</ol>
</div>
</div>

<div id="outline-container-orgheadline99" class="outline-4">
<h4 id="orgheadline99"><span class="section-number-4">1.10.3</span> Applications</h4>
<div class="outline-text-4" id="text-1-10-3">
<ul class="org-ul">
<li>Applied to forest: Kruskal's Algorithm.</li>
</ul>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline104" class="outline-2">
<h2 id="orgheadline104"><span class="section-number-2">2</span> Special Algorithms</h2>
<div class="outline-text-2" id="text-2">
</div><div id="outline-container-orgheadline102" class="outline-3">
<h3 id="orgheadline102"><span class="section-number-3">2.1</span> Index mapping</h3>
<div class="outline-text-3" id="text-2-1">
<ul class="org-ul">
<li>Reverse: <code>N - 1 - i</code></li>
<li>Wiggle: <code>(2 * i + 1) % (N | 1)</code></li>
</ul>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<tbody>
<tr>
<td class="org-left">i</td>
<td class="org-right">0</td>
<td class="org-right">1</td>
<td class="org-right">2</td>
<td class="org-right">3</td>
<td class="org-right">4</td>
<td class="org-right">5</td>
<td class="org-right">6</td>
</tr>

<tr>
<td class="org-left">wiggle</td>
<td class="org-right">1</td>
<td class="org-right">3</td>
<td class="org-right">5</td>
<td class="org-right">0</td>
<td class="org-right">2</td>
<td class="org-right">4</td>
<td class="org-right">6</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orgheadline103" class="outline-3">
<h3 id="orgheadline103"><span class="section-number-3">2.2</span> Scan line</h3>
</div>
</div>

<div id="outline-container-orgheadline126" class="outline-2">
<h2 id="orgheadline126"><span class="section-number-2">3</span> Distributed Systems</h2>
<div class="outline-text-2" id="text-3">
</div><div id="outline-container-orgheadline107" class="outline-3">
<h3 id="orgheadline107"><span class="section-number-3">3.1</span> Network</h3>
<div class="outline-text-3" id="text-3-1">
</div><div id="outline-container-orgheadline105" class="outline-4">
<h4 id="orgheadline105"><span class="section-number-4">3.1.1</span> 7 layers of the OSI model (Open System Interconnection)</h4>
<div class="outline-text-4" id="text-3-1-1">
<ul class="org-ul">
<li>1. Physical layer: conveys bit stream through the network at the electrical level.</li>
<li>2. Data Link layer: at data link layer, packets are encoded and decoded into bits.</li>
<li>3. Network layer: provides switching and routing, creating logical virtual paths for data transmission.</li>
<li>4. Transport layer:</li>
<li>5. Session layer: establishes, manages, and terminates connections between applications.</li>
<li>6. Presentation layer: provides independence from data representation</li>
<li>7. Application Layer: provides host to host communication services for applications</li>
</ul>
</div>
</div>


<div id="outline-container-orgheadline106" class="outline-4">
<h4 id="orgheadline106"><span class="section-number-4">3.1.2</span> Physical devices</h4>
<div class="outline-text-4" id="text-3-1-2">
<dl class="org-dl">
<dt>Router</dt><dd><ul class="org-ul">
<li>Router forwards data packets along networks.</li>
<li>Router is connected to at least two networks.</li>
</ul></dd>
<dt>Switch</dt><dd><ul class="org-ul">
<li>Switch filters and forwards packets between LAN segments.</li>
</ul></dd>
</dl>
</div>
</div>
</div>



<div id="outline-container-orgheadline108" class="outline-3">
<h3 id="orgheadline108"><span class="section-number-3">3.2</span> Point-to-Point Protocols and Links</h3>
<div class="outline-text-3" id="text-3-2">
<ul class="org-ul">
<li>Data Link Control (DLC): the point-to-point protocols needed to control the passage of data over a communication link.</li>
<li>To an extent, the combination of modem, physical link and modem appears to higher layers as a virtual bit pipe.</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline112" class="outline-3">
<h3 id="orgheadline112"><span class="section-number-3">3.3</span> ARQ (Automatic Repeat reQuest)</h3>
<div class="outline-text-3" id="text-3-3">
<p>
ARQ is an error-control method for data transmission that uses acknowledgments and timeouts to achieve reliable data transmission over an <span class="underline">unreliable</span> service.
</p>
</div>
<div id="outline-container-orgheadline109" class="outline-4">
<h4 id="orgheadline109"><span class="section-number-4">3.3.1</span> Stop-and-wait ARQ</h4>
</div>
<div id="outline-container-orgheadline110" class="outline-4">
<h4 id="orgheadline110"><span class="section-number-4">3.3.2</span> Go-back-N ARQ</h4>
</div>
<div id="outline-container-orgheadline111" class="outline-4">
<h4 id="orgheadline111"><span class="section-number-4">3.3.3</span> Selective Repeat ARQ</h4>
</div>
</div>

<div id="outline-container-orgheadline114" class="outline-3">
<h3 id="orgheadline114"><span class="section-number-3">3.4</span> Socket Programming</h3>
<div class="outline-text-3" id="text-3-4">
</div><div id="outline-container-orgheadline113" class="outline-4">
<h4 id="orgheadline113"><span class="section-number-4">3.4.1</span> Socket</h4>
<div class="outline-text-4" id="text-3-4-1">
<ul class="org-ul">
<li>socket: one end of an interprocess communication channel</li>
<li>Address domain:
<ul class="org-ul">
<li>Unix domain, in which two processes share a common file system.</li>
<li>Internet domain, in which two processes running on any two hosts over the internet.</li>
</ul></li>
<li>Address of a socket in internet domain consists of IP address (32 bits) and port number (16 bits)</li>
<li>Two common socket types:
<ul class="org-ul">
<li><b>stream</b> sockets treat communications as a continuous stream of characters</li>
<li><b>datagram</b> sockets have to read entire messages at once.</li>
</ul></li>
<li>Protocols
<ul class="org-ul">
<li><b>UDP</b>: User Datagram Protocol. Short message; unreliable, connectionless.</li>
<li><b>TCP</b>: Transmission Control Protocol. Long streams of data; deliver the same order as sent; connection oriented.</li>
</ul></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgheadline119" class="outline-3">
<h3 id="orgheadline119"><span class="section-number-3">3.5</span> Consensus problem</h3>
<div class="outline-text-3" id="text-3-5">
</div><div id="outline-container-orgheadline115" class="outline-4">
<h4 id="orgheadline115"><span class="section-number-4">3.5.1</span> Failure</h4>
<div class="outline-text-4" id="text-3-5-1">
<ul class="org-ul">
<li>Crash (or Byzantine) failure: a process abruptly stops and does not resume.</li>
<li></li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline116" class="outline-4">
<h4 id="orgheadline116"><span class="section-number-4">3.5.2</span> Timing</h4>
<div class="outline-text-4" id="text-3-5-2">
<dl class="org-dl">
<dt>Synchronous</dt><dd><ul class="org-ul">
<li>Processes execute in lock-step</li>
<li>There is a known upper bound on message transmission delay.</li>
<li>Each process has an accurate clock</li>
</ul></dd>
<dt>Asynchronous</dt><dd><ul class="org-ul">
<li>Processes executes at independent rates</li>
<li>No bound on message transmission delay</li>
</ul></dd>
</dl>
</div>
</div>

<div id="outline-container-orgheadline117" class="outline-4">
<h4 id="orgheadline117"><span class="section-number-4">3.5.3</span> Consensus</h4>
<div class="outline-text-4" id="text-3-5-3">
<ul class="org-ul">
<li>The consensus problem requires agreement among a number of processes for a single data value.</li>
<li>Some of the processes may fail or be unreliable</li>
<li>The processes must put forth their candidate values, communicate with one another, and agree on a single consensus value.</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline118" class="outline-4">
<h4 id="orgheadline118"><span class="section-number-4">3.5.4</span> Requirements</h4>
<div class="outline-text-4" id="text-3-5-4">
<p>
A consensus protocol tolerating halting failures must satisfy
</p>
<ul class="org-ul">
<li>Termination: every correct process must decide some value</li>
<li>Validity: if all processes propose the same value, then all correct processes should decide that value</li>
<li>Integrity: every correct process must decide at most one value, and the value must have been proposed by some process</li>
<li>Agreement: every correct process must agree on the same value</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgheadline125" class="outline-3">
<h3 id="orgheadline125"><span class="section-number-3">3.6</span> Multicast</h3>
<div class="outline-text-3" id="text-3-6">
</div><div id="outline-container-orgheadline123" class="outline-4">
<h4 id="orgheadline123"><span class="section-number-4">3.6.1</span> Ordering</h4>
<div class="outline-text-4" id="text-3-6-1">
<ul class="org-ul">
<li>In a distributed system, message transmission delays is not negligible compared with time between events in a single process</li>
<li>Real physical time is not observable within the system</li>
<li>We extend <span class="underline">partial ordering</span> defined by "happened before" to a <span class="underline">consistent total ordering</span></li>
</ul>
</div>
<ol class="org-ol"><li><a id="orgheadline120"></a>Happened-before<br  /><div class="outline-text-5" id="text-3-6-1-1">
<ul class="org-ul">
<li>If \(a\) and \(b\) are in the same process and \(a\) comes before \(b\), then \(a\to b\)</li>
<li>For the same message \(m\), send(\(m\)) \(\to\) receive(\(m\))</li>
<li>Transitivity: \(a\to b\) and \(b\to c\) implies that \(a \to c\)</li>
<li>\(a\) and \(b\) are said to be concurrent if \(a\not \to b\) and \(b\not \to a\) (there exists no happened-before relationships)</li>
</ul>
</div></li>
<li><a id="orgheadline121"></a>Logical clock<br  /><div class="outline-text-5" id="text-3-6-1-2">
<ul class="org-ul">
<li>Clock: a clock is simply a way of assigning number to an event</li>
<li>Clock condition: if \(a\to b\), then \(C(a) < C(b)\). We cannot expect the converse to hold.</li>
</ul>
</div></li>

<li><a id="orgheadline122"></a>Types of ordering<br  /><div class="outline-text-5" id="text-3-6-1-3">
<ul class="org-ul">
<li>Reliable:</li>
<li>FIFO (Happened-before): messages are delivered in the order they were sent by any single sender</li>
<li>Causal: if send(a) &rarr; send(b), then deliver(a) &rarr; deliver(b) at common destinations.</li>
<li>Agreed (Total order): messages are delivered in the same order to all recipients (including the sender).</li>
<li>Safe Delivery: messages is delivered after received by all processes</li>
</ul>
</div></li></ol>
</div>

<div id="outline-container-orgheadline124" class="outline-4">
<h4 id="orgheadline124"><span class="section-number-4">3.6.2</span> Lamport Timestamps</h4>
<div class="outline-text-4" id="text-3-6-2">
<ul class="org-ul">
<li>provide a partial ordering of events with minimal overhead</li>
<li></li>
</ul>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline134" class="outline-2">
<h2 id="orgheadline134"><span class="section-number-2">4</span> Operating System</h2>
<div class="outline-text-2" id="text-4">
<ul class="org-ul">
<li>Task: sequence of instructions that operate as a group</li>
<li></li>
</ul>
</div>
<div id="outline-container-orgheadline127" class="outline-3">
<h3 id="orgheadline127"><span class="section-number-3">4.1</span> Process</h3>
<div class="outline-text-3" id="text-4-1">
<ul class="org-ul">
<li>A process is the operating system's abstraction for a running program</li>
<li>Processes provide the illusion that the program is the only one running on the system</li>
<li>Processes do NOT share memory by definition.</li>
<li>Each process has 
<ul class="org-ul">
<li>a virtual address space,</li>
<li>executable code</li>
<li>a unique process identifier</li>
<li>at least one thread of execution</li>
</ul></li>

<li>Each process is started with a single thread (primary thread), but can create additional threads from any of its threads.</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline128" class="outline-3">
<h3 id="orgheadline128"><span class="section-number-3">4.2</span> Thread</h3>
<div class="outline-text-3" id="text-4-2">
<ul class="org-ul">
<li>A thread is the entity within a process that can be scheduled for execution.</li>
<li>All threads of a process share virtual address space and system resources</li>
<li>Each thread maintains
<ul class="org-ul">
<li>exception handlers</li>
<li>thread local storage</li>
<li>a unique thread identifier</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline132" class="outline-3">
<h3 id="orgheadline132"><span class="section-number-3">4.3</span> Memory Hierarchy</h3>
<div class="outline-text-3" id="text-4-3">
</div><div id="outline-container-orgheadline129" class="outline-4">
<h4 id="orgheadline129"><span class="section-number-4">4.3.1</span> Cache line</h4>
<div class="outline-text-4" id="text-4-3-1">
<ul class="org-ul">
<li>Cache line: Data is transferred between memory and cache in blocks of fixed size (usually 64 bytes), called cache lines.</li>
<li>Cache entry: The cache entry includes the copied data as well as the requested memory location (called <b>tag</b>).</li>
<li>Memory address:
<ul class="org-ul">
<li>Tag:</li>
<li>Index: which cache line that the data has been put in.</li>
<li>Offset: 6 bits for 64 byte cache line; specifies the location of the 1-byte data within the cache line.</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline131" class="outline-4">
<h4 id="orgheadline131"><span class="section-number-4">4.3.2</span> Associativity</h4>
<div class="outline-text-4" id="text-4-3-2">
<ul class="org-ul">
<li>Direct map: each entry in the main memory can go in just one place in the cache.</li>
<li>Full associative:</li>
<li>N-way associative:</li>
</ul>
</div>
<ol class="org-ol"><li><a id="orgheadline130"></a>Associativity is a trade-off<br  /><div class="outline-text-5" id="text-4-3-2-1">
<ul class="org-ul">
<li>Caches with more associativity suffer fewer misses.</li>
<li>More associativity also means more places to check.</li>
</ul>
</div></li></ol>
</div>
</div>


<div id="outline-container-orgheadline133" class="outline-3">
<h3 id="orgheadline133"><span class="section-number-3">4.4</span> Mutex</h3>
</div>
</div>
<div id="outline-container-orgheadline147" class="outline-2">
<h2 id="orgheadline147"><span class="section-number-2">5</span> Parallel Computing</h2>
<div class="outline-text-2" id="text-5">
</div><div id="outline-container-orgheadline139" class="outline-3">
<h3 id="orgheadline139"><span class="section-number-3">5.1</span> Intro</h3>
<div class="outline-text-3" id="text-5-1">
</div><div id="outline-container-orgheadline135" class="outline-4">
<h4 id="orgheadline135"><span class="section-number-4">5.1.1</span> Amdahl's law</h4>
<div class="outline-text-4" id="text-5-1-1">
<ul class="org-ul">
<li>\(P\): Portion that can be optimized</li>
<li>\(S\): Speedup</li>
<li>Theoretical speedup: \[\frac{1}{(1 - P) + {P\over S}}\]</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline136" class="outline-4">
<h4 id="orgheadline136"><span class="section-number-4">5.1.2</span> 3 facts against parallelism</h4>
<div class="outline-text-4" id="text-5-1-2">
<ul class="org-ul">
<li>Startup costs associated with initializing processes</li>
<li>Interference: slowdown resulting from multiple processes accessing shared resources</li>
<li>Skew: not all tasks are broken down into the same size</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline137" class="outline-4">
<h4 id="orgheadline137"><span class="section-number-4">5.1.3</span> Multiple instruction, multiple data (MIMD)</h4>
<div class="outline-text-4" id="text-5-1-3">
<ul class="org-ul">
<li>Shared memory: all processes share a single address space and communicate by writing and reading <b>shared variables</b>.
<ul class="org-ul">
<li>SMP: symmetric multiprocessor</li>
<li>NUMA: Nonuniform memory access. To mitigate the effects of nonuniform memory access, each process has a cache and keeps it coherent.</li>
</ul></li>
<li>Distributed memory: each process has its own address space and communicates by <b>message passing</b>.
<ul class="org-ul">
<li>MPP: massively parallel processors; processors and network infrastructures are highly coupled and specialized for parallelism.</li>
<li>Cluster: off-the-shelf computers connected by off-the-shelf networks</li>
<li>Grids: distributed heterogeneous resources connected by LAN or WAN</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline138" class="outline-4">
<h4 id="orgheadline138"><span class="section-number-4">5.1.4</span> Task</h4>
<div class="outline-text-4" id="text-5-1-4">
<ul class="org-ul">
<li>Task: a sequence of instructions that operate together as a group.</li>
<li>UE (Unit of Execution): 
<ul class="org-ul">
<li>process: a collection of resources that enables the execution of program instructions</li>
<li>thread: a lightweight, fundamental UE</li>
</ul></li>
</ul>
</div>
</div>
</div>


<div id="outline-container-orgheadline140" class="outline-3">
<h3 id="orgheadline140"><span class="section-number-3">5.2</span> OpenMP</h3>
</div>

<div id="outline-container-orgheadline145" class="outline-3">
<h3 id="orgheadline145"><span class="section-number-3">5.3</span> CUDA</h3>
<div class="outline-text-3" id="text-5-3">
</div><div id="outline-container-orgheadline142" class="outline-4">
<h4 id="orgheadline142"><span class="section-number-4">5.3.1</span> Terminologies</h4>
<div class="outline-text-4" id="text-5-3-1">
<ul class="org-ul">
<li>CUDA: a parallel computing platform and API model created by Nvidia.</li>
<li>Host: CPU</li>
<li>Device: Graphical Processing Unit</li>
<li>Kernel: functions run on GPU device</li>
</ul>
</div>
<ol class="org-ol"><li><a id="orgheadline141"></a>Grid, block, and thread<br  /><div class="outline-text-5" id="text-5-3-1-1">
<ul class="org-ul">
<li>Block: each parallel invocation of a device function</li>
<li>Thread: a block can be split into parallel threads
<ul class="org-ul">
<li>Within a block, all threads can share data via shared memory (fast)</li>
<li>Declare using <code>__shared__</code> keyword</li>
<li><code>void __syncthreads();</code>: Synchronize all threads within a block.</li>
</ul></li>
</ul>
</div></li></ol>
</div>


<div id="outline-container-orgheadline143" class="outline-4">
<h4 id="orgheadline143"><span class="section-number-4">5.3.2</span> GPU Memory Model</h4>
<div class="outline-text-4" id="text-5-3-2">
<ul class="org-ul">
<li>Global memory: slow and uncached</li>
<li>Registers: fast; for variables defined in kernels.</li>
<li>Local memory: for what doesnt fit in registers, slow but cached</li>
<li>Shared memory: accessible by threads within the block</li>
<li>Texture memory: read only; cache optimized for 2D access.</li>
</ul>

<div class="figure">
<p><img src="./figures/CUDA/MemoryModel.png" alt="MemoryModel.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline144" class="outline-4">
<h4 id="orgheadline144"><span class="section-number-4">5.3.3</span> Syntax</h4>
<div class="outline-text-4" id="text-5-3-3">
<ul class="org-ul">
<li><code>__global__ function declaration</code>: the keyword indicates a function that runs on device and is called by from host code.</li>
<li><code>mykernel&lt;&lt;&lt; N_blocks, N_threads_per_block &gt;&gt;&gt;();</code> Triple angle brackets mark a call from host code to device code.</li>
<li>Host pointer cannot be dereferenced in device code; Device pointer cannot be dereferenced in host code.</li>
<li><code>blockIdx.x</code> and <code>threadIdx.x</code> give the index</li>
<li><code>blockDim.x</code> give the number of threads per block</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgheadline146" class="outline-3">
<h3 id="orgheadline146"><span class="section-number-3">5.4</span> OpenCL</h3>
</div>
</div>

<div id="outline-container-orgheadline184" class="outline-2">
<h2 id="orgheadline184"><span class="section-number-2">6</span> Java</h2>
<div class="outline-text-2" id="text-6">
</div><div id="outline-container-orgheadline155" class="outline-3">
<h3 id="orgheadline155"><span class="section-number-3">6.1</span> Java Basics</h3>
<div class="outline-text-3" id="text-6-1">
</div><div id="outline-container-orgheadline148" class="outline-4">
<h4 id="orgheadline148"><span class="section-number-4">6.1.1</span> About Java</h4>
<div class="outline-text-4" id="text-6-1-1">
<dl class="org-dl">
<dt>Platform</dt><dd>Any hardware or software environment in which a program runs is known as a platform. Java is also a platform since it has its own runtime environment and API.</dd>
<dt>Types of Java applications</dt><dd><ul class="org-ul">
<li>Standalone application: aka desktop or window based application; need to be installed on every machine.</li>
<li>Web application: an application that runs on the server side and creates dynamic page.</li>
<li>Enterprise application: is distributed in nature, such as banking applications.</li>
<li>Mobile application.</li>
</ul></dd>
<dt>JVM (Java Virtual Machine)</dt><dd>JVM is a specification of an abstract machine that provides runtime environment in which Java bytecode can be executed.</dd>
</dl>

<div class="figure">
<p><img src="./figures/Java/JVM.jpg" alt="JVM.jpg" />
</p>
</div>
<dl class="org-dl">
<dt>JRE (Java Runtime Environment)</dt><dd>JRE is the implementation of JVM and it provides runtime environment. JRE = JVM + libraries etc.</dd>
<dt>JDK (Java Development Kit)</dt><dd>JDK = JRE + development tools</dd>
</dl>
</div>
</div>

<div id="outline-container-orgheadline149" class="outline-4">
<h4 id="orgheadline149"><span class="section-number-4">6.1.2</span> Variable</h4>
<div class="outline-text-4" id="text-6-1-2">
<p>
A variable is name of reserved area allocated in memory.
</p>
</div>
</div>
<div id="outline-container-orgheadline150" class="outline-4">
<h4 id="orgheadline150"><span class="section-number-4">6.1.3</span> Three types of variables</h4>
<div class="outline-text-4" id="text-6-1-3">
<ul class="org-ul">
<li>local variable: declared inside a method.</li>
<li>instance variable: declared inside a class but outside the method.</li>
<li>static variable: declared as static; cannot be local.</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline151" class="outline-4">
<h4 id="orgheadline151"><span class="section-number-4">6.1.4</span> Data types</h4>
<div class="outline-text-4" id="text-6-1-4">

<div class="figure">
<p><img src="./figures/Java/DataType.jpg" alt="DataType.jpg" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline152" class="outline-4">
<h4 id="orgheadline152"><span class="section-number-4">6.1.5</span> What happens at runtime</h4>
<div class="outline-text-4" id="text-6-1-5">
<ol class="org-ol">
<li>Class file</li>
<li>Classloader: a subsystem of JRE that dynamically loads classes into JVM.</li>
<li>Bytecode verifier: the verifier checks that the instructions cannot perform actions that are obviously damaging.</li>
<li>Interpreter</li>
<li>Runtime</li>
<li>Hardware</li>
</ol>
</div>
</div>

<div id="outline-container-orgheadline153" class="outline-4">
<h4 id="orgheadline153"><span class="section-number-4">6.1.6</span> Comparison with C++</h4>
<div class="outline-text-4" id="text-6-1-6">
<ul class="org-ul">
<li>Call by value only.</li>
<li>No multiple inheritance</li>
<li>No virtual keyword (all non-static methods are virtual by default)</li>
<li>Supports unsigned right shift <code>&gt;&gt;&gt;</code> (padding zero for negative numbers)</li>
<li>Single inheritance tree; all classes are children of <code>Object</code></li>
<li>All values get initialized.</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline154" class="outline-4">
<h4 id="orgheadline154"><span class="section-number-4">6.1.7</span> Some keywords</h4>
<div class="outline-text-4" id="text-6-1-7">
<ul class="org-ul">
<li><code>strictfp</code>: restricts floating-point calculations to ensure portability.</li>
</ul>
</div>
</div>
</div>


<div id="outline-container-orgheadline165" class="outline-3">
<h3 id="orgheadline165"><span class="section-number-3">6.2</span> Object Oriented Java</h3>
<div class="outline-text-3" id="text-6-2">
</div><div id="outline-container-orgheadline156" class="outline-4">
<h4 id="orgheadline156"><span class="section-number-4">6.2.1</span> Inheritance</h4>
<div class="outline-text-4" id="text-6-2-1">
<ul class="org-ul">
<li>Whenever you create the instance of subclass, an instance of parent class is created implicitly (<code>super</code>)</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline157" class="outline-4">
<h4 id="orgheadline157"><span class="section-number-4">6.2.2</span> Static keyword</h4>
<div class="outline-text-4" id="text-6-2-2">
<p>
<code>static</code> is used for memory management mainly. 
</p>
<ul class="org-ul">
<li><b>Static variable</b> can be used to refer the common property of all objects and get memory only once in class area.</li>
<li><b>Static method</b> belongs to the class rather than an object. We cannot override static methods.</li>
<li><b>Static block</b> is executed in class loader</li>
</ul>
<div class="org-src-container">

<pre class="src src-java"><span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">Main</span> <span style="color: #3a81c3;">{</span>
    <span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #3a81c3; font-weight: bold;">static</span> <span style="color: #ba2f59; font-weight: bold;">void</span> <span style="color: #6c3163; font-weight: bold;">main</span><span style="color: #6c3163;">(</span><span style="color: #ba2f59; font-weight: bold;">String</span><span style="color: #2d9574;">[]</span> <span style="color: #715ab1;">args</span><span style="color: #6c3163;">)</span> <span style="color: #6c3163;">{</span>
        System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"main"</span><span style="color: #2d9574;">)</span>;
    <span style="color: #6c3163;">}</span>

    <span style="color: #3a81c3; font-weight: bold;">static</span><span style="color: #6c3163;">{</span>System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Called in class loading, before main()"</span><span style="color: #2d9574;">)</span>;<span style="color: #6c3163;">}</span>

<span style="color: #3a81c3;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline158" class="outline-4">
<h4 id="orgheadline158"><span class="section-number-4">6.2.3</span> Instance Initializer block</h4>
<div class="outline-text-4" id="text-6-2-3">
<div class="org-src-container">

<pre class="src src-java"><span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">SuperClass</span><span style="color: #3a81c3;">{</span>
    <span style="color: #6c3163; font-weight: bold;">SuperClass</span><span style="color: #6c3163;">(){</span>
        System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"super() called first"</span><span style="color: #2d9574;">)</span>;
    <span style="color: #6c3163;">}</span>
<span style="color: #3a81c3;">}</span>

<span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">SubClass</span> <span style="color: #3a81c3; font-weight: bold;">extends</span> <span style="color: #ba2f59; font-weight: bold;">SuperClass</span><span style="color: #3a81c3;">{</span>
    <span style="color: #6c3163; font-weight: bold;">SubClass</span><span style="color: #6c3163;">(){</span>
        System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Constructor of subclass called after initializer block"</span><span style="color: #2d9574;">)</span>;
    <span style="color: #6c3163;">}</span>

    <span style="color: #6c3163;">{</span>
        System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Initializer block called after super()"</span><span style="color: #2d9574;">)</span>;
    <span style="color: #6c3163;">}</span>
<span style="color: #3a81c3;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline159" class="outline-4">
<h4 id="orgheadline159"><span class="section-number-4">6.2.4</span> Final keyword</h4>
<div class="outline-text-4" id="text-6-2-4">
<p>
The <code>final</code> keyword is used to restrict users. 
</p>
<ul class="org-ul">
<li><b>final variable</b> is constant and can be initialized directly or in constructor only.</li>
</ul>
<div class="org-src-container">

<pre class="src src-java"><span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">Student</span><span style="color: #3a81c3;">{</span>
    <span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #3a81c3; font-weight: bold;">final</span> <span style="color: #ba2f59; font-weight: bold;">String</span> <span style="color: #715ab1;">name</span>;    
    <span style="color: #6c3163; font-weight: bold;">Student</span><span style="color: #6c3163;">(</span><span style="color: #ba2f59; font-weight: bold;">String</span> <span style="color: #715ab1;">name</span><span style="color: #6c3163;">){</span>
        <span style="color: #3a81c3; font-weight: bold;">this</span>.name = name;
    <span style="color: #6c3163;">}</span>

    <span style="color: #3a81c3; font-weight: bold;">static</span> <span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #3a81c3; font-weight: bold;">final</span> <span style="color: #ba2f59; font-weight: bold;">String</span> <span style="color: #715ab1;">school</span>;
    <span style="color: #3a81c3; font-weight: bold;">static</span> <span style="color: #6c3163;">{</span>
        school = <span style="color: #2d9574;">"No.1 middle school"</span>;
    <span style="color: #6c3163;">}</span>
<span style="color: #3a81c3;">}</span>
</pre>
</div>
<ul class="org-ul">
<li><b>final method</b> cannot be overridden</li>
<li><b>final class</b> cannot be extended</li>
<li><b>final parameter</b> of a function is constant</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline160" class="outline-4">
<h4 id="orgheadline160"><span class="section-number-4">6.2.5</span> Runtime polymorphism, or Dynamic method dispatch</h4>
<div class="outline-text-4" id="text-6-2-5">
<ul class="org-ul">
<li>A call to an overridden method is resolved at runtime rather than compile time.</li>
<li>Note that rumtime polymorphism cannot be achieved by data members.</li>
</ul>
<div class="org-src-container">

<pre class="src src-java"><span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">A</span> <span style="color: #3a81c3;">{</span>
    <span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #3a81c3; font-weight: bold;">static</span> <span style="color: #ba2f59; font-weight: bold;">void</span> <span style="color: #6c3163; font-weight: bold;">main</span><span style="color: #6c3163;">(</span><span style="color: #ba2f59; font-weight: bold;">String</span><span style="color: #2d9574;">[]</span> <span style="color: #715ab1;">args</span><span style="color: #6c3163;">){</span>
        <span style="color: #2aa1ae; background-color: #ecf3ec;">// </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Call subclass method even after up casting</span>
        <span style="color: #ba2f59; font-weight: bold;">Animal</span> <span style="color: #715ab1;">cat</span> = <span style="color: #3a81c3; font-weight: bold;">new</span> <span style="color: #ba2f59; font-weight: bold;">Cat</span><span style="color: #2d9574;">()</span>;
        <span style="color: #ba2f59; font-weight: bold;">Animal</span> <span style="color: #715ab1;">dog</span> = <span style="color: #3a81c3; font-weight: bold;">new</span> <span style="color: #ba2f59; font-weight: bold;">Dog</span><span style="color: #2d9574;">()</span>;
        cat.makeSound<span style="color: #2d9574;">()</span>;
        dog.makeSound<span style="color: #2d9574;">()</span>;
    <span style="color: #6c3163;">}</span>
<span style="color: #3a81c3;">}</span>

<span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">Animal</span> <span style="color: #3a81c3;">{</span>
    <span style="color: #ba2f59; font-weight: bold;">void</span> <span style="color: #6c3163; font-weight: bold;">makeSound</span><span style="color: #6c3163;">(){</span>
        System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"animal sound"</span><span style="color: #2d9574;">)</span>;
    <span style="color: #6c3163;">}</span>
<span style="color: #3a81c3;">}</span>

<span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">Cat</span> <span style="color: #3a81c3; font-weight: bold;">extends</span> <span style="color: #ba2f59; font-weight: bold;">Animal</span> <span style="color: #3a81c3;">{</span>
    <span style="color: #ba2f59; font-weight: bold;">void</span> <span style="color: #6c3163; font-weight: bold;">makeSound</span><span style="color: #6c3163;">(){</span>
        System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"meow"</span><span style="color: #2d9574;">)</span>;
    <span style="color: #6c3163;">}</span>
<span style="color: #3a81c3;">}</span>

<span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">Dog</span> <span style="color: #3a81c3; font-weight: bold;">extends</span> <span style="color: #ba2f59; font-weight: bold;">Animal</span> <span style="color: #3a81c3;">{</span>
    <span style="color: #ba2f59; font-weight: bold;">void</span> <span style="color: #6c3163; font-weight: bold;">makeSound</span><span style="color: #6c3163;">(){</span>
        System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"bark"</span><span style="color: #2d9574;">)</span>;
    <span style="color: #6c3163;">}</span>
<span style="color: #3a81c3;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline161" class="outline-4">
<h4 id="orgheadline161"><span class="section-number-4">6.2.6</span> Static binding and dynamic binding</h4>
<div class="outline-text-4" id="text-6-2-6">
<ul class="org-ul">
<li>Binding: connecting a method call to the method body</li>
<li>Static (early) binding: type of the object is determined at compile time by the compiler</li>
</ul>
<div class="org-src-container">

<pre class="src src-java"><span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">A</span> <span style="color: #3a81c3;">{</span>
    <span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #3a81c3; font-weight: bold;">static</span> <span style="color: #ba2f59; font-weight: bold;">void</span> <span style="color: #6c3163; font-weight: bold;">main</span><span style="color: #6c3163;">(</span><span style="color: #ba2f59; font-weight: bold;">String</span><span style="color: #2d9574;">[]</span> <span style="color: #715ab1;">args</span><span style="color: #6c3163;">){</span>
        <span style="color: #2aa1ae; background-color: #ecf3ec;">// </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Call subclass method even after up casting</span>
        dynamicBinding<span style="color: #2d9574;">(</span><span style="color: #3a81c3; font-weight: bold;">new</span> <span style="color: #ba2f59; font-weight: bold;">Cat</span><span style="color: #67b11d;">()</span><span style="color: #2d9574;">)</span>;
        dynamicBinding<span style="color: #2d9574;">(</span><span style="color: #3a81c3; font-weight: bold;">new</span> <span style="color: #ba2f59; font-weight: bold;">Dog</span><span style="color: #67b11d;">()</span><span style="color: #2d9574;">)</span>;
    <span style="color: #6c3163;">}</span>

    <span style="color: #3a81c3; font-weight: bold;">static</span> <span style="color: #ba2f59; font-weight: bold;">void</span> <span style="color: #6c3163; font-weight: bold;">dynamicBinding</span><span style="color: #6c3163;">(</span><span style="color: #ba2f59; font-weight: bold;">Animal</span> <span style="color: #715ab1;">a</span><span style="color: #6c3163;">){</span>
        a.makeSound<span style="color: #2d9574;">()</span>;
    <span style="color: #6c3163;">}</span>
<span style="color: #3a81c3;">}</span>

<span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">Animal</span> <span style="color: #3a81c3;">{</span>
    <span style="color: #ba2f59; font-weight: bold;">void</span> <span style="color: #6c3163; font-weight: bold;">makeSound</span><span style="color: #6c3163;">(){</span>
        System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"animal sound"</span><span style="color: #2d9574;">)</span>;
    <span style="color: #6c3163;">}</span>
<span style="color: #3a81c3;">}</span>

<span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">Cat</span> <span style="color: #3a81c3; font-weight: bold;">extends</span> <span style="color: #ba2f59; font-weight: bold;">Animal</span> <span style="color: #3a81c3;">{</span>
    <span style="color: #ba2f59; font-weight: bold;">void</span> <span style="color: #6c3163; font-weight: bold;">makeSound</span><span style="color: #6c3163;">(){</span>
        System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"meow"</span><span style="color: #2d9574;">)</span>;
    <span style="color: #6c3163;">}</span>
<span style="color: #3a81c3;">}</span>

<span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">Dog</span> <span style="color: #3a81c3; font-weight: bold;">extends</span> <span style="color: #ba2f59; font-weight: bold;">Animal</span> <span style="color: #3a81c3;">{</span>
    <span style="color: #ba2f59; font-weight: bold;">void</span> <span style="color: #6c3163; font-weight: bold;">makeSound</span><span style="color: #6c3163;">(){</span>
        System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"bark"</span><span style="color: #2d9574;">)</span>;
    <span style="color: #6c3163;">}</span>
<span style="color: #3a81c3;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline162" class="outline-4">
<h4 id="orgheadline162"><span class="section-number-4">6.2.7</span> <b><code>instanceof</code></b>, type comparison</h4>
<div class="outline-text-4" id="text-6-2-7">
<ul class="org-ul">
<li><code>instanceof</code> compares an instance with a type, and return true if the instance if of the type or can be cast to the type.</li>
<li>Before down casting, check the possibility using <code>instanceof</code></li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline163" class="outline-4">
<h4 id="orgheadline163"><span class="section-number-4">6.2.8</span> Abstraction</h4>
<div class="outline-text-4" id="text-6-2-8">
<ul class="org-ul">
<li>Abstraction means hiding the implementation details and showing only functionality to users</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline164" class="outline-4">
<h4 id="orgheadline164"><span class="section-number-4">6.2.9</span> Interface</h4>
<div class="outline-text-4" id="text-6-2-9">
<ul class="org-ul">
<li>An interface is a blueprint of a class</li>
<li>Interface fields are <code>public static final</code> by default.</li>
<li>Interface methods are <code>public abstract</code> by default.</li>
<li>A Java class can implement multiple interfaces</li>
<li>An interface with no number is known as <b>marker</b> or <b>tagger</b> interface, such as Serializable, Cloneable etc</li>
</ul>
</div>
</div>
</div>


<div id="outline-container-orgheadline169" class="outline-3">
<h3 id="orgheadline169"><span class="section-number-3">6.3</span> Data Structures</h3>
<div class="outline-text-3" id="text-6-3">
</div><div id="outline-container-orgheadline166" class="outline-4">
<h4 id="orgheadline166"><span class="section-number-4">6.3.1</span> Array</h4>
<div class="outline-text-4" id="text-6-3-1">
<p>
Array is fixed size in Java
</p>
<div class="org-src-container">

<pre class="src src-java"><span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">a</span><span style="color: #3a81c3;">[]</span> = <span style="color: #3a81c3; font-weight: bold;">new</span> <span style="color: #ba2f59; font-weight: bold;">int</span><span style="color: #3a81c3;">[</span><span style="color: #4e3163;">5</span><span style="color: #3a81c3;">]</span>;
<span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">b</span><span style="color: #3a81c3;">[]</span> = <span style="color: #3a81c3;">{</span><span style="color: #4e3163;">1</span>,<span style="color: #4e3163;">2</span>,<span style="color: #4e3163;">3</span><span style="color: #3a81c3;">}</span>;
</pre>
</div>
</div>
</div>
<div id="outline-container-orgheadline167" class="outline-4">
<h4 id="orgheadline167"><span class="section-number-4">6.3.2</span> Wrapper classes</h4>
<div class="outline-text-4" id="text-6-3-2">
<ul class="org-ul">
<li>Wrapper class in Java provides the mechanism to convert primitive (<code>int</code>) into object (<code>Integer</code>) and object into primitive.</li>
<li>Autoboxing and unboxing: the automatic conversion of primitive into objects and vise versa</li>
<li>All the wrapper classes are immutable (immutable does not mean constant).</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline168" class="outline-4">
<h4 id="orgheadline168"><span class="section-number-4">6.3.3</span> String</h4>
<div class="outline-text-4" id="text-6-3-3">
<ul class="org-ul">
<li>Java <code>String</code> is like <code>char[]</code>, a sequence of char.</li>
<li><code>java.lang.String implements Serializable, Comparable and CharSequence</code></li>
<li>Java <code>String</code> is immutable. <code>StringBuffer</code> is the same as <code>String</code> except for that it is mutable.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgheadline174" class="outline-3">
<h3 id="orgheadline174"><span class="section-number-3">6.4</span> Exception</h3>
<div class="outline-text-3" id="text-6-4">
</div><div id="outline-container-orgheadline170" class="outline-4">
<h4 id="orgheadline170"><span class="section-number-4">6.4.1</span> Hierarchy of Java Exception classes</h4>
<div class="outline-text-4" id="text-6-4-1">

<div class="figure">
<p><img src="./figures/Java/exceptionhierarchy.jpg" alt="exceptionhierarchy.jpg" />
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline171" class="outline-4">
<h4 id="orgheadline171"><span class="section-number-4">6.4.2</span> Types of exceptions</h4>
<div class="outline-text-4" id="text-6-4-2">
<ul class="org-ul">
<li>Checked exception: the classes that extend <code>Throwable</code> except <code>RuntimeException</code> and <code>Error</code>, such at <code>IOException</code>, <code>SQLException</code></li>
<li>Unchecked exception: the classes that extend <code>RuntimeException</code>, such as <code>NullPointerException</code>, <code>ArrayIndexOutOfBoundsException</code>, <code>ArithmeticException</code>. Unchecked exceptions usually mean the programmer made some mistakes.</li>
<li>Error: error is irrecoverable, such as <code>OutOfMemoryError</code>, <code>AssertionError</code>, <code>VirtualMachineError</code></li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline172" class="outline-4">
<h4 id="orgheadline172"><span class="section-number-4">6.4.3</span> Multiple catch</h4>
<div class="outline-text-4" id="text-6-4-3">
<ul class="org-ul">
<li>At a time only one Exception is occurred and one catch block is executed</li>
<li>All catch blocks must be ordered from most specific to most general</li>
<li><code>fianlly</code> block is always executed and used for important code such as closing connection</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline173" class="outline-4">
<h4 id="orgheadline173"><span class="section-number-4">6.4.4</span> Declaring Exception in overriding a method</h4>
<div class="outline-text-4" id="text-6-4-4">
<ul class="org-ul">
<li>If the parent method declares no exception, then the overriding method can only declare unchecked exception.</li>
<li>If the parent method declares an exception, then the overriding method cannot declare a super-class exception.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgheadline181" class="outline-3">
<h3 id="orgheadline181"><span class="section-number-3">6.5</span> Nested Classes</h3>
<div class="outline-text-3" id="text-6-5">
</div><div id="outline-container-orgheadline178" class="outline-4">
<h4 id="orgheadline178"><span class="section-number-4">6.5.1</span> Inner class: non-static nested class</h4>
<div class="outline-text-4" id="text-6-5-1">
</div><ol class="org-ol"><li><a id="orgheadline175"></a>Member inner class: a class created within a class and outside method<br  /><div class="outline-text-5" id="text-6-5-1-1">
<p>
In order to instantiate a inner class, you have to instantiate an outer class.
</p>
</div></li>

<li><a id="orgheadline176"></a>Anonymous inner class<br  /><div class="outline-text-5" id="text-6-5-1-2">
<p>
Anonymous inner class should be used if you have to override method temporarily.
</p>
<div class="org-src-container">

<pre class="src src-java"><span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">B</span><span style="color: #3a81c3;">{</span>
    <span style="color: #ba2f59; font-weight: bold;">void</span> <span style="color: #6c3163; font-weight: bold;">method</span><span style="color: #6c3163;">(){</span>
        System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Old method"</span><span style="color: #2d9574;">)</span>;
    <span style="color: #6c3163;">}</span>
<span style="color: #3a81c3;">}</span>

<span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">A</span> <span style="color: #3a81c3;">{</span>
    <span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #3a81c3; font-weight: bold;">static</span> <span style="color: #ba2f59; font-weight: bold;">void</span> <span style="color: #6c3163; font-weight: bold;">main</span><span style="color: #6c3163;">(</span><span style="color: #ba2f59; font-weight: bold;">String</span><span style="color: #2d9574;">[]</span> <span style="color: #715ab1;">args</span><span style="color: #6c3163;">){</span>

        <span style="color: #ba2f59; font-weight: bold;">B</span> <span style="color: #715ab1;">b</span> = <span style="color: #3a81c3; font-weight: bold;">new</span> <span style="color: #ba2f59; font-weight: bold;">B</span><span style="color: #2d9574;">(){</span>
            <span style="color: #ba2f59; font-weight: bold;">void</span> <span style="color: #6c3163; font-weight: bold;">method</span><span style="color: #67b11d;">(){</span>
                System.out.println<span style="color: #b1951d;">(</span><span style="color: #2d9574;">"New method"</span><span style="color: #b1951d;">)</span>;
            <span style="color: #67b11d;">}</span>
        <span style="color: #2d9574;">}</span>;
        b.method<span style="color: #2d9574;">()</span>;
    <span style="color: #6c3163;">}</span>
<span style="color: #3a81c3;">}</span>
</pre>
</div>
</div></li>

<li><a id="orgheadline177"></a>Local inner class: a class created within a method<br  /></li></ol>
</div>


<div id="outline-container-orgheadline179" class="outline-4">
<h4 id="orgheadline179"><span class="section-number-4">6.5.2</span> Static nested class</h4>
<div class="outline-text-4" id="text-6-5-2">
<div class="org-src-container">

<pre class="src src-java"><span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">A</span> <span style="color: #3a81c3;">{</span>
    <span style="color: #3a81c3; font-weight: bold;">static</span> <span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">B</span><span style="color: #6c3163;">{</span>
        <span style="color: #ba2f59; font-weight: bold;">void</span> <span style="color: #6c3163; font-weight: bold;">method</span><span style="color: #2d9574;">(){</span>
            System.out.println<span style="color: #67b11d;">(</span><span style="color: #2d9574;">"Static inner class"</span><span style="color: #67b11d;">)</span>;
        <span style="color: #2d9574;">}</span>
    <span style="color: #6c3163;">}</span>    
    <span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #3a81c3; font-weight: bold;">static</span> <span style="color: #ba2f59; font-weight: bold;">void</span> <span style="color: #6c3163; font-weight: bold;">main</span><span style="color: #6c3163;">(</span><span style="color: #ba2f59; font-weight: bold;">String</span><span style="color: #2d9574;">[]</span> <span style="color: #715ab1;">args</span><span style="color: #6c3163;">){</span>
        <span style="color: #ba2f59; font-weight: bold;">B</span> <span style="color: #715ab1;">b</span> = <span style="color: #3a81c3; font-weight: bold;">new</span> <span style="color: #ba2f59; font-weight: bold;">B</span><span style="color: #2d9574;">()</span>;
        b.method<span style="color: #2d9574;">()</span>;
    <span style="color: #6c3163;">}</span>
<span style="color: #3a81c3;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline180" class="outline-4">
<h4 id="orgheadline180"><span class="section-number-4">6.5.3</span> Nested interface</h4>
<div class="outline-text-4" id="text-6-5-3">
<p>
An interface created within class or interface. It is useful to group related interfaces so that they can be easily maintained.
</p>
<div class="org-src-container">

<pre class="src src-java"><span style="color: #3a81c3; font-weight: bold;">interface</span> <span style="color: #ba2f59; font-weight: bold;">Animal</span><span style="color: #3a81c3;">{</span>
    <span style="color: #3a81c3; font-weight: bold;">interface</span> <span style="color: #ba2f59; font-weight: bold;">Dog</span><span style="color: #6c3163;">{}</span>
<span style="color: #3a81c3;">}</span>
<span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">Puppy</span> <span style="color: #3a81c3; font-weight: bold;">implements</span> <span style="color: #4e3163;">Animal</span>.<span style="color: #ba2f59; font-weight: bold;">Dog</span><span style="color: #3a81c3;">{}</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline182" class="outline-3">
<h3 id="orgheadline182"><span class="section-number-3">6.6</span> Multithreading in Java</h3>
<div class="outline-text-3" id="text-6-6">
<ul class="org-ul">
<li>Thread: a lightweight sub-process, a smallest unit of processing.</li>
<li>Threads share a common area of memory.</li>
</ul>
</div>
</div>


<div id="outline-container-orgheadline183" class="outline-3">
<h3 id="orgheadline183"><span class="section-number-3">6.7</span> Garbage Collection</h3>
</div>
</div>


<div id="outline-container-orgheadline200" class="outline-2">
<h2 id="orgheadline200"><span class="section-number-2">7</span> C++</h2>
<div class="outline-text-2" id="text-7">
</div><div id="outline-container-orgheadline192" class="outline-3">
<h3 id="orgheadline192"><span class="section-number-3">7.1</span> Pitfalls in C++</h3>
<div class="outline-text-3" id="text-7-1">
<p>
Here I record some mistakes that are very easy to make in C++.
</p>
</div>
<div id="outline-container-orgheadline185" class="outline-4">
<h4 id="orgheadline185"><span class="section-number-4">7.1.1</span> Overflow and Underflow</h4>
<div class="outline-text-4" id="text-7-1-1">
<ul class="org-ul">
<li>Avoid adding two <code>int</code> number when an easy alternative exists</li>
</ul>
<div class="org-src-container">

<pre class="src src-c++"><span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">mid</span> = <span style="color: #3a81c3;">(</span>left + right<span style="color: #3a81c3;">)</span> / <span style="color: #4e3163;">2</span>;
</pre>
</div>
<ul class="org-ul">
<li>Avoid decrementing index of <code>size_t</code> type.</li>
</ul>
<div class="org-src-container">

<pre class="src src-c++"><span style="color: #3a81c3; font-weight: bold;">for</span><span style="color: #3a81c3;">(</span><span style="color: #ba2f59; font-weight: bold;">size_t</span> <span style="color: #715ab1;">i</span> = <span style="color: #4e3163;">0</span>, <span style="color: #715ab1;">j</span> = num.size<span style="color: #6c3163;">()</span> - <span style="color: #4e3163;">1</span>; i &lt;= j; ++i, --j<span style="color: #3a81c3;">){</span>
  <span style="color: #2aa1ae; background-color: #ecf3ec;">// </span><span style="color: #2aa1ae; background-color: #ecf3ec;">If num.size() == 1, then the next step j would underflow</span>
<span style="color: #3a81c3;">}</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgheadline188" class="outline-4">
<h4 id="orgheadline188"><span class="section-number-4">7.1.2</span> Implicit cast</h4>
<div class="outline-text-4" id="text-7-1-2">
</div><ol class="org-ol"><li><a id="orgheadline186"></a><code>int</code> to <code>unsigned</code><br  /><div class="outline-text-5" id="text-7-1-2-1">
<p>
A signed number is implicitly cast into unsigned before adding, and it may cause counter-intuitive results: 
</p>
<div class="org-src-container">

<pre class="src src-c++">assert<span style="color: #3a81c3;">(</span><span style="color: #4e3163;">0U</span> - <span style="color: #4e3163;">1</span> == -<span style="color: #4e3163;">1</span><span style="color: #3a81c3;">)</span>;
assert<span style="color: #3a81c3;">(</span><span style="color: #4e3163;">0U</span> - <span style="color: #4e3163;">1</span> &gt; <span style="color: #4e3163;">0</span><span style="color: #3a81c3;">)</span>;
</pre>
</div>

<p>
A common bug could occur when you want to loop through from the first to the second last element of a vector. Since <code>size()</code> is unsigned, and if the vector is empty, the loop will not be skipped.
</p>
<div class="org-src-container">

<pre class="src src-c++"><span style="color: #ba2f59; font-weight: bold;">vector</span><span style="color: #3a81c3;">&lt;</span><span style="color: #ba2f59; font-weight: bold;">int</span><span style="color: #3a81c3;">&gt;</span> <span style="color: #715ab1;">xx</span>; <span style="color: #2aa1ae; background-color: #ecf3ec;">// </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Empty</span>
<span style="color: #3a81c3; font-weight: bold;">for</span><span style="color: #3a81c3;">(</span><span style="color: #ba2f59; font-weight: bold;">size_t</span> <span style="color: #715ab1;">i</span> = <span style="color: #4e3163;">0</span>; i &lt; xx.size<span style="color: #6c3163;">()</span> - <span style="color: #4e3163;">1</span>; ++i<span style="color: #3a81c3;">){</span>
  <span style="color: #2aa1ae; background-color: #ecf3ec;">// </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Loop will not stop until i = 4294967295</span>
<span style="color: #3a81c3;">}</span>

<span style="color: #3a81c3; font-weight: bold;">for</span><span style="color: #3a81c3;">(</span><span style="color: #ba2f59; font-weight: bold;">size_t</span> <span style="color: #715ab1;">i</span> = <span style="color: #4e3163;">0</span>; i + <span style="color: #4e3163;">1</span> &lt; xx.size<span style="color: #6c3163;">()</span>; ++i<span style="color: #3a81c3;">){</span>
  <span style="color: #2aa1ae; background-color: #ecf3ec;">// </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Loop will be skipped (avoid adding int with unsigned)</span>
<span style="color: #3a81c3;">}</span>
</pre>
</div>
</div></li>

<li><a id="orgheadline187"></a><code>int</code> to <code>bool</code><br  /><div class="outline-text-5" id="text-7-1-2-2">
<p>
<code>int</code> will be implicitly cast into <code>bool</code>. If you mistakenly type <code>&amp;</code> as <code>&amp;&amp;</code>, then it still compiles but lead to different result.
</p>
<div class="org-src-container">

<pre class="src src-c++"><span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">x</span> = <span style="color: #4e3163;">0x0f</span>, <span style="color: #715ab1;">y</span> = <span style="color: #4e3163;">0xf0</span>;
assert<span style="color: #3a81c3;">(</span><span style="color: #6c3163;">(</span>x &amp; y<span style="color: #6c3163;">)</span> == <span style="color: #4e3163;">0</span><span style="color: #3a81c3;">)</span>;
assert<span style="color: #3a81c3;">(</span><span style="color: #6c3163;">(</span>x &amp;&amp; y<span style="color: #6c3163;">)</span> == <span style="color: #4e3163;">1</span><span style="color: #3a81c3;">)</span>;
</pre>
</div>
</div></li></ol>
</div>

<div id="outline-container-orgheadline189" class="outline-4">
<h4 id="orgheadline189"><span class="section-number-4">7.1.3</span> Vector</h4>
<div class="outline-text-4" id="text-7-1-3">
<ul class="org-ul">
<li>When initializing a nested vector, <code>{}</code> is NOT the same as <code>{{}}</code>. <code>{}</code> is an empty vector, while <code>{{}}</code> is a size-1 vector containing an empty list.</li>
<li>It is always easy to forget that vector does NOT check index bound. If you are not confident with the index, use <code>at()</code>.</li>
</ul>
<div class="org-src-container">

<pre class="src src-c++"><span style="color: #ba2f59; font-weight: bold;">vector</span><span style="color: #3a81c3;">&lt;</span><span style="color: #ba2f59; font-weight: bold;">int</span><span style="color: #3a81c3;">&gt;</span> <span style="color: #715ab1;">xx</span> = <span style="color: #3a81c3;">{</span><span style="color: #4e3163;">0</span>,<span style="color: #4e3163;">1</span><span style="color: #3a81c3;">}</span>;
<span style="color: #3a81c3; font-weight: bold;">try</span><span style="color: #3a81c3;">{</span>
  cout &lt;&lt; xx.at<span style="color: #6c3163;">(</span><span style="color: #4e3163;">99</span><span style="color: #6c3163;">)</span>;
<span style="color: #3a81c3;">}</span><span style="color: #3a81c3; font-weight: bold;">catch</span><span style="color: #3a81c3;">(</span><span style="color: #ba2f59; font-weight: bold;">out_of_range</span> <span style="color: #715ab1;">e</span><span style="color: #3a81c3;">){</span>
  <span style="color: #2aa1ae; background-color: #ecf3ec;">// </span><span style="color: #2aa1ae; background-color: #ecf3ec;">If out of range, at() will raise exception.</span>
<span style="color: #3a81c3;">}</span>
</pre>
</div>
<ul class="org-ul">
<li>C++ does not check iterator bound either. Dereferencing an out-of-range iterator will occur segmentation fault.</li>
<li>The input range for a STL algorithm is a close-open range (NOT including the later iterator).</li>
</ul>
<div class="org-src-container">

<pre class="src src-c++">xx = <span style="color: #3a81c3;">{</span><span style="color: #4e3163;">0</span>,<span style="color: #4e3163;">1</span>,<span style="color: #4e3163;">2</span>,<span style="color: #4e3163;">3</span>,<span style="color: #4e3163;">4</span><span style="color: #3a81c3;">}</span>;
<span style="color: #ba2f59; font-weight: bold;">vector</span><span style="color: #3a81c3;">&lt;</span><span style="color: #ba2f59; font-weight: bold;">int</span><span style="color: #3a81c3;">&gt;</span> <span style="color: #6c3163; font-weight: bold;">sub</span> <span style="color: #3a81c3;">(</span>xx.begin<span style="color: #6c3163;">()</span> + <span style="color: #4e3163;">1</span>, xx.begin<span style="color: #6c3163;">()</span> + <span style="color: #4e3163;">3</span><span style="color: #3a81c3;">)</span>;
assert<span style="color: #3a81c3;">(</span>sub == <span style="color: #ba2f59; font-weight: bold;">vector</span><span style="color: #6c3163;">&lt;</span><span style="color: #ba2f59; font-weight: bold;">int</span><span style="color: #6c3163;">&gt;</span> <span style="color: #6c3163;">(</span><span style="color: #2d9574;">{</span><span style="color: #4e3163;">1</span>,<span style="color: #4e3163;">2</span><span style="color: #2d9574;">}</span><span style="color: #6c3163;">)</span><span style="color: #3a81c3;">)</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline190" class="outline-4">
<h4 id="orgheadline190"><span class="section-number-4">7.1.4</span> Char</h4>
<div class="outline-text-4" id="text-7-1-4">
<ul class="org-ul">
<li>In C++ char type is more like integer.</li>
</ul>
<div class="org-src-container">

<pre class="src src-c++">assert<span style="color: #3a81c3;">(</span> to_string<span style="color: #6c3163;">(</span><span style="color: #2d9574;">'a'</span><span style="color: #6c3163;">)</span> != <span style="color: #2d9574;">"a"</span> <span style="color: #3a81c3;">)</span>;
assert<span style="color: #3a81c3;">(</span> to_string<span style="color: #6c3163;">(</span><span style="color: #2d9574;">'a'</span><span style="color: #6c3163;">)</span> == <span style="color: #2d9574;">"97"</span> <span style="color: #3a81c3;">)</span>;
</pre>
</div>

<ul class="org-ul">
<li>Char can be used to index an array syntactically, hiding some serious bugs</li>
</ul>
<div class="org-src-container">

<pre class="src src-c++"><span style="color: #ba2f59; font-weight: bold;">vector</span><span style="color: #3a81c3;">&lt;</span><span style="color: #ba2f59; font-weight: bold;">int</span><span style="color: #3a81c3;">&gt;</span> <span style="color: #715ab1;">xx</span> = <span style="color: #3a81c3;">{</span><span style="color: #4e3163;">0</span>, <span style="color: #4e3163;">1</span>, <span style="color: #4e3163;">2</span>, <span style="color: #4e3163;">3</span><span style="color: #3a81c3;">}</span>;
assert<span style="color: #3a81c3;">(</span> &amp; xx<span style="color: #6c3163;">[</span><span style="color: #2d9574;">'1'</span><span style="color: #6c3163;">]</span> != &amp; xx<span style="color: #6c3163;">[</span><span style="color: #4e3163;">1</span><span style="color: #6c3163;">]</span> <span style="color: #3a81c3;">)</span>;
assert<span style="color: #3a81c3;">(</span>string<span style="color: #6c3163;">(</span><span style="color: #2d9574;">'1'</span>, <span style="color: #4e3163;">65</span><span style="color: #6c3163;">)</span> == <span style="color: #2d9574;">"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"</span><span style="color: #3a81c3;">)</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline191" class="outline-4">
<h4 id="orgheadline191"><span class="section-number-4">7.1.5</span> Boolean</h4>
<div class="outline-text-4" id="text-7-1-5">
<ul class="org-ul">
<li>Size of <code>bool</code> is implementation-defined, not specified by the standard. It could be 1 byte instead of 1 bit.</li>
<li>Use <code>!var</code> to flip a <code>bool</code> variable.</li>
</ul>
<div class="org-src-container">

<pre class="src src-c++"><span style="color: #ba2f59; font-weight: bold;">bool</span> <span style="color: #715ab1;">a</span> = <span style="color: #4e3163;">false</span>;
assert<span style="color: #3a81c3;">(</span> ~a != <span style="color: #4e3163;">true</span> <span style="color: #3a81c3;">)</span>;
assert<span style="color: #3a81c3;">(</span> <span style="color: #4e3163;">!</span>a == <span style="color: #4e3163;">true</span> <span style="color: #3a81c3;">)</span>;
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline195" class="outline-3">
<h3 id="orgheadline195"><span class="section-number-3">7.2</span> Techniques</h3>
<div class="outline-text-3" id="text-7-2">
</div><div id="outline-container-orgheadline193" class="outline-4">
<h4 id="orgheadline193"><span class="section-number-4">7.2.1</span> Logical operators</h4>
<div class="outline-text-4" id="text-7-2-1">
<ul class="org-ul">
<li>There is no logical XOR operator. Use <code>a != b</code> instead. Do NOT use bitwise XOR <code>^</code>.</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline194" class="outline-4">
<h4 id="orgheadline194"><span class="section-number-4">7.2.2</span> Assertion</h4>
<div class="outline-text-4" id="text-7-2-2">
<ul class="org-ul">
<li>Use assertion to reveal bugs in the code.</li>
<li>In production, to improve efficiency define <code>NDEBUG</code> to ignore all assertions.</li>
</ul>
<div class="org-src-container">

<pre class="src src-c++"><span style="color: #2aa1ae; background-color: #ecf3ec;">// </span><span style="color: #2aa1ae; background-color: #ecf3ec;">#define NDEBUG</span>
<span style="color: #6c3163;">#include</span><span style="color: #2d9574;">&lt;assert.h&gt;</span>
<span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #6c3163; font-weight: bold;">main</span><span style="color: #3a81c3;">(){</span>
  assert<span style="color: #6c3163;">(</span><span style="color: #4e3163;">true</span><span style="color: #6c3163;">)</span>;
<span style="color: #3a81c3;">}</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline196" class="outline-3">
<h3 id="orgheadline196"><span class="section-number-3">7.3</span> Causes of Segmentation Fault</h3>
<div class="outline-text-3" id="text-7-3">
<ul class="org-ul">
<li>Out-of-range iterator</li>
<li>Uninitialized pointer</li>
<li><code>pop()</code> on an empty stack or queue.</li>
<li>Infinite function call stack</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline199" class="outline-3">
<h3 id="orgheadline199"><span class="section-number-3">7.4</span> Templates</h3>
<div class="outline-text-3" id="text-7-4">
</div><div id="outline-container-orgheadline197" class="outline-4">
<h4 id="orgheadline197"><span class="section-number-4">7.4.1</span> File IO</h4>
<div class="outline-text-4" id="text-7-4-1">
<div class="org-src-container">

<pre class="src src-c++"><span style="color: #6c3163;">#include</span><span style="color: #2d9574;">&lt;iostream&gt;</span>
<span style="color: #6c3163;">#include</span><span style="color: #2d9574;">&lt;fstream&gt;</span>
<span style="color: #6c3163;">#include</span><span style="color: #2d9574;">&lt;sstream&gt;</span>
<span style="color: #6c3163;">#include</span><span style="color: #2d9574;">&lt;vector&gt;</span>
<span style="color: #3a81c3; font-weight: bold;">using</span> <span style="color: #3a81c3; font-weight: bold;">namespace</span> <span style="color: #4e3163;">std</span>;

<span style="color: #3a81c3; font-weight: bold;">template</span><span style="color: #3a81c3;">&lt;</span><span style="color: #3a81c3; font-weight: bold;">typename</span> <span style="color: #ba2f59; font-weight: bold;">T</span><span style="color: #3a81c3;">&gt;</span>
<span style="color: #ba2f59; font-weight: bold;">ostream</span> &amp; <span style="color: #3a81c3; font-weight: bold;">operator</span><span style="color: #6c3163; font-weight: bold;">&lt;&lt;</span><span style="color: #3a81c3;">(</span><span style="color: #ba2f59; font-weight: bold;">ostream</span> &amp; <span style="color: #715ab1;">os</span>, <span style="color: #ba2f59; font-weight: bold;">vector</span><span style="color: #6c3163;">&lt;</span><span style="color: #ba2f59; font-weight: bold;">T</span><span style="color: #6c3163;">&gt;</span> <span style="color: #715ab1;">xx</span><span style="color: #3a81c3;">){</span>
  <span style="color: #3a81c3; font-weight: bold;">for</span><span style="color: #6c3163;">(</span><span style="color: #ba2f59; font-weight: bold;">T</span> <span style="color: #715ab1;">x</span> : xx<span style="color: #6c3163;">)</span> os &lt;&lt; x &lt;&lt; <span style="color: #2d9574;">" "</span>;
  <span style="color: #3a81c3; font-weight: bold;">return</span> os;
<span style="color: #3a81c3;">}</span>

<span style="color: #ba2f59; font-weight: bold;">vector</span><span style="color: #3a81c3;">&lt;</span><span style="color: #ba2f59; font-weight: bold;">string</span><span style="color: #3a81c3;">&gt;</span> <span style="color: #6c3163; font-weight: bold;">split</span><span style="color: #3a81c3;">(</span><span style="color: #ba2f59; font-weight: bold;">string</span> <span style="color: #715ab1;">input</span>, <span style="color: #ba2f59; font-weight: bold;">char</span> <span style="color: #715ab1;">delimiter</span><span style="color: #3a81c3;">){</span>
  <span style="color: #ba2f59; font-weight: bold;">stringstream</span> <span style="color: #715ab1;">ss</span> <span style="color: #6c3163;">(</span>input<span style="color: #6c3163;">)</span>;
  <span style="color: #ba2f59; font-weight: bold;">string</span> <span style="color: #715ab1;">word</span>;
  <span style="color: #ba2f59; font-weight: bold;">vector</span><span style="color: #6c3163;">&lt;</span><span style="color: #ba2f59; font-weight: bold;">string</span><span style="color: #6c3163;">&gt;</span> <span style="color: #715ab1;">result</span>;
  <span style="color: #3a81c3; font-weight: bold;">while</span><span style="color: #6c3163;">(</span>getline<span style="color: #2d9574;">(</span>ss, word, delimiter<span style="color: #2d9574;">)</span><span style="color: #6c3163;">){</span>
    result.push_back<span style="color: #2d9574;">(</span>word<span style="color: #2d9574;">)</span>;
  <span style="color: #6c3163;">}</span>
  <span style="color: #3a81c3; font-weight: bold;">return</span> result;
<span style="color: #3a81c3;">}</span>

<span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #6c3163; font-weight: bold;">main</span><span style="color: #3a81c3;">(){</span>
  <span style="color: #2aa1ae; background-color: #ecf3ec;">// </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Read file by line</span>
  <span style="color: #ba2f59; font-weight: bold;">ifstream</span> <span style="color: #715ab1;">infile</span> <span style="color: #6c3163;">(</span><span style="color: #2d9574;">"test.txt"</span><span style="color: #6c3163;">)</span>;
  <span style="color: #3a81c3; font-weight: bold;">if</span><span style="color: #6c3163;">(</span>infile.is_open<span style="color: #2d9574;">()</span><span style="color: #6c3163;">){</span>
    <span style="color: #ba2f59; font-weight: bold;">string</span> <span style="color: #715ab1;">line</span>;
    <span style="color: #3a81c3; font-weight: bold;">while</span><span style="color: #2d9574;">(</span>getline<span style="color: #67b11d;">(</span>infile, line, <span style="color: #2d9574;">'\n'</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">){</span>
      cout &lt;&lt; split<span style="color: #67b11d;">(</span>line, <span style="color: #2d9574;">','</span><span style="color: #67b11d;">)</span> &lt;&lt; endl;
    <span style="color: #2d9574;">}</span>
    infile.close<span style="color: #2d9574;">()</span>;
  <span style="color: #6c3163;">}</span>

  <span style="color: #2aa1ae; background-color: #ecf3ec;">// </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Write file</span>
  <span style="color: #ba2f59; font-weight: bold;">ofstream</span> <span style="color: #715ab1;">outfile</span> <span style="color: #6c3163;">(</span><span style="color: #2d9574;">"out.txt"</span><span style="color: #6c3163;">)</span>;
  <span style="color: #3a81c3; font-weight: bold;">if</span><span style="color: #6c3163;">(</span>outfile.is_open<span style="color: #2d9574;">()</span><span style="color: #6c3163;">){</span>
    outfile &lt;&lt; <span style="color: #2d9574;">"Write to file as a stream\n"</span>;
  <span style="color: #6c3163;">}</span>
<span style="color: #3a81c3;">}</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgheadline198" class="outline-4">
<h4 id="orgheadline198"><span class="section-number-4">7.4.2</span> Timer</h4>
<div class="outline-text-4" id="text-7-4-2">
<div class="org-src-container">

<pre class="src src-c++"><span style="color: #6c3163;">#include</span><span style="color: #2d9574;">&lt;iostream&gt;</span>
<span style="color: #6c3163;">#include</span><span style="color: #2d9574;">&lt;chrono&gt;</span>
<span style="color: #6c3163;">#include</span><span style="color: #2d9574;">&lt;vector&gt;</span>

<span style="color: #3a81c3; font-weight: bold;">typedef</span> <span style="color: #4e3163;">std</span>::<span style="color: #4e3163;">chrono</span>::<span style="color: #ba2f59; font-weight: bold;">high_resolution_clock</span> <span style="color: #ba2f59; font-weight: bold;">HRTime</span>;
<span style="color: #3a81c3; font-weight: bold;">typedef</span> <span style="color: #4e3163;">std</span>::<span style="color: #4e3163;">chrono</span>::<span style="color: #ba2f59; font-weight: bold;">time_point</span><span style="color: #3a81c3;">&lt;</span><span style="color: #ba2f59; font-weight: bold;">HRTime</span><span style="color: #3a81c3;">&gt;</span> <span style="color: #ba2f59; font-weight: bold;">TimePoint</span>;
<span style="color: #3a81c3; font-weight: bold;">typedef</span> <span style="color: #4e3163;">std</span>::<span style="color: #4e3163;">chrono</span>::<span style="color: #ba2f59; font-weight: bold;">duration</span><span style="color: #3a81c3;">&lt;</span><span style="color: #ba2f59; font-weight: bold;">float</span><span style="color: #3a81c3;">&gt;</span> <span style="color: #ba2f59; font-weight: bold;">FloatSecond</span>;

<span style="color: #ba2f59; font-weight: bold;">void</span> <span style="color: #6c3163; font-weight: bold;">task</span><span style="color: #3a81c3;">(){</span>
  <span style="color: #4e3163;">std</span>::<span style="color: #ba2f59; font-weight: bold;">vector</span><span style="color: #6c3163;">&lt;</span><span style="color: #ba2f59; font-weight: bold;">int</span><span style="color: #6c3163;">&gt;</span> <span style="color: #715ab1;">xx</span> <span style="color: #6c3163;">(</span><span style="color: #4e3163;">1</span> &lt;&lt; <span style="color: #4e3163;">25</span>, <span style="color: #4e3163;">0</span><span style="color: #6c3163;">)</span>;
  <span style="color: #3a81c3; font-weight: bold;">for</span><span style="color: #6c3163;">(</span><span style="color: #ba2f59; font-weight: bold;">int</span> &amp; <span style="color: #715ab1;">x</span> : xx<span style="color: #6c3163;">)</span> x = rand<span style="color: #6c3163;">()</span>;
<span style="color: #3a81c3;">}</span>

<span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #6c3163; font-weight: bold;">main</span><span style="color: #3a81c3;">(){</span>
  <span style="color: #ba2f59; font-weight: bold;">TimePoint</span> <span style="color: #715ab1;">t0</span> = <span style="color: #4e3163;">HRTime</span>::now<span style="color: #6c3163;">()</span>;
  task<span style="color: #6c3163;">()</span>;
  <span style="color: #ba2f59; font-weight: bold;">TimePoint</span> <span style="color: #715ab1;">t1</span> = <span style="color: #4e3163;">HRTime</span>::now<span style="color: #6c3163;">()</span>;
  <span style="color: #ba2f59; font-weight: bold;">float</span> <span style="color: #715ab1;">duration</span> = <span style="color: #6c3163;">(</span><span style="color: #2d9574;">(</span><span style="color: #ba2f59; font-weight: bold;">FloatSecond</span><span style="color: #2d9574;">)(</span>t1 - t0<span style="color: #2d9574;">)</span><span style="color: #6c3163;">)</span>.count<span style="color: #6c3163;">()</span>;

  <span style="color: #4e3163;">std</span>::cout &lt;&lt; duration &lt;&lt; <span style="color: #2d9574;">" second\n"</span>;
<span style="color: #3a81c3;">}</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-orgheadline236" class="outline-2">
<h2 id="orgheadline236"><span class="section-number-2">8</span> Design Pattern</h2>
<div class="outline-text-2" id="text-8">
</div><div id="outline-container-orgheadline205" class="outline-3">
<h3 id="orgheadline205"><span class="section-number-3">8.1</span> Object Oriented</h3>
<div class="outline-text-3" id="text-8-1">
</div><div id="outline-container-orgheadline201" class="outline-4">
<h4 id="orgheadline201"><span class="section-number-4">8.1.1</span> Abstraction</h4>
<div class="outline-text-4" id="text-8-1-1">
<ul class="org-ul">
<li>Abstraction refers to the act of representing essential features without including the background details or explanations.</li>
<li>The idea of abstraction focuses on the outside view of an object</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline202" class="outline-4">
<h4 id="orgheadline202"><span class="section-number-4">8.1.2</span> Encapsulation</h4>
<div class="outline-text-4" id="text-8-1-2">
<ul class="org-ul">
<li>Encapsulation is a technique used for hiding the properties and behaviors of an object and allowing outside access only as appropriate.</li>
<li>It prevents other objects from directly altering or accessing the properties of methods of the encapsulated object.</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline203" class="outline-4">
<h4 id="orgheadline203"><span class="section-number-4">8.1.3</span> Inheritance</h4>
<div class="outline-text-4" id="text-8-1-3">
<ul class="org-ul">
<li>Inheritance is the process by which objects of one class acquire the properties of objects of another class.</li>
<li>Two reasons two use inheritance: promote code reuse; to use polymorphism.</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline204" class="outline-4">
<h4 id="orgheadline204"><span class="section-number-4">8.1.4</span> Polymorphism</h4>
<div class="outline-text-4" id="text-8-1-4">
<ul class="org-ul">
<li>One interface, many implementation</li>
<li>assigning a different meaning or usage to something in different context.</li>
</ul>
</div>
</div>
</div>


<div id="outline-container-orgheadline206" class="outline-3">
<h3 id="orgheadline206"><span class="section-number-3">8.2</span> UML and Dependency</h3>
<div class="outline-text-3" id="text-8-2">

<div class="figure">
<p><img src="./figures/DesignPattern/Relationships.jpg" alt="Relationships.jpg" />
</p>
</div>
<dl class="org-dl">
<dt>Association</dt><dd>Association is any kind of link or dependency between two classes.</dd>
<dt>Dependency</dt><dd><ul class="org-ul">
<li>If A depends on B, then A has to change if B is modified, while B does not necessarily need to change if A is modified.</li>
<li>We put the arrow nearby B to indicate that A depends on B.</li>
</ul></dd>
<dt>Weak Association</dt><dd>Class A may be linked to Class B if one of its methods includes a parameter or return instance of Class B. B is local in Class A.</dd>
<dt>Strong Association</dt><dd><ul class="org-ul">
<li>Class A holds a reference to Class B instance.</li>
<li>B is global in Class A.</li>
</ul></dd>
<dt>Aggregation (Shared association)</dt><dd><ul class="org-ul">
<li>Compositions that happen dynamically</li>
<li>Whole-part relationship.</li>
<li>Person continues to exist after his Company dies.</li>
<li>Person can also be aggregated to other classes.</li>
</ul></dd>
<dt>Composition (Non-shared association)</dt><dd><ul class="org-ul">
<li>Person owns Leg and Hand.</li>
<li>Leg has no purpose without Person.</li>
</ul></dd>
</dl>
</div>
</div>
<div id="outline-container-orgheadline218" class="outline-3">
<h3 id="orgheadline218"><span class="section-number-3">8.3</span> OO Principles</h3>
<div class="outline-text-3" id="text-8-3">
</div><div id="outline-container-orgheadline207" class="outline-4">
<h4 id="orgheadline207"><span class="section-number-4">8.3.1</span> Liskov Substitution Principle</h4>
<div class="outline-text-4" id="text-8-3-1">
<ul class="org-ul">
<li>Functions that use references to super-classes must be able to use objects of subclasses without knowing it.</li>
<li>Sounds right in natural language does not always work in code.</li>
<li>E.g. A square is a rectangle, but <code>Square</code> cannot be the subclass of <code>Rectangle</code></li>
<li>A subclass contains all fields of its super-class and possibly more.</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline208" class="outline-4">
<h4 id="orgheadline208"><span class="section-number-4">8.3.2</span> Encapsulate what varies</h4>
<div class="outline-text-4" id="text-8-3-2">
<ul class="org-ul">
<li>Identify the aspects of your application that vary, and separate them from what stays the same, so that later you can alter or extend the parts that vary without affecting those that don't.</li>
<li>All design patterns provide a way to let some part of a system vary independently of all other parts.</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline209" class="outline-4">
<h4 id="orgheadline209"><span class="section-number-4">8.3.3</span> Program to interfaces, not implementations</h4>
<div class="outline-text-4" id="text-8-3-3">
<p>
The declared type of the variables should be a supertype (Java interface or abstract class), so that the objects assigned to those variables can be of any concrete implementation of the supertype, which means the class declaring them doesn't have to know about the actual object types.
</p>
<div class="org-src-container">

<pre class="src src-java"><span style="color: #3a81c3; font-weight: bold;">interface</span> <span style="color: #ba2f59; font-weight: bold;">Animal</span> <span style="color: #3a81c3;">{</span>
    <span style="color: #ba2f59; font-weight: bold;">String</span> <span style="color: #6c3163; font-weight: bold;">makeSound</span><span style="color: #6c3163;">()</span>;
<span style="color: #3a81c3;">}</span>

<span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">Dog</span> <span style="color: #3a81c3; font-weight: bold;">implements</span> <span style="color: #ba2f59; font-weight: bold;">Animal</span> <span style="color: #3a81c3;">{</span>
    <span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #ba2f59; font-weight: bold;">String</span> <span style="color: #6c3163; font-weight: bold;">makeSound</span><span style="color: #6c3163;">(){</span><span style="color: #3a81c3; font-weight: bold;">return</span> <span style="color: #2d9574;">"bark"</span>;<span style="color: #6c3163;">}</span>
<span style="color: #3a81c3;">}</span>

<span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">Cat</span> <span style="color: #3a81c3; font-weight: bold;">implements</span> <span style="color: #ba2f59; font-weight: bold;">Animal</span> <span style="color: #3a81c3;">{</span>
    <span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #ba2f59; font-weight: bold;">String</span> <span style="color: #6c3163; font-weight: bold;">makeSound</span><span style="color: #6c3163;">(){</span><span style="color: #3a81c3; font-weight: bold;">return</span> <span style="color: #2d9574;">"meow"</span>;<span style="color: #6c3163;">}</span>
<span style="color: #3a81c3;">}</span>

<span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">DemoInterface</span> <span style="color: #3a81c3;">{</span>
    <span style="color: #3a81c3; font-weight: bold;">private</span> <span style="color: #3a81c3; font-weight: bold;">static</span> <span style="color: #ba2f59; font-weight: bold;">void</span> <span style="color: #6c3163; font-weight: bold;">printSound</span><span style="color: #6c3163;">(</span><span style="color: #ba2f59; font-weight: bold;">Animal</span> <span style="color: #715ab1;">animal</span><span style="color: #6c3163;">){</span>
        <span style="color: #2aa1ae; background-color: #ecf3ec;">// </span><span style="color: #2aa1ae; background-color: #ecf3ec;">We don't need to know if it is a dog or cat or whatever.</span>
        System.out.println<span style="color: #2d9574;">(</span> animal.makeSound<span style="color: #67b11d;">()</span> <span style="color: #2d9574;">)</span>;
    <span style="color: #6c3163;">}</span>
    <span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #3a81c3; font-weight: bold;">static</span> <span style="color: #ba2f59; font-weight: bold;">void</span> <span style="color: #6c3163; font-weight: bold;">main</span><span style="color: #6c3163;">(</span><span style="color: #ba2f59; font-weight: bold;">String</span><span style="color: #2d9574;">[]</span> <span style="color: #715ab1;">args</span><span style="color: #6c3163;">){</span>
        <span style="color: #2aa1ae; background-color: #ecf3ec;">// </span><span style="color: #2aa1ae; background-color: #ecf3ec;">We can assign the concrete implementation object at runtime.</span>
        printSound<span style="color: #2d9574;">(</span><span style="color: #3a81c3; font-weight: bold;">new</span> <span style="color: #ba2f59; font-weight: bold;">Dog</span><span style="color: #67b11d;">()</span><span style="color: #2d9574;">)</span>;
        printSound<span style="color: #2d9574;">(</span><span style="color: #3a81c3; font-weight: bold;">new</span> <span style="color: #ba2f59; font-weight: bold;">Cat</span><span style="color: #67b11d;">()</span><span style="color: #2d9574;">)</span>;
    <span style="color: #6c3163;">}</span>
<span style="color: #3a81c3;">}</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgheadline210" class="outline-4">
<h4 id="orgheadline210"><span class="section-number-4">8.3.4</span> Favor composition over inheritance</h4>
<div class="outline-text-4" id="text-8-3-4">
<ul class="org-ul">
<li>"Has-a" relationship can be better than "Is-a" relationship since it is more flexible.</li>
<li>With composition, objects can dynamically change behaviors at runtime</li>
<li>With inheritance, objects are fixed after compilation.</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline211" class="outline-4">
<h4 id="orgheadline211"><span class="section-number-4">8.3.5</span> Loose couple</h4>
<div class="outline-text-4" id="text-8-3-5">
<p>
Strive for loosely coupled designs between objects that interact.
</p>
</div>
</div>
<div id="outline-container-orgheadline212" class="outline-4">
<h4 id="orgheadline212"><span class="section-number-4">8.3.6</span> Interface Segregation Principle</h4>
<div class="outline-text-4" id="text-8-3-6">
<ul class="org-ul">
<li>No clients should be forced to depend on methods it does not use.</li>
<li>Split large interfaces into smaller and specific ones.</li>
<li>E.g. Sign up and Login should be two separate interface.</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline213" class="outline-4">
<h4 id="orgheadline213"><span class="section-number-4">8.3.7</span> Open-Close Principle</h4>
<div class="outline-text-4" id="text-8-3-7">
<p>
Classes should be open for extension, but closed for modification
</p>
</div>
</div>
<div id="outline-container-orgheadline214" class="outline-4">
<h4 id="orgheadline214"><span class="section-number-4">8.3.8</span> Dependency Inversion Principle</h4>
<div class="outline-text-4" id="text-8-3-8">
<p>
Depend on abstractions; do not depend on concrete classes.
<img src="./figures/DesignPattern/DependencyInversion.png" alt="DependencyInversion.png" />
</p>
</div>
</div>
<div id="outline-container-orgheadline215" class="outline-4">
<h4 id="orgheadline215"><span class="section-number-4">8.3.9</span> Principle of Least Knowledge</h4>
<div class="outline-text-4" id="text-8-3-9">
<p>
reduce the interactions between objects to just a few close friends.
</p>
</div>
</div>
<div id="outline-container-orgheadline216" class="outline-4">
<h4 id="orgheadline216"><span class="section-number-4">8.3.10</span> The Hollywood Principle</h4>
<div class="outline-text-4" id="text-8-3-10">
<ul class="org-ul">
<li>Don't call us; we'll call you.</li>
<li>We allow low-level components to hook themselves into a system, but the high-level components determines when and how they are needed.</li>
<li>Ref: Template Method Pattern.</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline217" class="outline-4">
<h4 id="orgheadline217"><span class="section-number-4">8.3.11</span> Single Responsibility Principle</h4>
<div class="outline-text-4" id="text-8-3-11">
<ul class="org-ul">
<li>Every responsibility of a class is an area of potential change.</li>
<li>More than one responsibility means more than one area of change.</li>
<li>A class should have only one reason to change.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgheadline219" class="outline-3">
<h3 id="orgheadline219"><span class="section-number-3">8.4</span> Observer</h3>
<div class="outline-text-3" id="text-8-4">
<ul class="org-ul">
<li>aka: publish/subscribe (pub/sub)</li>
<li>Define a one-to-many dependency so that when one subject changes state, all its dependents are notified and updated automatically.</li>
<li>Used in MVC: views register as observer so they can update when data changes.</li>
</ul>


<div class="figure">
<p><img src="./figures/DesignPattern/Observer.png" alt="Observer.png" />
</p>
</div>

<div class="org-src-container">

<pre class="src src-java"><span style="color: #3a81c3; font-weight: bold;">import</span> <span style="color: #4e3163;">java</span>.<span style="color: #4e3163;">util</span>.<span style="color: #ba2f59; font-weight: bold;">Observable</span>;
<span style="color: #3a81c3; font-weight: bold;">import</span> <span style="color: #4e3163;">java</span>.<span style="color: #4e3163;">util</span>.<span style="color: #ba2f59; font-weight: bold;">Observer</span>;

<span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">MyData</span> <span style="color: #3a81c3; font-weight: bold;">extends</span> <span style="color: #ba2f59; font-weight: bold;">Observable</span><span style="color: #3a81c3;">{</span>
    <span style="color: #2aa1ae; background-color: #ecf3ec;">// </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Data in the model-view paradigm</span>

    <span style="color: #3a81c3; font-weight: bold;">private</span> <span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">data</span>;

    <span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #6c3163; font-weight: bold;">getData</span><span style="color: #6c3163;">(){</span>
        <span style="color: #3a81c3; font-weight: bold;">return</span> data;
    <span style="color: #6c3163;">}</span>

    <span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #ba2f59; font-weight: bold;">void</span> <span style="color: #6c3163; font-weight: bold;">setData</span><span style="color: #6c3163;">(</span><span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">data</span><span style="color: #6c3163;">){</span>
        <span style="color: #3a81c3; font-weight: bold;">this</span>.data = data;
        <span style="color: #3a81c3; font-weight: bold;">super</span>.setChanged<span style="color: #2d9574;">()</span>;
        <span style="color: #3a81c3; font-weight: bold;">super</span>.notifyObservers<span style="color: #2d9574;">()</span>;
    <span style="color: #6c3163;">}</span>
<span style="color: #3a81c3;">}</span>

<span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">Display</span> <span style="color: #3a81c3; font-weight: bold;">implements</span> <span style="color: #ba2f59; font-weight: bold;">Observer</span><span style="color: #3a81c3;">{</span>
    <span style="color: #4e3163;">@Override</span>
    <span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #ba2f59; font-weight: bold;">void</span> <span style="color: #6c3163; font-weight: bold;">update</span><span style="color: #6c3163;">(</span><span style="color: #ba2f59; font-weight: bold;">Observable</span> <span style="color: #715ab1;">o</span>, <span style="color: #ba2f59; font-weight: bold;">Object</span> <span style="color: #715ab1;">arg</span><span style="color: #6c3163;">){</span>
        <span style="color: #ba2f59; font-weight: bold;">MyData</span> <span style="color: #715ab1;">myData</span> = <span style="color: #2d9574;">(</span><span style="color: #ba2f59; font-weight: bold;">MyData</span><span style="color: #2d9574;">)</span> o;
        System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Updated: "</span> + myData.getData<span style="color: #67b11d;">()</span><span style="color: #2d9574;">)</span>;
    <span style="color: #6c3163;">}</span>
<span style="color: #3a81c3;">}</span>

<span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">DemoObserver</span><span style="color: #3a81c3;">{</span>
    <span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #3a81c3; font-weight: bold;">static</span> <span style="color: #ba2f59; font-weight: bold;">void</span> <span style="color: #6c3163; font-weight: bold;">main</span><span style="color: #6c3163;">(</span><span style="color: #ba2f59; font-weight: bold;">String</span><span style="color: #2d9574;">[]</span> <span style="color: #715ab1;">args</span><span style="color: #6c3163;">){</span>
        <span style="color: #ba2f59; font-weight: bold;">MyData</span> <span style="color: #715ab1;">myData</span> = <span style="color: #3a81c3; font-weight: bold;">new</span> <span style="color: #ba2f59; font-weight: bold;">MyData</span><span style="color: #2d9574;">()</span>;
        myData.addObserver<span style="color: #2d9574;">(</span><span style="color: #3a81c3; font-weight: bold;">new</span> <span style="color: #ba2f59; font-weight: bold;">Display</span><span style="color: #67b11d;">()</span><span style="color: #2d9574;">)</span>;
        myData.setData<span style="color: #2d9574;">(</span><span style="color: #4e3163;">5</span><span style="color: #2d9574;">)</span>;
    <span style="color: #6c3163;">}</span>
<span style="color: #3a81c3;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline220" class="outline-3">
<h3 id="orgheadline220"><span class="section-number-3">8.5</span> Decorator</h3>
<div class="outline-text-3" id="text-8-5">
<ul class="org-ul">
<li>The decorator pattern attaches additional responsibilities to an object dynamically.</li>
<li>Decorators provide a flexible alternative to subclassing for extending functionalities.</li>
<li>Decorators have the same super type as the objects they decorate, and you can use one or more decorators to wrap the object.</li>
<li>The decorator adds its own behavior before and/or after <b>delegating</b> to the object it decorates.</li>
<li><code>Component</code> can be either an abstract class or in interface.</li>
</ul>

<p>
<img src="./figures/DesignPattern/DecoratorChain.png" alt="DecoratorChain.png" />
<img src="./figures/DesignPattern/Decorator.png" alt="Decorator.png" />
</p>

<div class="org-src-container">

<pre class="src src-java"><span style="color: #3a81c3; font-weight: bold;">interface</span> <span style="color: #ba2f59; font-weight: bold;">Beverage</span> <span style="color: #3a81c3;">{</span> <span style="color: #2aa1ae; background-color: #ecf3ec;">// </span><span style="color: #2aa1ae; background-color: #ecf3ec;">The component</span>
    <span style="color: #ba2f59; font-weight: bold;">String</span> <span style="color: #6c3163; font-weight: bold;">toString</span><span style="color: #6c3163;">()</span>;
<span style="color: #3a81c3;">}</span>

<span style="color: #3a81c3; font-weight: bold;">abstract</span> <span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">Decorator</span> <span style="color: #3a81c3; font-weight: bold;">implements</span> <span style="color: #ba2f59; font-weight: bold;">Beverage</span> <span style="color: #3a81c3;">{</span>
    <span style="color: #3a81c3; font-weight: bold;">protected</span> <span style="color: #ba2f59; font-weight: bold;">Beverage</span> <span style="color: #715ab1;">wrappedObj</span>;
<span style="color: #3a81c3;">}</span>

<span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">Coffee</span> <span style="color: #3a81c3; font-weight: bold;">implements</span> <span style="color: #ba2f59; font-weight: bold;">Beverage</span> <span style="color: #3a81c3;">{</span>
    <span style="color: #2aa1ae; background-color: #ecf3ec;">// </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Concrete component</span>
    <span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #ba2f59; font-weight: bold;">String</span> <span style="color: #6c3163; font-weight: bold;">toString</span><span style="color: #6c3163;">(){</span><span style="color: #3a81c3; font-weight: bold;">return</span> <span style="color: #2d9574;">"Coffee"</span>;<span style="color: #6c3163;">}</span>
<span style="color: #3a81c3;">}</span>

<span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">AddMilk</span> <span style="color: #3a81c3; font-weight: bold;">extends</span> <span style="color: #ba2f59; font-weight: bold;">Decorator</span> <span style="color: #3a81c3;">{</span>
    <span style="color: #2aa1ae; background-color: #ecf3ec;">// </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Concrete decorator</span>
    <span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #6c3163; font-weight: bold;">AddMilk</span><span style="color: #6c3163;">(</span><span style="color: #ba2f59; font-weight: bold;">Beverage</span> <span style="color: #715ab1;">c</span><span style="color: #6c3163;">){</span>
        wrappedObj = c;
    <span style="color: #6c3163;">}</span>
    <span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #ba2f59; font-weight: bold;">String</span> <span style="color: #6c3163; font-weight: bold;">toString</span><span style="color: #6c3163;">(){</span>
        <span style="color: #3a81c3; font-weight: bold;">return</span> wrappedObj.toString<span style="color: #2d9574;">()</span> + <span style="color: #2d9574;">" + Milk"</span>;
    <span style="color: #6c3163;">}</span>
<span style="color: #3a81c3;">}</span>

<span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">DemoDecorator</span> <span style="color: #3a81c3;">{</span>
    <span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #3a81c3; font-weight: bold;">static</span> <span style="color: #ba2f59; font-weight: bold;">void</span> <span style="color: #6c3163; font-weight: bold;">main</span><span style="color: #6c3163;">(</span><span style="color: #ba2f59; font-weight: bold;">String</span><span style="color: #2d9574;">[]</span> <span style="color: #715ab1;">args</span><span style="color: #6c3163;">){</span>
        <span style="color: #ba2f59; font-weight: bold;">Beverage</span> <span style="color: #715ab1;">coffee</span> = <span style="color: #3a81c3; font-weight: bold;">new</span> <span style="color: #ba2f59; font-weight: bold;">Coffee</span><span style="color: #2d9574;">()</span>;
        System.out.println<span style="color: #2d9574;">(</span> coffee <span style="color: #2d9574;">)</span>;

        <span style="color: #ba2f59; font-weight: bold;">Beverage</span> <span style="color: #715ab1;">coffeeMilk</span> = <span style="color: #3a81c3; font-weight: bold;">new</span> <span style="color: #ba2f59; font-weight: bold;">AddMilk</span><span style="color: #2d9574;">(</span>coffee<span style="color: #2d9574;">)</span>;
        System.out.println<span style="color: #2d9574;">(</span> coffeeMilk <span style="color: #2d9574;">)</span>;
    <span style="color: #6c3163;">}</span>
<span style="color: #3a81c3;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline224" class="outline-3">
<h3 id="orgheadline224"><span class="section-number-3">8.6</span> Factory</h3>
<div class="outline-text-3" id="text-8-6">
</div><div id="outline-container-orgheadline221" class="outline-4">
<h4 id="orgheadline221"><span class="section-number-4">8.6.1</span> Simple Factory</h4>
<div class="outline-text-4" id="text-8-6-1">
<ul class="org-ul">
<li>In the Factory Pattern, we create objects without exposing the creation logic to the client and refer to newly created objects using a common interface.</li>
<li>A Simple Factory is any method that makes objects for more than one possible classes.</li>
</ul>

<div class="figure">
<p><img src="./figures/DesignPattern/FactorySimple.png" alt="FactorySimple.png" />
</p>
</div>
<div class="org-src-container">

<pre class="src src-java"><span style="color: #3a81c3; font-weight: bold;">enum</span> <span style="color: #ba2f59; font-weight: bold;">PizzaType</span> <span style="color: #3a81c3;">{</span><span style="color: #715ab1;">Veggie</span>, <span style="color: #715ab1;">Cheese</span><span style="color: #3a81c3;">}</span>

<span style="color: #3a81c3; font-weight: bold;">interface</span> <span style="color: #ba2f59; font-weight: bold;">Pizza</span> <span style="color: #3a81c3;">{</span>
    <span style="color: #ba2f59; font-weight: bold;">void</span> <span style="color: #6c3163; font-weight: bold;">show</span><span style="color: #6c3163;">()</span>;
<span style="color: #3a81c3;">}</span>

<span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">Veggie</span> <span style="color: #3a81c3; font-weight: bold;">implements</span> <span style="color: #ba2f59; font-weight: bold;">Pizza</span> <span style="color: #3a81c3;">{</span>
    <span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #ba2f59; font-weight: bold;">void</span> <span style="color: #6c3163; font-weight: bold;">show</span><span style="color: #6c3163;">(){</span>
        System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Veggie pizza"</span><span style="color: #2d9574;">)</span>;
    <span style="color: #6c3163;">}</span>
<span style="color: #3a81c3;">}</span>

<span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">Cheese</span> <span style="color: #3a81c3; font-weight: bold;">implements</span> <span style="color: #ba2f59; font-weight: bold;">Pizza</span> <span style="color: #3a81c3;">{</span>
    <span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #ba2f59; font-weight: bold;">void</span> <span style="color: #6c3163; font-weight: bold;">show</span><span style="color: #6c3163;">(){</span>
        System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Cheese pizza"</span><span style="color: #2d9574;">)</span>;
    <span style="color: #6c3163;">}</span>
<span style="color: #3a81c3;">}</span>

<span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">SimplePizzaFactory</span> <span style="color: #3a81c3;">{</span>
    <span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #3a81c3; font-weight: bold;">static</span> <span style="color: #ba2f59; font-weight: bold;">Pizza</span> <span style="color: #6c3163; font-weight: bold;">makeShape</span><span style="color: #6c3163;">(</span><span style="color: #ba2f59; font-weight: bold;">PizzaType</span> <span style="color: #715ab1;">t</span><span style="color: #6c3163;">)</span> <span style="color: #6c3163;">{</span>
        <span style="color: #3a81c3; font-weight: bold;">switch</span> <span style="color: #2d9574;">(</span>t<span style="color: #2d9574;">){</span>
            <span style="color: #3a81c3; font-weight: bold;">case</span> Cheese: <span style="color: #3a81c3; font-weight: bold;">return</span> <span style="color: #3a81c3; font-weight: bold;">new</span> <span style="color: #ba2f59; font-weight: bold;">Cheese</span><span style="color: #67b11d;">()</span>;
            <span style="color: #3a81c3; font-weight: bold;">case</span> Veggie: <span style="color: #3a81c3; font-weight: bold;">return</span> <span style="color: #3a81c3; font-weight: bold;">new</span> <span style="color: #ba2f59; font-weight: bold;">Veggie</span><span style="color: #67b11d;">()</span>;
            <span style="color: #3a81c3; font-weight: bold;">default</span>: <span style="color: #3a81c3; font-weight: bold;">return</span> <span style="color: #4e3163;">null</span>;
        <span style="color: #2d9574;">}</span>
    <span style="color: #6c3163;">}</span>
<span style="color: #3a81c3;">}</span>

<span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">DemoSimpleFactory</span> <span style="color: #3a81c3;">{</span>
    <span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #3a81c3; font-weight: bold;">static</span> <span style="color: #ba2f59; font-weight: bold;">void</span> <span style="color: #6c3163; font-weight: bold;">main</span><span style="color: #6c3163;">(</span><span style="color: #ba2f59; font-weight: bold;">String</span><span style="color: #2d9574;">[]</span> <span style="color: #715ab1;">args</span><span style="color: #6c3163;">){</span>
        <span style="color: #2aa1ae; background-color: #ecf3ec;">// </span><span style="color: #2aa1ae; background-color: #ecf3ec;">No need to know the specific pizza types.</span>
        <span style="color: #ba2f59; font-weight: bold;">Pizza</span> <span style="color: #715ab1;">s1</span> = SimplePizzaFactory.makeShape<span style="color: #2d9574;">(</span> <span style="color: #4e3163;">PizzaType</span>.Cheese <span style="color: #2d9574;">)</span>;
        s1.show<span style="color: #2d9574;">()</span>;
        <span style="color: #ba2f59; font-weight: bold;">Pizza</span> <span style="color: #715ab1;">s2</span> = SimplePizzaFactory.makeShape<span style="color: #2d9574;">(</span> <span style="color: #4e3163;">PizzaType</span>.Veggie <span style="color: #2d9574;">)</span>;
        s2.show<span style="color: #2d9574;">()</span>;
    <span style="color: #6c3163;">}</span>
<span style="color: #3a81c3;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline222" class="outline-4">
<h4 id="orgheadline222"><span class="section-number-4">8.6.2</span> Factory Method Pattern</h4>
<div class="outline-text-4" id="text-8-6-2">
<ul class="org-ul">
<li>The Factory Method pattern defines an interface for creating an object, but lets subclasses decide which class to instantiate.</li>
<li>Factory Method lets a class defer instantiation to subclasses.</li>
<li>The Creator class is written without knowledge of the actual products that will be created.</li>
</ul>

<div class="figure">
<p><img src="./figures/DesignPattern/FactoryMethod.png" alt="FactoryMethod.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline223" class="outline-4">
<h4 id="orgheadline223"><span class="section-number-4">8.6.3</span> Abstract Factory Pattern</h4>
</div>
</div>

<div id="outline-container-orgheadline225" class="outline-3">
<h3 id="orgheadline225"><span class="section-number-3">8.7</span> Singleton</h3>
<div class="outline-text-3" id="text-8-7">
<ul class="org-ul">
<li>The Singleton pattern ensures a class has only one instance, and provides a global point of acceding it.</li>
<li>No public constructor.</li>
</ul>
<div class="org-src-container">

<pre class="src src-java"><span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">Singleton</span> <span style="color: #3a81c3;">{</span>
    <span style="color: #3a81c3; font-weight: bold;">private</span> <span style="color: #3a81c3; font-weight: bold;">static</span> <span style="color: #ba2f59; font-weight: bold;">Singleton</span> <span style="color: #715ab1;">uniqueInstance</span>;

    <span style="color: #2aa1ae; background-color: #ecf3ec;">// </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Make the constructor private such that it cannot be called from outside.</span>
    <span style="color: #3a81c3; font-weight: bold;">private</span> <span style="color: #6c3163; font-weight: bold;">Singleton</span><span style="color: #6c3163;">(){}</span>

    <span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #3a81c3; font-weight: bold;">static</span> <span style="color: #ba2f59; font-weight: bold;">Singleton</span> <span style="color: #6c3163; font-weight: bold;">getInstance</span><span style="color: #6c3163;">()</span> <span style="color: #6c3163;">{</span>
        <span style="color: #3a81c3; font-weight: bold;">if</span><span style="color: #2d9574;">(</span>uniqueInstance == <span style="color: #4e3163;">null</span><span style="color: #2d9574;">){</span>
            uniqueInstance = <span style="color: #3a81c3; font-weight: bold;">new</span> <span style="color: #ba2f59; font-weight: bold;">Singleton</span><span style="color: #67b11d;">()</span>;
        <span style="color: #2d9574;">}</span>
        <span style="color: #3a81c3; font-weight: bold;">return</span> uniqueInstance;
    <span style="color: #6c3163;">}</span>
<span style="color: #3a81c3;">}</span>

<span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">DemoSingleton</span> <span style="color: #3a81c3;">{</span>
    <span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #3a81c3; font-weight: bold;">static</span> <span style="color: #ba2f59; font-weight: bold;">void</span> <span style="color: #6c3163; font-weight: bold;">main</span><span style="color: #6c3163;">(</span><span style="color: #ba2f59; font-weight: bold;">String</span><span style="color: #2d9574;">[]</span> <span style="color: #715ab1;">args</span><span style="color: #6c3163;">){</span>
        <span style="color: #ba2f59; font-weight: bold;">Singleton</span> <span style="color: #715ab1;">singleton</span> = Singleton.getInstance<span style="color: #2d9574;">()</span>;
    <span style="color: #6c3163;">}</span>
<span style="color: #3a81c3;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline226" class="outline-3">
<h3 id="orgheadline226"><span class="section-number-3">8.8</span> Command</h3>
<div class="outline-text-3" id="text-8-8">
<ul class="org-ul">
<li>The Command Pattern encapsulates a request as an object, thereby letting you parameterize other objects with different requests, queue or log requests, and support undoable operations.</li>
<li>It packages the actions and the receiver into an object that exposes just one method, <code>execute()</code>.</li>
<li>The command object defines a binding between an action and its receiver.</li>
</ul>

<div class="figure">
<p><img src="./figures/DesignPattern/Command.png" alt="Command.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline227" class="outline-3">
<h3 id="orgheadline227"><span class="section-number-3">8.9</span> Adapter</h3>
<div class="outline-text-3" id="text-8-9">
<p>
Adapter Pattern converts the interface of a class into another interface the clients expect. 
<img src="./figures/DesignPattern/Adapter.png" alt="Adapter.png" />
</p>
</div>
</div>

<div id="outline-container-orgheadline228" class="outline-3">
<h3 id="orgheadline228"><span class="section-number-3">8.10</span> Facade</h3>
<div class="outline-text-3" id="text-8-10">
<ul class="org-ul">
<li>Facade Pattern provides a unified interface to a set of interfaces in a system.</li>
<li>Facade defines a higher level interface that makes the subsystem easier to use.</li>
</ul>

<div class="figure">
<p><img src="./figures/DesignPattern/Facade.png" alt="Facade.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline229" class="outline-3">
<h3 id="orgheadline229"><span class="section-number-3">8.11</span> Template Method</h3>
<div class="outline-text-3" id="text-8-11">
<ul class="org-ul">
<li>Template Method Pattern defines the skeleton of an algorithm in a method, deferring some steps to subclasses</li>
<li>Template Method lets subclasses redefine certain steps of an algorithm, but prohibits changing the algorithm's structure.</li>
<li><code>final method</code> could be used in Java to prevent method overwriting.</li>
</ul>

<div class="figure">
<p><img src="./figures/DesignPattern/TemplateMethod.png" alt="TemplateMethod.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline230" class="outline-3">
<h3 id="orgheadline230"><span class="section-number-3">8.12</span> Iterator</h3>
<div class="outline-text-3" id="text-8-12">
<p>
The Iterator Pattern provides a way to access the elements of an aggregate object sequentially without exposing its underlying representation. 
<img src="./figures/DesignPattern/Iterator.png" alt="Iterator.png" />
</p>
</div>
</div>

<div id="outline-container-orgheadline231" class="outline-3">
<h3 id="orgheadline231"><span class="section-number-3">8.13</span> Composite</h3>
<div class="outline-text-3" id="text-8-13">
<ul class="org-ul">
<li>The Composite Pattern allows you to compose objects into <b>tree</b> structures to represent part-whole hierarchies.</li>
<li>Composite lets clients treat individual objects and compositions of objects uniformly.</li>
<li>A composite contains components</li>
</ul>

<div class="figure">
<p><img src="./figures/DesignPattern/Composite.png" alt="Composite.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline232" class="outline-3">
<h3 id="orgheadline232"><span class="section-number-3">8.14</span> State</h3>
<div class="outline-text-3" id="text-8-14">
<ul class="org-ul">
<li>The State Pattern allows an object to alter its behavior when its internal state changes.</li>
<li>The object will appear to change its class.</li>
<li>State Pattern is similar to Strategy Pattern but with different intent. 
<ul class="org-ul">
<li>With State Pattern, we have a set of behaviors encapsulated in state objects; at any time the context is delegating to one of those states.</li>
<li>With Strategy Pattern, the client usually specifies the strategy object that the context is composed with.</li>
</ul></li>
</ul>

<div class="figure">
<p><img src="./figures/DesignPattern/State.png" alt="State.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline233" class="outline-3">
<h3 id="orgheadline233"><span class="section-number-3">8.15</span> Strategy</h3>
<div class="outline-text-3" id="text-8-15">
<ul class="org-ul">
<li>The Strategy Pattern defines a family of algorithms, encapsulates each one, and makes them interchangeable.</li>
<li>Strategy enables the algorithms vary independently from clients that use it.</li>
</ul>
<div class="org-src-container">

<pre class="src src-java"><span style="color: #3a81c3; font-weight: bold;">interface</span> <span style="color: #ba2f59; font-weight: bold;">Strategy</span> <span style="color: #3a81c3;">{</span>
    <span style="color: #2aa1ae; background-color: #ecf3ec;">// </span><span style="color: #2aa1ae; background-color: #ecf3ec;">All algorithms are interchangeable because they implement the same interface</span>
    <span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #6c3163; font-weight: bold;">run</span><span style="color: #6c3163;">(</span><span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">x1</span>, <span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">x2</span><span style="color: #6c3163;">)</span>;
<span style="color: #3a81c3;">}</span>

<span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">Add</span> <span style="color: #3a81c3; font-weight: bold;">implements</span> <span style="color: #ba2f59; font-weight: bold;">Strategy</span> <span style="color: #3a81c3;">{</span>
    <span style="color: #2aa1ae; background-color: #ecf3ec;">// </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Each algorithm is encapsulated in a class</span>
    <span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #6c3163; font-weight: bold;">run</span><span style="color: #6c3163;">(</span><span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">x1</span>, <span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">x2</span><span style="color: #6c3163;">){</span><span style="color: #3a81c3; font-weight: bold;">return</span> x1 + x2;<span style="color: #6c3163;">}</span>
<span style="color: #3a81c3;">}</span>

<span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">Multiply</span> <span style="color: #3a81c3; font-weight: bold;">implements</span> <span style="color: #ba2f59; font-weight: bold;">Strategy</span> <span style="color: #3a81c3;">{</span>
    <span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #6c3163; font-weight: bold;">run</span><span style="color: #6c3163;">(</span><span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">x1</span>, <span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">x2</span><span style="color: #6c3163;">){</span><span style="color: #3a81c3; font-weight: bold;">return</span> x1 * x2;<span style="color: #6c3163;">}</span>
<span style="color: #3a81c3;">}</span>

<span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">Client</span> <span style="color: #3a81c3;">{</span>
    <span style="color: #3a81c3; font-weight: bold;">private</span> <span style="color: #ba2f59; font-weight: bold;">Strategy</span> <span style="color: #715ab1;">strategy</span>;
    <span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #6c3163; font-weight: bold;">Client</span><span style="color: #6c3163;">(</span><span style="color: #ba2f59; font-weight: bold;">Strategy</span> <span style="color: #715ab1;">strategy</span><span style="color: #6c3163;">){</span>
        <span style="color: #3a81c3; font-weight: bold;">this</span>.strategy = strategy;
    <span style="color: #6c3163;">}</span>
    <span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #6c3163; font-weight: bold;">executeStrategy</span><span style="color: #6c3163;">(</span><span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">x1</span>, <span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">x2</span><span style="color: #6c3163;">){</span>
        <span style="color: #3a81c3; font-weight: bold;">return</span> strategy.run<span style="color: #2d9574;">(</span>x1, x2<span style="color: #2d9574;">)</span>;
    <span style="color: #6c3163;">}</span>
<span style="color: #3a81c3;">}</span>

<span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #3a81c3; font-weight: bold;">class</span> <span style="color: #ba2f59; font-weight: bold;">DemoStrategy</span> <span style="color: #3a81c3;">{</span>
    <span style="color: #3a81c3; font-weight: bold;">public</span> <span style="color: #3a81c3; font-weight: bold;">static</span> <span style="color: #ba2f59; font-weight: bold;">void</span> <span style="color: #6c3163; font-weight: bold;">main</span><span style="color: #6c3163;">(</span><span style="color: #ba2f59; font-weight: bold;">String</span><span style="color: #2d9574;">[]</span> <span style="color: #715ab1;">args</span><span style="color: #6c3163;">){</span>
        <span style="color: #ba2f59; font-weight: bold;">Client</span> <span style="color: #715ab1;">client</span> = <span style="color: #3a81c3; font-weight: bold;">new</span> <span style="color: #ba2f59; font-weight: bold;">Client</span><span style="color: #2d9574;">(</span><span style="color: #3a81c3; font-weight: bold;">new</span> <span style="color: #ba2f59; font-weight: bold;">Add</span><span style="color: #67b11d;">()</span><span style="color: #2d9574;">)</span>;
        <span style="color: #ba2f59; font-weight: bold;">int</span> <span style="color: #715ab1;">result</span> = client.executeStrategy<span style="color: #2d9574;">(</span><span style="color: #4e3163;">3</span>, <span style="color: #4e3163;">4</span><span style="color: #2d9574;">)</span>;
    <span style="color: #6c3163;">}</span>
<span style="color: #3a81c3;">}</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-orgheadline234" class="outline-3">
<h3 id="orgheadline234"><span class="section-number-3">8.16</span> Proxy</h3>
<div class="outline-text-3" id="text-8-16">
<ul class="org-ul">
<li>Proxy provides a surrogate or placeholder for another object to control access to it.</li>
<li>A remote proxy controls access to a remote object</li>
<li>A virtual proxy controls access to a resource that is expensive to create.</li>
<li>A protection proxy controls access to a resource based on access rights.</li>
</ul>

<div class="figure">
<p><img src="./figures/DesignPattern/Proxy.png" alt="Proxy.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline235" class="outline-3">
<h3 id="orgheadline235"><span class="section-number-3">8.17</span> Flyweight</h3>
<div class="outline-text-3" id="text-8-17">
<ul class="org-ul">
<li>Use one instance of class to provide many virtual instances.</li>
<li>Instead of creating many instances of a class, create one aggregate instance storing array of data.</li>
<li>Saves memory but all virtual instances have to behave in the same way.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgheadline261" class="outline-2">
<h2 id="orgheadline261"><span class="section-number-2">9</span> Fluid Dynamics</h2>
<div class="outline-text-2" id="text-9">
</div><div id="outline-container-orgheadline249" class="outline-3">
<h3 id="orgheadline249"><span class="section-number-3">9.1</span> Mathematical Background</h3>
<div class="outline-text-3" id="text-9-1">
</div><div id="outline-container-orgheadline245" class="outline-4">
<h4 id="orgheadline245"><span class="section-number-4">9.1.1</span> Tensor</h4>
<div class="outline-text-4" id="text-9-1-1">
</div><ol class="org-ol"><li><a id="orgheadline237"></a>Identity tensor<br  /><div class="outline-text-5" id="text-9-1-1-1">
<p>
Also know as substitution tensor or Kronecker delta:
\[\delta_{ij} = \begin{cases} 1 & i=j \\ 0 & i\ne j \end{cases}\]
It is called substitution tensor because \(\delta_{ij}v_j = v_i\)
</p>
</div></li>
<li><a id="orgheadline238"></a>Alternating unit tensor<br  /><div class="outline-text-5" id="text-9-1-1-2">
<p>
\[\varepsilon_{ijk} = \begin{cases}
   1 & ijk = 123, 231, 312 \\
  -1 & ijk = 321, 213, 132 \\
   0 & \mbox{if any two indices are alike}
\end{cases}\]
\(\varepsilon_{ijk}\) is equivalent to cross product: \[\va\times \vb = \varepsilon_{ijk} a_j b_k\]
</p>
</div></li>
<li><a id="orgheadline239"></a>\(\varepsilon_{ijk} \varepsilon_{ilm} = \delta_{jl}\delta_{km} - \delta_{jm}\delta_{kl}\)<br  /></li>
<li><a id="orgheadline240"></a>Tensor Decomposition<br  /><div class="outline-text-5" id="text-9-1-1-4">
<ul class="org-ul">
<li>Tensor \(Q_{ij}\) is symmetric if \(Q_{ij} = Q_{ji}\)</li>
<li>Tensor \(R_{ij}\) is anti-symmetric if \(R_{ij} = -R_{ji}\)</li>
<li>Any tensor can be decomposed into the summation of a symmetric tensor and an anti-symmetric tensor</li>
</ul>
<p>
\[ T_{ij} = T_{[ij]} + T_{(ij)},\quad T_{(ij)} = {T_{ij} + T_{ji}\over 2}, \quad T_{[ij]} = {T_{ij} - T_{ji}\over 2} \]
</p>
</div></li>
<li><a id="orgheadline241"></a>Inner Product<br  /><div class="outline-text-5" id="text-9-1-1-5">
<p>
Inner product of two tensor is a scalar
\[T:S = T_{ij} S_{ji}\]
</p>
</div></li>
<li><a id="orgheadline242"></a>Dual Vector<br  /><div class="outline-text-5" id="text-9-1-1-6">
<p>
The dual vector \(d_i\) of a tensor \(T_{jk}\) is defined as
\[ d_i = \varepsilon_{ijk} T_{jk} \]
</p>
</div></li>
<li><a id="orgheadline243"></a>Dyadic Product<br  /><div class="outline-text-5" id="text-9-1-1-7">
<p>
The dyadic product or tensor product of two vector \(u_i, v_i\) is defined as 
\[T_{ij} = u_i v_j\]
</p>
</div></li>
<li><a id="orgheadline244"></a>Derivative<br  /><div class="outline-text-5" id="text-9-1-1-8">
<p>
\[d\phi = \partial_i \phi d x_i = \nabla \phi \cdot d\vx\]
Using directional cosine \(d\vx = \valpha ds\), we can define the directional derivative 
\[\dd{\phi}{s} = \nabla \phi \cdot \valpha \]
</p>
</div></li></ol>
</div>
<div id="outline-container-orgheadline246" class="outline-4">
<h4 id="orgheadline246"><span class="section-number-4">9.1.2</span> Gauss (Divergence) Theorem</h4>
<div class="outline-text-4" id="text-9-1-2">
<ul class="org-ul">
<li>Index notation: \[ \int_{\Omega} \partial_i F \dV = \int_{\partial\Omega} n_i F \dS \]
<ul class="org-ul">
<li>\(\Omega\) is an arbitrary control volume with fixed geometry (not time dependent)</li>
<li>\(\partial \Omega\) denotes the boundary of \(\Omega\)</li>
<li>\(\vn\) is the outward normal of \(\Omega\)</li>
</ul></li>
<li>If \(\Omega\) is in 1D: \[ \int_a^b \dd{f}{x} \dx = f(b) - f(a) \]</li>
<li>For scalar \(f\): \[ \int_{\Omega} \nabla f \dV = \int_{\partial\Omega} \vn f \dS \]</li>
<li>For vector \(\vu\): \[ \int_{\Omega} \nabla \cdot \vu \dV = \int_{\partial\Omega} \vn \cdot \vu \dS \]</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline247" class="outline-4">
<h4 id="orgheadline247"><span class="section-number-4">9.1.3</span> Stokes's Theorem</h4>
<div class="outline-text-4" id="text-9-1-3">
<p>
\[ \int \vn \cdot \nabla \times \vu \dS = \int \vt\cdot \vu \ds \]
</p>
</div>
</div>
<div id="outline-container-orgheadline248" class="outline-4">
<h4 id="orgheadline248"><span class="section-number-4">9.1.4</span> Leibnitz's Theorem</h4>
<div class="outline-text-4" id="text-9-1-4">
<p>
\(F(\vx, t)\) is a scalar, vector or tensor function, and the region of integration \(\Omega(t)\) may be moving with velocity \(\vw\). Leibnitz's Theorem says that we may move the time derivative inside the volume integral if we add a surface integral to compensate for the motion of the boundary. 
\[ \dd{}{t} \int_{\Omega(t)} F(x_i, t) \dV = \int_{\Omega} \pp{F}{t} \dV + \int_{\partial\Omega} n_k w_k F \dS \]
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline256" class="outline-3">
<h3 id="orgheadline256"><span class="section-number-3">9.2</span> Motion Equations</h3>
<div class="outline-text-3" id="text-9-2">
</div><div id="outline-container-orgheadline253" class="outline-4">
<h4 id="orgheadline253"><span class="section-number-4">9.2.1</span> Convective derivative</h4>
<div class="outline-text-4" id="text-9-2-1">
</div><ol class="org-ol"><li><a id="orgheadline250"></a>Also known as:<br  /><div class="outline-text-5" id="text-9-2-1-1">
<ul class="org-ul">
<li>total derivative</li>
<li>advective derivative</li>
<li>Lagrangian derivative</li>
<li>substantive or material derivative</li>
<li>Stokes derivative</li>
</ul>
</div></li>

<li><a id="orgheadline251"></a>Definition<br  /><div class="outline-text-5" id="text-9-2-1-2">
<p>
Convective derivative is the time rate of change for a material element subjected to a space-and-time dependent macroscopic velocity field.
\[\dd{f}{t} = \pp{f}{t} + \vu\cdot \nabla f \]
The key thing to note is that \(\vx(t)\) is also time dependent, and thus 
\[\dd{f(\vx(t),t)}{t} = \pp{f}{t} + \pp{f}{\vx}\pp{\vx}{t} = \pp{f}{t} + \vu\cdot \nabla f \]
</p>
</div></li>
<li><a id="orgheadline252"></a>For vector variable<br  /><div class="outline-text-5" id="text-9-2-1-3">
<p>
If \(\vf\) is a vector variable depending on \(\vx\) and \(t\), then 
\[  \dd{\vf}{t} = \pp{\vf}{t} + \vu \cdot \nabla \vf \]
or using index notation 
\[d_t f_i = \partial_t f_i + u_j \partial_j f_i \]
</p>
</div></li></ol>
</div>
<div id="outline-container-orgheadline254" class="outline-4">
<h4 id="orgheadline254"><span class="section-number-4">9.2.2</span> Continuity Condition</h4>
<div class="outline-text-4" id="text-9-2-2">
<p>
Continuity requires that anything goes into \(\Omega\) must the mass it contains. 
\[ \int_{\partial \Omega} \rho \vu (-\vn) \dS = \dd{}{t} \int_{\Omega} \rho \dV \]
using Divergence Theorem we get
\[ \nabla \cdot (\rho \vu) + \dd{\rho}{t} = 0 \]
For incompressible flow (\(\rho=\) constant), it reduces to \[\nabla \cdot \vu = 0\]
</p>
</div>
</div>
<div id="outline-container-orgheadline255" class="outline-4">
<h4 id="orgheadline255"><span class="section-number-4">9.2.3</span> Momentum equation</h4>
<div class="outline-text-4" id="text-9-2-3">
<p>
Momentum equation can be derived from Newton's second law of motion: (rate of change of momentum of a control volume \(\Omega\)) = (net force on \(\Omega\)). 
\[ \dd{}{t} \int_{\Omega}\rho\vu \dV 
   = \int_{\partial\Omega} \sigma \cdot \vn \dS  + \int_{\Omega} \vf \dV \]
where \(\sigma\) is the stress tensor, \(\vf\) is the body force. 
</p>

<p>
In differential form 
\[ \dd{\rho\vu}{t} = \nabla\cdot\sigma + \vf \]
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline258" class="outline-3">
<h3 id="orgheadline258"><span class="section-number-3">9.3</span> Navier-Stokes Equation</h3>
<div class="outline-text-3" id="text-9-3">
</div><div id="outline-container-orgheadline257" class="outline-4">
<h4 id="orgheadline257"><span class="section-number-4">9.3.1</span> Constitutive relationship of newtonian fluids</h4>
<div class="outline-text-4" id="text-9-3-1">
<p>
The stress tensor can be decomposed into isotropic part and viscous part: 
\[\sigma_{ij} = - p\delta_{ij} + \tau_{ij} \]
In Newtonian incompressible flow, we assume
\[\tau_{ij} = \mu (\partial_i u_j + \partial_j u_i) \]
Substituting into the momentum equation leads to 
\[ \rho\pp{\vu}{t} + \rho \vu\cdot \nabla \vu = -\nabla p + \mu \nabla^2 \vu + \vf \]
If we drop the inertial term \(\rho\vu\cdot\nabla\vu\), then we obtain the Stokes Equation, which is the linearization of NS equation at low Reynolds number (\(Re = \rho U L /\mu\)).
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline260" class="outline-3">
<h3 id="orgheadline260"><span class="section-number-3">9.4</span> Finite Element Methods</h3>
<div class="outline-text-3" id="text-9-4">
</div><div id="outline-container-orgheadline259" class="outline-4">
<h4 id="orgheadline259"><span class="section-number-4">9.4.1</span> Discretization</h4>
<div class="outline-text-4" id="text-9-4-1">
<ul class="org-ul">
<li>Test function: defined locally.</li>
<li>Shape function: used to represent the candidate solution.</li>
</ul>
<p>
In Galerkin FEM, the shape functions are of the same sort as the test functions. 
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline289" class="outline-2">
<h2 id="orgheadline289"><span class="section-number-2">10</span> Numerical Optimization</h2>
<div class="outline-text-2" id="text-10">
</div><div id="outline-container-orgheadline263" class="outline-3">
<h3 id="orgheadline263"><span class="section-number-3">10.1</span> Linear Algebra</h3>
<div class="outline-text-3" id="text-10-1">
<dl class="org-dl">
<dt>Positive definite</dt><dd>A square matrix \(A\) is positive definite if \(x^T A x > 0\) for all nonzero \(x\in \R^n\). All eigenvalues of a symmetric positive definite matrix are positive.</dd>
<dt>Positive semi-definite</dt><dd>A square matrix \(A\) is positive definite if \(x^T A x \ge 0\) for all \(x\in \R^n\).</dd>
<dt>Singularity</dt><dd>Let \(A\) be a square matrix, then the followings are equivalent: 
<ul class="org-ul">
<li>\(A\) is nonsingular</li>
<li>For any \(b\in \R^n\), there exists \(x\in\R^n\) such that \(Ax=b\)</li>
<li>Determinant \(|A| \ne 0\)</li>
<li>\(A\) has an inverse.</li>
</ul></dd>
<dt>Orthogonal</dt><dd>A square matrix \(Q\) is orthogonal if \(Q^T Q = Q Q^T=I\). We also have \(Q^{-1} = Q^T\)</dd>
<dt>Vector Norm</dt><dd>\[||x||_p = \left(\sum_i |x_i|^p \right)^{1\over p} \]</dd>
<dt>Matrix Norm</dt><dd>Matrix norm is derived from vector norm: \[ ||A|| = \sup_{x\ne 0} {||Ax||\over ||x||} \]
<ul class="org-ul">
<li>1-norm is the maximum absolute column sum  \[ ||A||_1 = \max_j \sum_i |A_{ij}| \]</li>
<li>2-norm is the largest eigenvalue of \(\sqrt{A^T A}\)</li>
<li>\(\infty\) -norm is the maximum absolute row sum  \[ ||A||_{\infty} = \max_i \sum_j |A_{ij}| \]</li>
<li>Frobenius norm (not consistent with vector norm) \[||A||_F = \sqrt{\sum_{i,j} A^2_{ij}} \]</li>
</ul></dd>
<dt>Condition number</dt><dd>Condition Number of a nonsingular matrix is defined as \[\kappa(A) = ||A|| \cdot ||A^{-1}||\]</dd>
<dt>Eigenvalue</dt><dd>For a square matrix \(A\in \R^{n\times n}\), if there is a nonzero vector \(q\) such that \[Aq = \lambda q\] then \(\lambda\) is an eigenvalue and \(q\) is an eigenvector.</dd>
<dt>Rank</dt><dd>Rank of a matrix is the dimension of the vector space generated by its columns or rows. Any rank-1 matrix can be written as \(\vu \vv^T\), where \(\vu, \vv \in \R^{n\times1}\)</dd>
</dl>
</div>
<div id="outline-container-orgheadline262" class="outline-4">
<h4 id="orgheadline262"><span class="section-number-4">10.1.1</span> Matrix Decomposition</h4>
<div class="outline-text-4" id="text-10-1-1">
<ul class="org-ul">
<li>Singular Value Decomposition (SVD)</li>
<li id="Spectral Decomposition">If \(A\in \R^{n\times n}\) is symmetric, its spectral decomposition is given by \[ A = Q\Lambda Q^T\] where \(\Lambda = \mathrm{diag}(\lambda_1, \lambda_2, \dots, \lambda_n)\), and eigenvector matrix \(Q=[q_1, q_2, \dots q_n]\)</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgheadline266" class="outline-3">
<h3 id="orgheadline266"><span class="section-number-3">10.2</span> Overview</h3>
<div class="outline-text-3" id="text-10-2">
<dl class="org-dl">
<dt>Three components of an optimization problem</dt><dd><ul class="org-ul">
<li><b>Objective</b>: a quantitative measure of the performance of the system under study.</li>
<li><b>Variables</b>: the objective depends on certain characteristics of the system.</li>
<li><b>Constraint</b>: often the variables are constrained.</li>
</ul></dd>
<dt>Math formulation</dt><dd></dd>
</dl>
<p>
\[
  \min_{\vx\in R^n} f(\vx) \quad 
  s.t. \begin{cases}
         c_i(\vx) = 0 & i \in \E \quad (\mbox{Equality constraints}) \\
         c_i(\vx) \ge 0 & i \in \I \quad (\mbox{Inequality constraints})
       \end{cases}
\]
</p>
<dl class="org-dl">
<dt>Minimizers</dt><dd><ul class="org-ul">
<li>Global: \(f(x^*) \le f(x) \forall x\)</li>
<li>Local: \(\exists\) a neighborhood \(\N\), such that \(f(x^*) \le f(x) \forall x \in \N\)</li>
<li>Strict local: \(\exists\) a neighborhood \(\N\), such that \(f(x^*) < f(x) \forall x \in \N\) and \(x\ne x^*\)</li>
<li>Isolated: \(\exists\) a neighborhood \(\N\), such that \(x^*\) is the only local minimizer.</li>
</ul></dd>
<dt>Hessian</dt><dd>Hessian is a square matrix of second order partial derivatives. \(\nabla^2 f = H_{ij} = \partial_i\partial_j f\)</dd>
<dt>Jacobian</dt><dd>Jacobian is the matrix of all first-order partial derivatives of a vector valued function. Suppose \(\vf: \R^n\to \R^m\), then \(J \in \R^{m\times n}\) matrix:</dd>
</dl>
<p>
\[ J = \dd{\vf}{\vx} \mbox{ or } J_{ij} = \pp{f_i}{x_j}\]
</p>
</div>
<div id="outline-container-orgheadline264" class="outline-4">
<h4 id="orgheadline264"><span class="section-number-4">10.2.1</span> Convexity</h4>
<div class="outline-text-4" id="text-10-2-1">
<dl class="org-dl">
<dt>Convex set</dt><dd>For any two point \(x, y \in S\), if \(\alpha x + (1-\alpha) y \in S\) for all \(\alpha\in [0,1]\), then \(S\) is a convex set.</dd>
<dt>Convex function</dt><dd>A function \(f\) is convex if its domain \(S\) is convex and for any two points \(x, y\in S\) and \(\alpha \in [0,1]\), we have</dd>
</dl>
<p>
\[ f(\alpha x + (1-\alpha) y) \le \alpha f(x) + (1-\alpha) f(y) \]
</p>
<dl class="org-dl">
<dt>Global minimizer</dt><dd>If the objective and feasible region are both convex, then any local minimizer is in fact a global minimizer.</dd>
<dt>Convex optimization</dt><dd>Three requirements: 
<ul class="org-ul">
<li>The objective is convex</li>
<li>The equality constraint are <b>linear</b> (otherwise it wouldn't be convex region)</li>
<li>The inequality constraints are <b>concave</b> (because we let \(c_i(x)\ge 0\)).</li>
</ul></dd>
</dl>
</div>
</div>

<div id="outline-container-orgheadline265" class="outline-4">
<h4 id="orgheadline265"><span class="section-number-4">10.2.2</span> Taylor's Theorem</h4>
<div class="outline-text-4" id="text-10-2-2">
<ul class="org-ul">
<li>Let \(k\ge 1\) be an integer, function \(f: \R\to \R\) be k-times differentiable at point \(a\in \R\), then there exists a function \(h_k: \R\to \R\) such that</li>
</ul>
<p>
\[f(x) = \sum_{i=0}^k {f^{(i)}(a) \over i!} (x-a)^i + h_k(x)(x-a)^k \mbox{ and }\lim_{x\to a} h_k(x) = 0\]
</p>
<ul class="org-ul">
<li>Remainder \(R_k(x) = h_k(x)(x-a)^k\) goes to zero faster than \((x-a)^k\).</li>
<li>Vector form: Suppose that \(f: \R^n \to \R\) is continuously differentiable and that \(p\in \R^n\), then we have some \(t\in (0,1)\) such that \[f(x+p) = f(x) + p^T \nabla f(x+ tp)\] and \[f(x+p) = f(x) + p^T \nabla f(x) + {1\over2} p^T \nabla^2 f(x+ tp) p\]</li>
<li>Integral form: \[\nabla f(x+p) = \nabla f(x) + \int_0^1 \nabla^2 f(x+tp) \cdot p dt \]</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgheadline271" class="outline-3">
<h3 id="orgheadline271"><span class="section-number-3">10.3</span> Unconstrained Optimization</h3>
<div class="outline-text-3" id="text-10-3">
</div><div id="outline-container-orgheadline267" class="outline-4">
<h4 id="orgheadline267"><span class="section-number-4">10.3.1</span> Unconstrained Optimality Condition</h4>
<div class="outline-text-4" id="text-10-3-1">
<dl class="org-dl">
<dt>1st order Necessary</dt><dd>\(x^*\) is a local minimizer \(\Rightarrow \nabla f(x^*) = 0\)</dd>
<dt>2nd order Necessary</dt><dd>\(x^*\) is a local minimizer \(\Rightarrow \nabla f(x^*) = 0\) and \(\nabla^2 f(x^*)\succeq 0\) (positive semi-definite)</dd>
<dt>2nd order Sufficient</dt><dd>\(x^*\) is a <b>strict</b> local minimizer \(\Leftarrow \nabla f(x^*) = 0\) and \(\nabla^2 f(x^*)\succ 0\) (positive definite)</dd>
</dl>
</div>
</div>
<div id="outline-container-orgheadline268" class="outline-4">
<h4 id="orgheadline268"><span class="section-number-4">10.3.2</span> Line Search</h4>
<div class="outline-text-4" id="text-10-3-2">
<ul class="org-ul">
<li>In the line search strategy, the algorithm chooses choose a direction \(p_k\) and searches along this direction for a lower objective.</li>
<li>Subproblem: \(\min_{\alpha>0} f(x_k + \alpha p_k)\)</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline269" class="outline-4">
<h4 id="orgheadline269"><span class="section-number-4">10.3.3</span> Line Search Directions</h4>
<div class="outline-text-4" id="text-10-3-3">
<dl class="org-dl">
<dt>Steepest descent direction</dt><dd>\(p_k = -\nabla f_k\)</dd>
<dt>Newton direction</dt><dd><ul class="org-ul">
<li>\(p_k^N = -(\nabla^2 f_k)^{-1} \nabla f_k\).</li>
<li>Newton direction is derived from 2nd order Taylor approximation of \(f(x_k+ p)\).</li>
<li>Newton direction can be used if \(\nabla^2 f_k\) is positive definite.</li>
</ul></dd>
<dt>Quasi-Newton direction</dt><dd><ul class="org-ul">
<li>Does not require computation of Hessian.</li>
<li>From the integral form of Taylor's Theorem, we have \(\nabla f(x+p) - \nabla f(x) \approx \nabla^2 f(x)\cdot p\)</li>
<li>Hessian approximation should mimic the property and satisfies the <b>secant</b> equation:</li>
</ul>
<p>
\[B_{k+1} s_k = y_k \quad s_k = x_{k+1} - x_k \quad y_k = \nabla f_{k+1} - \nabla f_k\]
</p>
<ul class="org-ul">
<li>Two popular approximations: <b>SR1</b> (Symmetric Rank one) and <b>BFGS</b></li>
</ul></dd>
<dt>Conjugate gradient direction</dt><dd>\(p_k = -\nabla f_k + \beta_k p_{k-1}\), where \(\beta_k\) is a scalar that ensures that \(p_k\) and \(p_{k-1}\) are conjugate.</dd>
</dl>
</div>
</div>

<div id="outline-container-orgheadline270" class="outline-4">
<h4 id="orgheadline270"><span class="section-number-4">10.3.4</span> Trust Region</h4>
<div class="outline-text-4" id="text-10-3-4">
<ul class="org-ul">
<li>In the trust region strategy, the information gathered about \(f(x)\) is used to construct a model function \(m_k(x)\) whose behavior near the current point \(x_k\) is similar to that of \(f(x)\).</li>
<li>Subproblem: \(\min_p m_k(x_k + p)\), where \(x_k + p\) lies inside the trust region.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgheadline275" class="outline-3">
<h3 id="orgheadline275"><span class="section-number-3">10.4</span> Least Square Problems</h3>
<div class="outline-text-3" id="text-10-4">
</div><div id="outline-container-orgheadline272" class="outline-4">
<h4 id="orgheadline272"><span class="section-number-4">10.4.1</span> Problem Formulation</h4>
<div class="outline-text-4" id="text-10-4-1">
<p>
In least-square problems, the objective \(f\) takes the form:
\[ f(x) = {1\over2} \vr\cdot \vr = {1\over2} \sum_{j=1}^m r_j^2(x) \]
where each \(r_j : \R^n \to \R\) is a smooth residual function, and \(m \ge n\).
</p>
</div>
</div>
<div id="outline-container-orgheadline273" class="outline-4">
<h4 id="orgheadline273"><span class="section-number-4">10.4.2</span> Solving</h4>
<div class="outline-text-4" id="text-10-4-2">
<ul class="org-ul">
<li>Gradient: \[ \nabla f = J^T \cdot \vr, \mbox{where } J = \pp{\vr}{\vx}  \]</li>
<li>Hessian \(H=\nabla^2 f\): The first item is available cheaply \(J^T J\)</li>
</ul>
<p>
\[H_{ij} = (\partial_i r_k)(\partial_j r_k) + r_k \partial_i \partial_j r_k\]
</p>
</div>
</div>
<div id="outline-container-orgheadline274" class="outline-4">
<h4 id="orgheadline274"><span class="section-number-4">10.4.3</span> Linear Least Square</h4>
<div class="outline-text-4" id="text-10-4-3">
<p>
If \(f(x) = {1\over2} |Ax-b|^2\), then \(J = A\) and setting \(\nabla f = A^T (Ax-b) = 0\) gives the <b>normal equation</b>
\[ A^T A x = A^T b \]
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline279" class="outline-3">
<h3 id="orgheadline279"><span class="section-number-3">10.5</span> Constrained Optimization</h3>
<div class="outline-text-3" id="text-10-5">
<dl class="org-dl">
<dt>Active set \(\A(x)\)</dt><dd>The active set \(\A(x)\) at any feasible \(x\) consists of the equality constraints indices from \(\E\) and indices of tight inequality constraints.</dd>
</dl>
<p>
\[ \A(x) = \E \cup \{i\in \I | c_i(x) =0 \} \]
</p>
<dl class="org-dl">
<dt>Tangent cone \(T_{\Omega}(x^*)\)</dt><dd>The set of all tangents (limiting direction of a feasible sequence) to \(\Omega\) at \(x^*\).</dd>
<dt>The set of linearized feasible directions \(\F(x)\)</dt><dd>Given a feasible point \(x\) and active set \(\A(x)\), the set of linearized feasible directions \(\F(x)\) is
\[ \F(x) = \{d | d^T \nabla c_i(x) = 0 \forall i \in \E \mbox{ and } d^T \nabla c_i(x) \ge 0 \forall i \in \A(x)\cap \I \} \]</dd>
<dt>Constraint qualifications</dt><dd>Constraint qualifications are assumptions that ensure similarity of the constraint set \(\Omega\) and its linearized assumption, in a neighborhood of \(x^*\).</dd>
<dt>LICQ (Linear Independence Constrains Qualification)</dt><dd>Given a feasible \(x\) and active set \(\A(x)\), LICQ holds if the set of active constraint gradients \(\{\nabla c_i, i\in \A(x)\}\) is linearly independent. If LICQ holds, none of the active constraint gradients can be zero.</dd>
<dt>Lagrangian multiplier vectors</dt><dd>\[L(x, \lambda) = f(x) - \sum_{i\in E\cup I}\lambda_i c_i(x) \]
<ul class="org-ul">
<li>\(\lambda_i^*\) indicates how hard \(f\) is pushing or pulling the solution \(x^*\) against the particular constraint \(c_i\).</li>
<li>\(\lambda_i^* = 0\) for inactive constraints and it indicates that \(c_i\) is not significant.</li>
</ul></dd>
</dl>
</div>

<div id="outline-container-orgheadline276" class="outline-4">
<h4 id="orgheadline276"><span class="section-number-4">10.5.1</span> KKT (1st order Necessary) condition</h4>
<div class="outline-text-4" id="text-10-5-1">
<p>
Suppose \(x^*\) is a local solution and LICQ holds for \(x^*\), then there is a Lagrangian multiplier vector \(\lambda^*\) such that
</p>
<ul class="org-ul">
<li>Stationarity: \[\nabla_x L(x^*, \lambda^*) = \nabla f - \sum_{i\in A(x^*)} \lambda^*_i \nabla c_i = 0\]</li>
<li>Primal feasibility: \(c_i(x^*) = 0\), for all \(i\in \E\) and \(c_i(x^*) \ge 0\), for all \(i\in \I\)</li>
<li>Dual feasibility: \(\lambda^*_i \ge 0\), for all \(i \in \I\)</li>
<li>Complementarity condition: \(\lambda^*_i \cdot c_i(x^*) = 0\), for all \(i\in I\). either constraint \(c_i\) is active or \(\lambda^*_i = 0\)</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline277" class="outline-4">
<h4 id="orgheadline277"><span class="section-number-4">10.5.2</span> Notes about KKT</h4>
<div class="outline-text-4" id="text-10-5-2">
<ul class="org-ul">
<li>We used \(\ge\) symbol for inequality constraints such that \(\nabla c_i(x)\) always points toward the feasible region for \(i \in \I\)</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline278" class="outline-4">
<h4 id="orgheadline278"><span class="section-number-4">10.5.3</span> Proof of KKT</h4>
<div class="outline-text-4" id="text-10-5-3">
<ul class="org-ul">
<li>Let \(x^*\) be a feasible point, then \(T_{\Omega}(x^*) \subset \F(x^*)\). If the LICQ is satisfied at \(x^*\), then \(T_{\Omega}(x^*) = \F(x^*)\)</li>
<li>A cone in \(\R^n\) can be represented by all its arbitrary vectors: \(\vk = \vB\vy + \vC\vw\), where \(\vB = [\vb_1, \vb_2, \dots, \vb_m] \in \R^{n\times m}\), \(\vy \ge 0\) and \(\vC\in \R^{n\times p}\).</li>
<li>If a cone lies on one side of a directional hyper plane (represented by its normal vector \(\vd\)), then \(\vk^T \vd \ge 0\) for all \(\vy >0\) and \(\vw\), i.e., \(B^T d\ge 0\) and \(C^T d=0\).</li>
<li><b>Farkas Lemma</b>: Given a vector \(g \in \R^n\) and a cone \(K = \{By + Cw | y\ge 0\}\), then exactly one of the following is true:
<ul class="org-ul">
<li>The vector is in the cone: \(g \in K\)</li>
<li>There is a plane with normal \(d\) that separates \(g\) from \(K\), i.e., \(g^T d<0\), \(B^T d\ge 0\) and \(C^T d=0\)</li>
</ul></li>
<li>Now we can prove KKT
<ul class="org-ul">
<li>If \(x^*\) is a local solution, then \(\nabla f(x^*) ^T d \ge 0\) for all \(d\in T_{\Omega}(x^*)\), otherwise we have a feasible descent direction.</li>
<li>If the LICQ is satisfied, then \(\nabla f(x^*) ^T d \ge 0\) for all \(d\in \F(x^*)\)</li>
<li>Let the cone be \[K = \left\{ \sum_{i\in\A(x^*)} \lambda_i \nabla c_i(x^*) \bigg| \lambda_i \ge 0 \forall i \in \A(x^*)\cap \I \right\}\], and the vector \(g = \nabla f(x^*)\), using Farkas Lemma then either \(g\in K\) or there exists plane normal \(d\) separating \(\nabla F(x^*)\) and \(K\).</li>
<li>In the case of \(d\in K\), we can construct required Lagrangian multipliers; In the latter case, \(d\) is a feasible descent direction since \(d\in \F(x^*)\).</li>
</ul></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgheadline280" class="outline-3">
<h3 id="orgheadline280"><span class="section-number-3">10.6</span> Duality</h3>
<div class="outline-text-3" id="text-10-6">
<dl class="org-dl">
<dt>Infimum and Supermum</dt><dd>Infimum: greatest lower bound; Supremum: least upper bound. 
<ul class="org-ul">
<li>If \(A\subseteq B\), then \(\sup A \le \sup B\) and \(\inf A \ge \inf B\)</li>
<li>\(\inf(-A) = - \sup A\), \(\sup(-A) = - \inf A\)</li>
<li>\(\inf (A + B) \ge \inf A + \inf B\)</li>
</ul></dd>
<dt>Original problem</dt><dd>\[\min_{x\in \R^n} f(x) \mbox{ s.t. } c_i(x) = 0 \forall i \in \E, c_i(x) \ge 0 \forall i \in \I \]</dd>
<dt>Lagrangian function</dt><dd>\[L(x,y) = f(x) - \sum_{i\in \E\cup\I}y_i c_i(x) \]</dd>
<dt>Primal Function</dt><dd>\[L_P(x) = \sup_{y \in \Y} L(x,y)\] where \(\Y = \{y: y_i \ge 0 \forall i \in \I \}\)</dd>
<dt>Dual Function</dt><dd>\[L_D(y) = \inf_{x} L(x,y) \]</dd>
<dt>Primal Problem</dt><dd><ul class="org-ul">
<li>\[ L_P(x) = \sup_{y\in\Y} \left\{\ f(x) - \sum_{i\in \E\cup\I} y_i c_i(x) \right\} = f(x) - \inf_{y\in\Y} \left\{ \sum_{i\in \E\cup\I} y_i c_i(x) \right\} \]</li>
<li>If \(x\) is feasible, then the \(\inf\) is zero. If \(x\) is infeasible, then at least one constraint is violated and we can choose \(y_i\) to make the \(\inf = -\infty\). \[L_P(x) = \begin{cases} f(x) & \mbox{if $x$ is feasible}  \\ f(x) - (-\infty) = \infty & \mbox{if $x$ is not feasible} \end{cases}\]</li>
<li>The original problem is the primal problem: \[ \min_{x} L_P(x) \iff \min_{x\in \R^n} f(x) \mbox{ s.t. } c_i(x) = 0 \forall i \in \E, c_i(x) \ge 0 \forall i \in \I\]</li>
</ul></dd>
<dt>Dual Problem</dt><dd>\(\max_{y\in \Y} \inf_x L(x,y)\)
<ul class="org-ul">
<li>Due to linearity of \(y\) and \(\inf(A+B) \ge \inf A + \inf B\), the dual function is always concave.</li>
</ul></dd>
<dt>Weak Duality</dt><dd>For any \(x^*\) and feasible \(y^*\in \Y\), we have</dd>
</dl>
<p>
\[L_P(x^*) = \sup_{y\in \Y} L(x^*, y) \ge L(x^*, y^*) \ge \inf_{x^*} L(x, y^*) = L_D(y^*) \]
</p>
<dl class="org-dl">
<dt>Duality Gap</dt><dd>If \(x^*\) is a primal feasible point and \(y^*\) is a dual feasible point, then \(f(x^*) \ge L_D(y^*)\), and we define \[\mathrm{gap}(x^*, y^*) = f(x^*) - L_D(y^*)\]</dd>
<dt>Saddle Point</dt><dd>A point \((x^*, y^*)\), where \(y^*\in \Y\) is a saddle point of the Lagrangian if for all \(x\in \R^n\) and \(y \in \Y\) we have \[ L(x^*, y) \le L(x^*, y^*) \le L(x, y^*) \]</dd>
<dt>Strong Duality</dt><dd>If the Lagrangian has a saddle \((x^*, y^*)\), then \(x^*\) is a solution to the primal problem, \(y^*\) is a solution to the dual problem and \(\mathrm{gap}(x^*, y^*) = 0\).</dd>
<dt>Duality and Convex Optimization</dt><dd>If the original problem is a convex optimization, it follows that \((x^*, y^*) \in \R^n\times \Y\) is a KKT point if and only if it is a saddle point to the Lagrangian.</dd>
</dl>
</div>
</div>

<div id="outline-container-orgheadline283" class="outline-3">
<h3 id="orgheadline283"><span class="section-number-3">10.7</span> Linear Programming</h3>
<div class="outline-text-3" id="text-10-7">
<dl class="org-dl">
<dt>Standard form</dt><dd>Linear objective and linear constraints. \(c, x \in \R^n, b\in \R^m\), and \(A\in \R^{m\times n}\) with full row rank (usually \(m<n\)).
\[\min c^T x, \mbox{ subject to } Ax=b, x \ge 0 \]</dd>
<dt>Lagrangian</dt><dd>\[ L(x, \lambda, s) = c^T x - \lambda^T(Ax-b) - s^T x = (c - A^T\lambda - s)^T x + \lambda^T b \]</dd>
<dt>KKT condition</dt><dd><ul class="org-ul">
<li>\(A^T \lambda +s = c\)</li>
<li>\(Ax = b\)</li>
<li>\(x\ge 0\)</li>
<li>\(s \ge 0\)</li>
<li>\(x^T s = 0\)</li>
</ul></dd>
<dt>Dual problem</dt><dd>\[\max b^T \lambda, \mbox{ subject to } A^T \lambda \le c \]</dd>
<dt>Dual problem with slack variables</dt><dd>\[\max b^T \lambda, \mbox{ subject to } A^T \lambda + s = c, s\ge 0 \]</dd>
</dl>
</div>
<div id="outline-container-orgheadline281" class="outline-4">
<h4 id="orgheadline281"><span class="section-number-4">10.7.1</span> Simplex Method</h4>
<div class="outline-text-4" id="text-10-7-1">
<dl class="org-dl">
<dt>Basic feasible point</dt><dd>\(x\) is a basic feasible point if there exists a subset \(\B\) of the index set \(\{1,2,\dots, n\}\) such that 
<ul class="org-ul">
<li>\(\B\) contains exactly \(m\) indices</li>
<li>\(i \not\in \B \Rightarrow x_i = 0\)</li>
<li>Matrix \(B\) composed of columns of \(A\) is nonsingular: \(B = [A_i]_{i\in\B}\)</li>
</ul></dd>
<dt>Vertex</dt><dd>All basic feasible points of the standard LP are vertices of the feasible polytope \(\{x | Ax=b, x\ge 0\}\), and vice versa.</dd>
<dt>Idea</dt><dd>Simplex method starts from a vertex, and moves from one vertex to an adjacent one for which \(\B\) differs in exactly one component.</dd>
</dl>
</div>
</div>
<div id="outline-container-orgheadline282" class="outline-4">
<h4 id="orgheadline282"><span class="section-number-4">10.7.2</span> Primal-Dual Interior-Point Method</h4>
<div class="outline-text-4" id="text-10-7-2">
<dl class="org-dl">
<dt>Interior point</dt><dd>The method requires all iterates to satisfy the inequality constraints in the problem <b>strictly</b>, so it is called interior-point method.</dd>
</dl>
</div>
</div>
</div>

<div id="outline-container-orgheadline288" class="outline-3">
<h3 id="orgheadline288"><span class="section-number-3">10.8</span> Method of Moving Asymptotes (MMA)</h3>
<div class="outline-text-3" id="text-10-8">
<ul class="org-ul">
<li>In each iteration of MMA, a strictly convex approximating subproblem is generated and solved.</li>
<li>Generation of these subproblems is controlled by "moving asymptotes"</li>
</ul>
</div>
<div id="outline-container-orgheadline284" class="outline-4">
<h4 id="orgheadline284"><span class="section-number-4">10.8.1</span> Problem to solve</h4>
<div class="outline-text-4" id="text-10-8-1">
<p>
\(\vx\in \R^n\) is the design variable, \(f_0(\vx)\) is the objective function.
</p>
<ul class="org-ul">
<li>Minimize \(f_0(\vx)\)</li>
<li>Inequality constraints \(f_i(\vx) \le \hat{f_i}\), for \(i = 1,\dots, m\)</li>
<li>Bound constraints \(\underline{x}_j \le x_j \le \overline{x}_j\), for \(j = 1,\dots,n\)</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline285" class="outline-4">
<h4 id="orgheadline285"><span class="section-number-4">10.8.2</span> General approach</h4>
<div class="outline-text-4" id="text-10-8-2">
<ol class="org-ol">
<li>Choose a starting point \(\vx^{(0)}\), and set iteration index \(k=0\)</li>
<li>Given an iterate \(\vx^{(k)}\), calculate value and gradient of objective and constraints: \(f_i(\vx^{(k)})\) and \(\nabla f_i(\vx^{(k)})\) for \(i=0,1,\dots,m\)</li>
<li>Generate a subproblem \(P^{(k)}\) using linearized \(f_i\), based on the calculated \(f_i\) and \(\nabla f_i\).</li>
<li>Solve \(P^{(k)}\) and use the solution for next iteration.</li>
</ol>
</div>
</div>

<div id="outline-container-orgheadline286" class="outline-4">
<h4 id="orgheadline286"><span class="section-number-4">10.8.3</span> Approximation of \(f_i\)</h4>
<div class="outline-text-4" id="text-10-8-3">
<p>
\(\tilde{f_i}(\vx)\) is a first order convex approximation of \(f_i\), i.e., it has the same value and derivative as \(f_i\) at \(\vxk\) 
\[ \Ljk < \xjk < \Ujk \]
\[ \tilde{f_i}(\vx) 
  = \rik + \sum_{j=1}^n \left( {p_{ij}^{(k)} \over \Ujk - x_j} + {q_{ij}^{(k)} \over x_j - \Ljk } \right) \]
where 
\[ p_{ij}^{(k)} = \max\left\{0, \pow{ \Ujk - \xjk }{2} \pp{f_i}{x_j} \right\} \]
\[ q_{ij}^{(k)} = \max\left\{0, - \pow{ \xjk - \Ljk }{2} \pp{f_i}{x_j} \right\} \]
and \(\rik\) is meant to make \(\tilde{f_i}(\vxk) = f_i(\vxk)\)
</p>

<p>
In summary
\[ \tilde{f_i}(\vx) = r_i^{(k)} + \sum_{j=1}^n 
\begin{cases}
{ \pow{\Ujk - \xjk}{2} \over \Ujk - x_j} \pp{f_i}{x_j} & \pp{f_i}{x_j} > 0 \\
0 & \pp{f_i}{x_j} = 0 \\
-{ \pow{\xjk - \Ljk}{2} \over x_j - \Ljk } \pp{f_i}{x_j} & \pp{f_i}{x_j} < 0 \end{cases} \]
The asymptotes \(L, U\) controls second order derivative of \(\tilde{f_i}\). The closer they are chosen to \(\vx\), the larger become the second derivatives. 
</p>
</div>
</div>
<div id="outline-container-orgheadline287" class="outline-4">
<h4 id="orgheadline287"><span class="section-number-4">10.8.4</span> Solving subproblem</h4>
</div>
</div>
</div>

<div id="outline-container-orgheadline316" class="outline-2">
<h2 id="orgheadline316"><span class="section-number-2">11</span> Probability and Statistics</h2>
<div class="outline-text-2" id="text-11">
</div><div id="outline-container-orgheadline290" class="outline-3">
<h3 id="orgheadline290"><span class="section-number-3">11.1</span> Probability</h3>
<div class="outline-text-3" id="text-11-1">
<dl class="org-dl">
<dt>Sample space \(\Omega\)</dt><dd>Sample space is the set of all possible outcomes in an experiment.</dd>
<dt>Event</dt><dd>Event is a particular subset of sample space \(\Omega\).</dd>
<dt>Probability measure</dt><dd>a probability measure on \(\Omega\) is a function \(p\) from subsets of \(\Omega\) to the real numbers that satisfies the following axioms:
<ul class="org-ul">
<li>\(p(\Omega) = 1\)</li>
<li>If \(A\subset \Omega\), then \(p(A) \ge 0\)</li>
<li>If \(A_1 \cap A_2 = \emptyset\) (disjoint), then \(p(A_1\cup A_2) = p(A_1) + p(A_2)\)</li>
</ul></dd>
<dt>Conditional probability</dt><dd>Let \(A, B\) be two events with \(p(B)\ne 0\). If we are given that event \(B\) occurred, then the relevant sample space is \(B\) rather than \(\Omega\). The conditional probability of \(A\) given \(B\) is</dd>
</dl>
<p>
\[p(A|B) = {p(A\cap B) \over p(B)}\]
</p>
<dl class="org-dl">
<dt>Law of total probability</dt><dd>Let \(B_i\) be mutually disjoint nonempty events and \(\cup_i B_i = \Omega\), then for any event \(A\): \[p(A) = \sum_i p(A|B_i) p(B_i)\]</dd>
<dt>Bayes' rule</dt><dd>\[p(A|B) = {p(B|A) p(A) \over p(B)}\]</dd>
<dt>Independence</dt><dd>\(A, B\) are independent if knowing that one had occurred gave us no information about whether the other had occurred. \[ p(A\cap B) = p(A)p(B) \]</dd>
</dl>
</div>
</div>

<div id="outline-container-orgheadline304" class="outline-3">
<h3 id="orgheadline304"><span class="section-number-3">11.2</span> Random Variables</h3>
<div class="outline-text-3" id="text-11-2">
<dl class="org-dl">
<dt>Random variable</dt><dd>A random variable is a function from \(\Omega\) to the real numbers.</dd>
<dt>Discrete</dt><dd>A discrete random variable can take on only a finite or at most a countably infinite number of values.</dd>
<dt>Discrete Variables</dt><dd><ul class="org-ul">
<li><b>Frequency</b> function: \(p(x_i) = P(X = x_i)\)</li>
<li>Cumulative distribution function (CDF): CDF is a non-decreasing function with \(\lim_{x\to-\infty} F(x)=0\) and \(\lim_{x\to\infty} F(x)=1\). \(F(x) = p(X\le x), -\infty \le x \le \infty\)</li>
</ul></dd>
<dt>Continuous variables</dt><dd><ul class="org-ul">
<li><b>Density</b> function \(f(x)\) has the properties: 
<ul class="org-ul">
<li>\(f(x) \ge 0\)</li>
<li>\(f(x)\) is pairwise continuous</li>
<li>\(\int_{-\infty}^{\infty} f(x)d x = 1\)</li>
</ul></li>
<li>Cumulative distribution function: \[F(x) = p(X\le x) = \int_{-\infty}^x f(u) du \]</li>
<li>Quantile: The p-th quantile of the distribution with CDF \(F(x)\) is defined to be the inverse of \(F\): \[ x_p = F^{-1}(p)\]</li>
</ul></dd>
</dl>
</div>
<div id="outline-container-orgheadline297" class="outline-4">
<h4 id="orgheadline297"><span class="section-number-4">11.2.1</span> Discrete Distributions</h4>
<div class="outline-text-4" id="text-11-2-1">
</div><ol class="org-ol"><li><a id="orgheadline291"></a>Bernoulli distribution (binary)<br  /><div class="outline-text-5" id="text-11-2-1-1">
<p>
A Bernoulli variable takes value on only 0 or 1, with probability \(1-p\) and \(p\). In application, it often occurs as indicator variable. \[ p(1) = p; p(0) = 1-p \]
</p>
</div></li>
<li><a id="orgheadline292"></a>Binomial distribution (number of successes)<br  /><div class="outline-text-5" id="text-11-2-1-2">
<p>
A Binomial variable \(X\) is the total number of successes in \(n\) independent Bernoulli (such as coin tossing) experiments.
\[ p(k) = p(X=k) = {n\choose k} p^k (1-p)^{n-k} \]
</p>
</div></li>
<li><a id="orgheadline293"></a>Geometric distribution (number of trials till the first success)<br  /><div class="outline-text-5" id="text-11-2-1-3">
<p>
The geometric distribution is also constructed from independent Bernoulli trials, but from an infinite sequence. Define \(X\) as the total number of trials up to and including the first success. \[p(k) = p(X=k) = (1-p)^{k-1} p\]
</p>
</div></li>
<li><a id="orgheadline294"></a>Negative binomial distribution (number of trials till the first \(r\) success)<br  /><div class="outline-text-5" id="text-11-2-1-4">
<p>
Negative binomial distribution is a generalization of geometric distribution. Define \(X\) as the total number of trials performed until there are \(r\) success (the last one is a success): \[p(k) = p(X=k) = {k-1 \choose r-1} p^r (1-p)^{k-r} \]
</p>
</div></li>
<li><a id="orgheadline295"></a>Hyper-geometric distribution<br  /><div class="outline-text-5" id="text-11-2-1-5">
<p>
Suppose that an urn contains \(n\) balls, of which \(r\) are black and \(n-r\) are white. \(X\) denotes the number of black balls drawn when taking \(m\) balls without replacement. \[p(k) = p(X=k) = {{r\choose k} {n-r\choose m-k} \over {n\choose m} }\]
</p>
</div></li>
<li><a id="orgheadline296"></a>Poisson distribution (large \(n\) small \(p\))<br  /><div class="outline-text-5" id="text-11-2-1-6">
<p>
Poisson frequency function with parameter \(\lambda>0\) is given by \[ p(x) = {\lambda^k \over k! } e^{-\lambda} \] Poisson distribution approximates Binomial distribution with large \(n\), small \(p\) and \(np=\lambda\). Poisson distribution can be used to model the total number of occurrence of some event in a given interval of time, such as the number of calls coming into an exchange during a unit of time (if the exchange serves a lot of customers who act independently).
</p>
</div></li></ol>
</div>

<div id="outline-container-orgheadline303" class="outline-4">
<h4 id="orgheadline303"><span class="section-number-4">11.2.2</span> Continuous Distributions</h4>
<div class="outline-text-4" id="text-11-2-2">
</div><ol class="org-ol"><li><a id="orgheadline298"></a>Uniform distribution<br  /><div class="outline-text-5" id="text-11-2-2-1">
<p>
A uniform random variable on the interval of \([a,b]\)
\[f(x) = \begin{cases} {1\over b-a} & a \le x \le b \\ 0 & x < a \mbox{ or } x > b \end{cases}\]
</p>
</div></li>
<li><a id="orgheadline299"></a>Exponential distribution<br  /><div class="outline-text-5" id="text-11-2-2-2">
<p>
\[ f(x) = \begin{cases}\lambda e^{-\lambda x} & x \ge 0 \\ 0 & x < 0 \end{cases} \quad
F(x) = \begin{cases} 1- e^{-\lambda x} & x \ge 0 \\ 0 & x < 0 \end{cases} 
\] 
Exponential distribution is usually used to model lifetimes or waiting times (probability of dying is the same at any age). Suppose an electronic component has lasted time \(s\), and we wish to calculate the probability that it will last at least \(t\) more time: 
\[p(T>t+s | T>s) = {p(T> t+s)\over p(T>s)} = e^{-\lambda t} \]
Exponential distribution is thus said to be <b>memoryless</b> since the probability does not depend on \(s\). On the other hand, memorylessness also implies that the distribution is exponential. 
</p>
</div></li>
<li><a id="orgheadline300"></a>Gamma distribution<br  /></li>
<li><a id="orgheadline301"></a>Normal (Gaussian) distribution<br  /><div class="outline-text-5" id="text-11-2-2-4">
<p>
\[ \phi(x) = {1\over \sigma \sqrt{2\pi}} e^{-(x-\mu)^2 / 2\sigma^2}, -\infty < x < \infty  \]
If \(X\sim N(\mu, \sigma^2)\), and \(Y=aX+b\), then \(Y\sim N(a\mu+b, a^2 \sigma^2)\)
</p>
</div></li>
<li><a id="orgheadline302"></a>Beta distribution<br  /></li></ol>
</div>
</div>

<div id="outline-container-orgheadline305" class="outline-3">
<h3 id="orgheadline305"><span class="section-number-3">11.3</span> Joint Distributions</h3>
<div class="outline-text-3" id="text-11-3">
<dl class="org-dl">
<dt>Discrete random variables</dt><dd><ul class="org-ul">
<li>Joint frequency function: \(X, Y\) are discrete random variables defined on the same sample space, then the joint frequency function is \[p(x,y) = p(X=x, Y=y)\]</li>
<li>Marginal frequency function of \(X\): \[p_X (x) = \sum_i p(x, y_i) \]</li>
</ul></dd>
</dl>
</div>
</div>

<div id="outline-container-orgheadline310" class="outline-3">
<h3 id="orgheadline310"><span class="section-number-3">11.4</span> Expected Value</h3>
<div class="outline-text-3" id="text-11-4">
</div><div id="outline-container-orgheadline306" class="outline-4">
<h4 id="orgheadline306"><span class="section-number-4">11.4.1</span> Expectation</h4>
<div class="outline-text-4" id="text-11-4-1">
<dl class="org-dl">
<dt>Discrete</dt><dd>If \(X\) is a discrete random variable with frequency function \(f(x)\), the expected value of \(X\) is</dd>
</dl>
<p>
\[ E(X) = \sum_i x_i p(x_i) \] provided that \(\sum_i |x_i|p(x_i) < \infty\)
</p>
<dl class="org-dl">
<dt>Continuous</dt><dd>If \(X\) is a continuous random variable with density \(f(x)\), then \[E(X) = \int_{-\infty}^{\infty} xf(x) dx\] provided that \(\int |x| f(x)dx <\infty\).</dd>
<dt>Markov's Inequality</dt><dd>. If \(X\) is a random variable with \(p(X\ge 0)=1\) and for which \(E(X)\) exists, then \[p(X\ge t) \le {E(X) \over t} \] Meaning: It is unlikely that \(X\) is much bigger than \(E(X)\).</dd>
<dt>Linearity of expectation</dt><dd>If \(X_1, \dots, X_n\) are jointly distributed random variables with expectations \(E(X_i)\), then</dd>
</dl>
<p>
\[E \left( a+\sum_i b_i X_i \right) = a + \sum_i b_i E(X_i)\]
</p>
</div>
</div>
<div id="outline-container-orgheadline307" class="outline-4">
<h4 id="orgheadline307"><span class="section-number-4">11.4.2</span> Variance and Standard Deviation</h4>
<div class="outline-text-4" id="text-11-4-2">
<dl class="org-dl">
<dt>Variance</dt><dd>\[\Var{X} = E\bigg( [X-E(X)]^2 \bigg)\]
<ul class="org-ul">
<li>Variance is a measure of variability (spread around the center).</li>
<li>In short words, variance is the <b>expected deviation from mean</b>.</li>
<li>For discrete variable: \[ \Var{X} = \sum_i (x_i - \mu)^2 p(x_i) \]</li>
<li>For continuous variable: \[ \Var{X} = \int_{-\infty}^{\infty} (x - \mu)^2 f(x) dx \]</li>
</ul></dd>
<dt>Standard deviation</dt><dd>Standard deviation is the square root of variance \[\sigma(X) = \sqrt{\Var{X}}\]</dd>
<dt>Coefficient or variation</dt><dd>aka relative standard deviation \(\sigma/\mu\)</dd>
<dt>Linear transformation</dt><dd>If \(\Var{X}\) exists, then \[\Var{a + bX} = b^2\Var{X}\]</dd>
<dt>Alternative calculation</dt><dd>By linearity of expectation, variance can also be calculated as
\[\Var{X} = E(X^2) - [E(X)]^2\]</dd>
<dt>Chebyshev's Inequality</dt><dd>Chebyshev's Inequality quantifies the notion that variance of a random variable measures how spread out its possible values are. Let \(X\) be a random variable with mean \(\mu\) and variance \(\sigma^2\), then for any \(t>0\)</dd>
</dl>
<p>
\[ p(|X-\mu|>t) \le {\sigma^2 \over t^2} \]
</p>
</div>
</div>
<div id="outline-container-orgheadline308" class="outline-4">
<h4 id="orgheadline308"><span class="section-number-4">11.4.3</span> A Mode for Measurement Error</h4>
<div class="outline-text-4" id="text-11-4-3">
<p>
The measurement is modeled as a random variable \(X\)
\[ X = x_0 + \beta + \varepsilon\]
where \(x_0\) is the true value, \(\beta\) is the bias or systematic error, and \(\varepsilon\) is the random error with \(E(\varepsilon) = 0\) and \(\Var{\varepsilon}=\sigma^2\). 
</p>
<dl class="org-dl">
<dt>MSE (Mean Square Error)</dt><dd>MSE is an overall measure of the size of the measurement error</dd>
</dl>
<p>
\[\MSE = E[(X-x_0)^2]\]
</p>
<dl class="org-dl">
<dt>MSE = bias + variance</dt><dd>MSE can be decomposed into bias and variance</dd>
</dl>
<p>
\[\MSE = \beta^2 + \sigma^2 \]
</p>
</div>
</div>
<div id="outline-container-orgheadline309" class="outline-4">
<h4 id="orgheadline309"><span class="section-number-4">11.4.4</span> Covariance and Correlation</h4>
<div class="outline-text-4" id="text-11-4-4">
<p>
Covariance is a measure of <span class="underline">joint variability</span> or <span class="underline">degree of association</span> of two random variables.
</p>
<dl class="org-dl">
<dt>Covariance</dt><dd>If \(X, Y\) are jointly distributed random variables with expectations \(\mu_X, \mu_Y\), their covariance is</dd>
</dl>
<p>
\[\Cov{X,Y} = E[(X-\mu_X) (Y-\mu_Y)]\] Using linearity of expectations we have 
\[\Cov{X, Y} = E(XY) - E(X)E(Y)\] If \(X, Y\) are independent \(E(XY) = E(X)E(Y)\), then \(\Cov{X,Y}=0\)
</p>
<dl class="org-dl">
<dt>Covariance of linear combinations of variables</dt><dd><ul class="org-ul">
<li>\(\Cov{a+X, Y} = \Cov{X,Y}\)</li>
<li>\(\Cov{aX, bY} = ab \Cov{X,Y}\)</li>
<li>\(\Cov{X, Y+Z} = \Cov{X,Y} + \Cov{X,Z}\)</li>
</ul></dd>
<dt>Correlation coefficient \(\rho\)</dt><dd>Correlation is defined in terms of covariance and variances. It is dimensionless and normalized; if \(X,Y\) are subjected to linear transformation, the correlation coefficient does not change.
\[\rho = {\Cov{X,Y} \over \sqrt{\Var{X} \Var{Y}}} = {\sigma_{XY} \over \sigma_X \sigma_Y}\]</dd>
<dt>\(\rho \in [-1,1]\)</dt><dd>\(\rho=\pm1\) if and only if \(Y = a + bX\) for some constant \(a,b\)</dd>
</dl>
</div>
</div>
</div>

<div id="outline-container-orgheadline315" class="outline-3">
<h3 id="orgheadline315"><span class="section-number-3">11.5</span> Data Pre-processing</h3>
<div class="outline-text-3" id="text-11-5">
</div><div id="outline-container-orgheadline311" class="outline-4">
<h4 id="orgheadline311"><span class="section-number-4">11.5.1</span> <span class="todo TODO">TODO</span> Skewness</h4>
</div>

<div id="outline-container-orgheadline313" class="outline-4">
<h4 id="orgheadline313"><span class="section-number-4">11.5.2</span> Normality</h4>
<div class="outline-text-4" id="text-11-5-2">
</div><ol class="org-ol"><li><a id="orgheadline312"></a>Box-Cox Transformation<br  /><div class="outline-text-5" id="text-11-5-2-1">
<p>
Box-Cox transformation is a series of power transformation
\[ x \leftarrow \begin{cases} {x^\lambda -1 \over \lambda} & \lambda \ne 0 \\ \log(x) & \lambda = 0 \end{cases} \]
where \(\lambda\) is determined such that it maximize the normality after transformation.
</p>
</div></li></ol>
</div>

<div id="outline-container-orgheadline314" class="outline-4">
<h4 id="orgheadline314"><span class="section-number-4">11.5.3</span> Cronbach's alpha</h4>
<div class="outline-text-4" id="text-11-5-3">
<p>
Cronbach's alpha is a measure of internal consistency. Suppose \(X=Y_1 + Y_2 +\dots Y_k\), then
\[\alpha = {k\over k-1} \left( 1 - {\sum_{i=1}^k \sigma^2_{Y_i} \over \sigma_X^2 } \right) \]
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline355" class="outline-2">
<h2 id="orgheadline355"><span class="section-number-2">12</span> Natural Language Processing</h2>
<div class="outline-text-2" id="text-12">
</div><div id="outline-container-orgheadline322" class="outline-3">
<h3 id="orgheadline322"><span class="section-number-3">12.1</span> Grammar</h3>
<div class="outline-text-3" id="text-12-1">
</div><div id="outline-container-orgheadline317" class="outline-4">
<h4 id="orgheadline317"><span class="section-number-4">12.1.1</span> Levels of languages:</h4>
<div class="outline-text-4" id="text-12-1-1">
<dl class="org-dl">
<dt>Phonetics ()</dt><dd>the study of speech sounds, their production and combination, and their representation by written symbols</dd>
<dt>Morphology ()</dt><dd>the branch of linguistics that deals with word structure and with functional changes in the forms of words, such as inflection and compounding</dd>
<dt>Syntax ()</dt><dd>the arrangement of and relationships among words, phrases, and clauses forming sentences; sentence structure</dd>
<dt>Semantics ()</dt><dd>the branch of linguistics concerned with the nature, the structure, and the development and changes of the meanings of speech forms, or with contextual meaning</dd>
<dt>Pragmatics ()</dt><dd>the branch of linguistics concerned with meaning in context, or the meanings of sentences in terms of the speaker's intentions in using them</dd>
</dl>
</div>
</div>

<div id="outline-container-orgheadline318" class="outline-4">
<h4 id="orgheadline318"><span class="section-number-4">12.1.2</span> Part-of-speech or word classes</h4>
<div class="outline-text-4" id="text-12-1-2">
<dl class="org-dl">
<dt>Two super categories</dt><dd><ul class="org-ul">
<li><b>closed class</b>: a closed class has relatively fixed membership; these words are generally function words;
<ul class="org-ul">
<li>prepositions: on, under, over, near</li>
<li>determiners:  this (as in this chapter), articles (a, an, the)</li>
<li>pronouns: she, who, I, others</li>
<li>conjunctions: and, but, or, as, if</li>
<li>auxiliary verbs: can, may, should, are</li>
<li>particles: function words that must be associated with another word or phrase to impart meaning, such as the infinitive marker "to".</li>
<li>numerals: one, two, first</li>
</ul></li>
<li><b>open classes (nouns, verbs, adjectives, adverbs)</b>: new words are continually coined or borrowed from other languages.</li>
</ul></dd>
<dt>Noun</dt><dd><ul class="org-ul">
<li>Proper nouns (names of specific persons or entities) / common nouns</li>
<li>Count nouns / mass nouns (conceptualized as a homogeneous group).</li>
</ul></dd>
<dt>Verb</dt><dd><ul class="org-ul">
<li>Morphological forms: non-third-person-sg (eat), third-person-sg (eats), progressive (eating), past participate (eaten).</li>
<li>Auxiliaries</li>
</ul></dd>
<dt>Adjective</dt><dd>Adjectives describe properties or qualities.</dd>
<dt>Adverb</dt><dd>Adverbs modify something (usually verbs or adverbs)</dd>
</dl>
</div>
</div>

<div id="outline-container-orgheadline319" class="outline-4">
<h4 id="orgheadline319"><span class="section-number-4">12.1.3</span> Abbreviations of part-of-speech categories</h4>
<div class="outline-text-4" id="text-12-1-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Abbr.</th>
<th scope="col" class="org-left">Word</th>
<th scope="col" class="org-left">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">Noun</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">Pronoun</td>
<td class="org-left">I, she</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">Proper noun</td>
<td class="org-left">USA</td>
</tr>

<tr>
<td class="org-left">NP</td>
<td class="org-left">Noun Phrase</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">Adj</td>
<td class="org-left">Adjective</td>
<td class="org-left">modify or describe nouns</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">Verb</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">Aux</td>
<td class="org-left">Auxiliary or helping verb</td>
<td class="org-left">do, is</td>
</tr>

<tr>
<td class="org-left">v.t.</td>
<td class="org-left">Transitive Verb</td>
<td class="org-left">can take a direct object</td>
</tr>

<tr>
<td class="org-left">v.i.</td>
<td class="org-left">Intransitive Verb</td>
<td class="org-left">cannot have a direct object</td>
</tr>

<tr>
<td class="org-left">VP</td>
<td class="org-left">Verb Phrase</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">Adv</td>
<td class="org-left">Adverb</td>
<td class="org-left">modify or describe adjectives, verbs or other adverbs</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">Det</td>
<td class="org-left">Determiner</td>
<td class="org-left">a, the</td>
</tr>

<tr>
<td class="org-left">Con</td>
<td class="org-left">Conjunction</td>
<td class="org-left">and, or</td>
</tr>

<tr>
<td class="org-left">Prep</td>
<td class="org-left">Preposition</td>
<td class="org-left">in, by, for</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orgheadline320" class="outline-4">
<h4 id="orgheadline320"><span class="section-number-4">12.1.4</span> Parts of sentences</h4>
<div class="outline-text-4" id="text-12-1-4">
<ul class="org-ul">
<li>Subject: the noun phrase about which something is said in the predicate</li>
<li>Predicate: the verb phrase that asserts something about the subject.</li>
<li>Objects: a noun phrase that directly or indirectly receives the action of a verb, or one that is governed by a preposition.</li>
<li>Complement: a phrase that completes the meaning and syntactic structure of the predicate.</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline321" class="outline-4">
<h4 id="orgheadline321"><span class="section-number-4">12.1.5</span> Sentence level constructions</h4>
<div class="outline-text-4" id="text-12-1-5">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 1:</span> Sentence-level constructions</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">Declarative</td>
<td class="org-left">S \(\to\) NP VP</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">Imperative</td>
<td class="org-left">S \(\to\) VP</td>
<td class="org-left">for commands and suggestions</td>
</tr>

<tr>
<td class="org-left">Yes-no question</td>
<td class="org-left">S \(\to\) Aux NP VP</td>
<td class="org-left">to ask question</td>
</tr>

<tr>
<td class="org-left">Wh-subject-question</td>
<td class="org-left">S \(\to\) Wh-NP VP</td>
<td class="org-left">Wh-NP as the subject</td>
</tr>

<tr>
<td class="org-left">Wh-non-subject-question</td>
<td class="org-left">S \(\to\) Wh-NP Aux NP VP</td>
<td class="org-left">e.g. What flights do you have from BWI?</td>
</tr>
</tbody>
</table>

<ul class="org-ul">
<li>Long-distance dependencies: In wh-non-subject-question structures, the wh-NP is far away from the predicate that it is semantically related to.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgheadline325" class="outline-3">
<h3 id="orgheadline325"><span class="section-number-3">12.2</span> Regular expression and Automata</h3>
<div class="outline-text-3" id="text-12-2">
<ul class="org-ul">
<li>Regular expression: an algebraic notation for characterizing a set of strings.</li>
<li>Formal language: a set of strings, each string composed of symbols from a finite symbol set called an <b>alphabet</b></li>
</ul>
</div>
<div id="outline-container-orgheadline323" class="outline-4">
<h4 id="orgheadline323"><span class="section-number-4">12.2.1</span> Elements of regular expression</h4>
<div class="outline-text-4" id="text-12-2-1">
<ul class="org-ul">
<li>disjunction (with several alternatives): <code>[], |, .</code></li>
<li>anchors: <code>^, $</code></li>
<li>counters: <code>*, +, ?, {n,m}</code></li>
<li>precedence operators: <code>(, )</code></li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline324" class="outline-4">
<h4 id="orgheadline324"><span class="section-number-4">12.2.2</span> Finite State Automaton (FSA)</h4>
<div class="outline-text-4" id="text-12-2-2">
<p>
Any regular expression can be realized as a FSA. A FSA is defined by five parameters:
</p>
<ul class="org-ul">
<li>\(Q = \{q_i\}\), a finite set of \(N\) states.</li>
<li>\(\Sigma\): a finite input alphabet of symbols.</li>
<li>\(q_0\): the start state.</li>
<li>\(F\): the set of final states, \(F\subseteq Q\).</li>
<li>\(\delta(q,i)\): the transition function (matrix) between states. Given a state \(q\in Q\) and an input \(i\in\Sigma\), \(\delta(q,i)\) returns a new state \(q'\in Q\). In other words, \(\delta(q,i)\) is a relation from \(Q\times \Sigma\) to \(Q\).</li>
</ul>

<p>
NFSA (Non-deterministic FSA): autumata with decision points. 
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline334" class="outline-3">
<h3 id="orgheadline334"><span class="section-number-3">12.3</span> Language Model</h3>
<div class="outline-text-3" id="text-12-3">
</div><div id="outline-container-orgheadline326" class="outline-4">
<h4 id="orgheadline326"><span class="section-number-4">12.3.1</span> Corpus</h4>
<div class="outline-text-4" id="text-12-3-1">
<ul class="org-ul">
<li>types: number of distinct words in a corpus</li>
<li>tokens: number of running words in a corpus</li>
<li>vocabulary size: total number of distinct words</li>
<li>lemma: a set of lexical forms having the same stem</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline327" class="outline-4">
<h4 id="orgheadline327"><span class="section-number-4">12.3.2</span> Bayes Theorem</h4>
<div class="outline-text-4" id="text-12-3-2">
<ul class="org-ul">
<li>Basic form: \(p(A|B) = { p(A,B) \over p(B)}\)</li>
<li>Reflection: \(p(A|B) \cdot p(B) = p(B|A) \cdot p(A)\)</li>
<li>Chain rule: \(p(A|B,C) \cdot p(B|C) = p(A,B|C)\)</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline333" class="outline-4">
<h4 id="orgheadline333"><span class="section-number-4">12.3.3</span> Measure of performance</h4>
<div class="outline-text-4" id="text-12-3-3">
</div><ol class="org-ol"><li><a id="orgheadline328"></a>Perplexity<br  /><div class="outline-text-5" id="text-12-3-3-1">
<ul class="org-ul">
<li>a measurement of how well a probability distribution predicts a sample.</li>
<li>The perplexity of a language model on a test set \(\vw = (w_1,w_2,\dots,w_n)\) is a function of its probability</li>
</ul>
<p>
\[PP(\vw)=p(\vw)^{-1/N} = \sqrt[N]{{1\over p(\vw)}}\]
</p>
<ul class="org-ul">
<li>If we are given \(\log p(\vw)\), then \(PP(\vw)=2^{-\log p(\vw)/N} = 2^{H(L)}\)</li>
<li>Low perplexity \(\to\) good at predicting the sample.</li>
<li>a variant of entropy.</li>
<li>Relationship with cross entropy \(H\): \(PP = 2^H\)</li>
<li>Another interpretation of perplexity: the weighted average branching factor of a language; the number of possible words that can follow any word.</li>
</ul>
</div></li>
<li><a id="orgheadline329"></a>Entropy<br  /><div class="outline-text-5" id="text-12-3-3-2">
<ul class="org-ul">
<li>A measure of information contained in each message.</li>
<li>Given a random variable \(X\) that ranges over whatever we are predicting and that has a probability function \(f(x)\), the entropy of this random variable is defined as</li>
</ul>
<p>
\[
  H(X) = -\sum_{x\in X} p(x)\cdot \log_2 p(x)
\]
</p>
<ul class="org-ul">
<li>meaning: lower bound of bits to encode a certain value of \(X\).</li>
</ul>
</div></li>
<li><a id="orgheadline330"></a>Entropy rate<br  /><div class="outline-text-5" id="text-12-3-3-3">
<p>
Aka per word entropy. It is defined as
\[
  H(L) = -{1\over n} \sum_{|\vw| = n} p(\vw) \cdot \log_2 p(\vw)
\]
By Shannon theorem it can be estimated with 
\[
  H(L) = \lim_{n\to \infty} -{1\over n} \log_2 p(\vw)
\]
which means that we can take a long-enough single sentence instead of summing over all possible sentences.
</p>
</div></li>

<li><a id="orgheadline331"></a>Cross entropy<br  /><div class="outline-text-5" id="text-12-3-3-4">
<ul class="org-ul">
<li>Given an unknown probability distribution \(p\) and a model \(m\), the cross-entropy of \(m\) on \(p\) is defined as</li>
</ul>
<p>
\[
  H(p, m) = -\sum_{x\in X} p(x)\cdot\log_2 m(x)
\]
</p>
<ul class="org-ul">
<li>However, \(p\) is unknown and the above cross entropy cannot be directly calculated. We estimate the cross entropy with</li>
</ul>
<p>
\[
  H(p,m) \approx -\sum_{i=1}^N {1\over N} \log_2 m(x_i)
\]
</p>
<ul class="org-ul">
<li>Cross entropy measures how surprized that \(m\) is on average to see events drawn from \(p\).</li>
</ul>
</div></li>

<li><a id="orgheadline332"></a>KL divergence<br  /><div class="outline-text-5" id="text-12-3-3-5">
<ul class="org-ul">
<li>defined as:</li>
</ul>
<p>
\[
  D(p||m) = H(p, m) - H(p) = \sum_x p(x) \log_2 {p(x)\over m(x)}
\]
</p>
<ul class="org-ul">
<li>\(D(p||m) \ge 0\)</li>
<li>KL divergence means whether \(m\) is a good model for \(p\).</li>
</ul>
</div></li></ol>
</div>
</div>


<div id="outline-container-orgheadline340" class="outline-3">
<h3 id="orgheadline340"><span class="section-number-3">12.4</span> N-gram model</h3>
<div class="outline-text-3" id="text-12-4">
</div><div id="outline-container-orgheadline335" class="outline-4">
<h4 id="orgheadline335"><span class="section-number-4">12.4.1</span> Definition</h4>
<div class="outline-text-4" id="text-12-4-1">
<p>
Denote \(w_1^n\) as a word sequence \((w_1, w_2, \dots, w_n)\).
</p>
<ul class="org-ul">
<li>A language model assigns probability to a word sequence, i.e., to find \(p(w_1^n)\)</li>
<li>Using the chain rule: \(p(w_1^n) = p(w_1)\cdot p(w_2 ~|~ w_1) \cdot p(w_3 ~|~ w_1^2) \dots p(w_n ~|~ w_1^{n-1}) = \prod_{k=1}^n p(w_k ~|~ w_1^{k-1})\)</li>
<li>Simplify to bigram or 1st order Markov model: \(p(w_1^n) = \prod_{k=1}^n p(w_k|w_{k-1})\)</li>
<li><b>logprob</b>: to avoid overflow, we use \(\log_2 p(w_1^n)\)</li>
<li>For general N-gram model: \(p(w_1^n) = \prod_{k=1}^n p(w_k|w_{k-N+1}^{k-1})\)</li>
<li>Normalizing: to make sure conditional probabilities add up to 1 (every word must be followed by something)</li>
</ul>
<p>
\[
  p(w_n ~|~ w_{n-N+1}^{n-1}) 
  \approx { c(w_{n-N+1}^{n-1} w_n) \over \sum_w c(w_{n-N+1}^{n-1} w) }
  = { c(w_{n-N+1}^{n-1} w_n) \over c(w_{n-N+1}^{n-1}) }
\]
</p>
<ul class="org-ul">
<li>Maximum Likelihood Estimation (MLE): use the relative frequency (observed frequency of a sequence divided by frequency of its prefixed, defined as above).</li>
<li>Smoothing is to reevaluate zero and low probabilities in N-gram model.</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline336" class="outline-4">
<h4 id="orgheadline336"><span class="section-number-4">12.4.2</span> Laplace or Add-&lambda; smoothing</h4>
<div class="outline-text-4" id="text-12-4-2">
<ul class="org-ul">
<li>Denote \(V\) as the vocabulary size and \(N\) as the number of tokens.</li>
<li>Pretend that we see all words &lambda; times  more.</li>
<li>For unigram:</li>
</ul>
<p>
\[
p(w) = {c(w) \over N} \to {c(w) + \lambda \over N+\lambda V}
\]
</p>
<ul class="org-ul">
<li>For bigram: augment unigram counts first</li>
</ul>
<p>
\[
  p(w_n ~|~ w_{n-1}) = {c(w_{n-1} w_n) \over c(w_{n-1})}
  \to {c(w_{n-1} w_n) + \lambda \over c(w_{n-1}) +\lambda V}
\]
</p>
</div>
</div>
<div id="outline-container-orgheadline337" class="outline-4">
<h4 id="orgheadline337"><span class="section-number-4">12.4.3</span> Good-Turing Discounting</h4>
<div class="outline-text-4" id="text-12-4-3">
<ul class="org-ul">
<li>Idea: use the count of things you've seen once to help estimate the count of things you've never seen.</li>
</ul>
</div>
</div>


<div id="outline-container-orgheadline338" class="outline-4">
<h4 id="orgheadline338"><span class="section-number-4">12.4.4</span> Add-&lambda; back-off</h4>
<div class="outline-text-4" id="text-12-4-4">
<p>
If count of \(\dots w_{n-2}w_{n-1}w_n\) is small and not reliable, then we back off to a lower gram model. 
\[
  p(w_n ~|~ w_{n-1}) = {c(w_{n-1} w_n) \over c(w_{n-1})}
  \to {c(w_{n-1} w_n) + \lambda\cdot V p(w_n) \over c(w_{n-1}) +\lambda V}
\]
We don't simply add &lambda;. Instead, we add &lambda; based on a backed-off gram model. 
</p>
</div>
</div>

<div id="outline-container-orgheadline339" class="outline-4">
<h4 id="orgheadline339"><span class="section-number-4">12.4.5</span> Witten-Bell smoothing</h4>
</div>
</div>






<div id="outline-container-orgheadline345" class="outline-3">
<h3 id="orgheadline345"><span class="section-number-3">12.5</span> Log-linear model</h3>
<div class="outline-text-3" id="text-12-5">
</div><div id="outline-container-orgheadline341" class="outline-4">
<h4 id="orgheadline341"><span class="section-number-4">12.5.1</span> Model overview</h4>
<div class="outline-text-4" id="text-12-5-1">
<ul class="org-ul">
<li>a set of <b>Training data</b> (context/event pairs) \(\{ (x_1, y_1), (x_2, y_2), \dots (x_N, y_N) \}\)</li>
<li>For each training data tuple \((x_i, y_i)\), we have a vector-valued <b>feature function</b>: \(\vec{f} (x_i, y_i) = [f_1, f_2, \dots, f_k]\)</li>
<li>a vector of <b>feature weights</b>: \(\vec{\theta} = [\theta_1, \theta_2, \dots, \theta_k]\); same weights for all training data</li>
</ul>
<p>
Log-linear model assigns conditional probability to pair \((x,y)\) as follows:
\[
  p(y ~|~ x) = {\exp\left(\vec{\theta} \cdot \vec{f}(x,y) \right)
  \over \sum_{y'} \exp\left( \vec{\theta} \cdot \vec{f} (x, y') \right) } 
  = {u(x,y) \over Z(x) }
\]
</p>
</div>
</div>

<div id="outline-container-orgheadline342" class="outline-4">
<h4 id="orgheadline342"><span class="section-number-4">12.5.2</span> Training the model</h4>
<div class="outline-text-4" id="text-12-5-2">
<p>
Maximize entropy: \(\prod_{i=1}^N p(y_i ~|~ x_i)\) or equivalently:
\[
  \max: F(\vec{\theta}) = \log \prod_{i=1}^N p(y_i ~|~ x_i) 
  = \sum_{i=1}^N \log p(y_i ~|~ x_i) 
\]
</p>

<p>
Take the derivative: 
\[
  {\partial F(\vec{\theta}) \over \partial \theta_k} 
  = \sum_{i=1}^N f_k(x_i, y_i) - \sum_{i=1}^N \sum_{y'} p(y'~|~ x_i)\cdot f_k(x_i, y') 
\]
which can be interpreted as (observed count of feature \(k\)) \(-\) (expected count of feature \(k\)). 
</p>
</div>
</div>
<div id="outline-container-orgheadline343" class="outline-4">
<h4 id="orgheadline343"><span class="section-number-4">12.5.3</span> Regularization</h4>
</div>

<div id="outline-container-orgheadline344" class="outline-4">
<h4 id="orgheadline344"><span class="section-number-4">12.5.4</span> Log-linear model as smoothing</h4>
</div>
</div>

<div id="outline-container-orgheadline348" class="outline-3">
<h3 id="orgheadline348"><span class="section-number-3">12.6</span> Parsing</h3>
<div class="outline-text-3" id="text-12-6">
<ul class="org-ul">
<li>Constituent: a group of words that behave as a single unit or phrase.</li>
<li>Parsing: recognize an input string and assign a structure to it.</li>
</ul>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 2:</span> Search strategies</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">Top-down</td>
<td class="org-left">Bottom-up</td>
</tr>

<tr>
<td class="org-left">Goal-directed search</td>
<td class="org-left">data-directed search</td>
</tr>

<tr>
<td class="org-left">Rationalist: use prior knowledge</td>
<td class="org-left">Empiricist: use available data</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-orgheadline346" class="outline-4">
<h4 id="orgheadline346"><span class="section-number-4">12.6.1</span> CYK algorithm</h4>
</div>
<div id="outline-container-orgheadline347" class="outline-4">
<h4 id="orgheadline347"><span class="section-number-4">12.6.2</span> Earley algorithm</h4>
</div>
</div>

<div id="outline-container-orgheadline354" class="outline-3">
<h3 id="orgheadline354"><span class="section-number-3">12.7</span> Hidden Markov Model</h3>
<div class="outline-text-3" id="text-12-7">
</div><div id="outline-container-orgheadline349" class="outline-4">
<h4 id="orgheadline349"><span class="section-number-4">12.7.1</span> Components of a HMM</h4>
<div class="outline-text-4" id="text-12-7-1">
<ul class="org-ul">
<li>Q = q<sub>1</sub>, q<sub>2</sub>, &hellip;, q<sub>N</sub>; a set of N states</li>
<li>A = N &times; N matrix; a transition probability matrix (<b>prior</b>), where a<sub>ij</sub> = p(Q<sub>j</sub> | Q<sub>i</sub>), probability of transition from Q<sub>i</sub> to Q<sub>j</sub>.</li>
<li>O = o<sub>1</sub>, o<sub>2</sub>, &hellip;, o<sub>T</sub>; a sequence of \(T\) observations.</li>
<li>B = b<sub>i</sub>(o<sub>t</sub>); a sequence of observation <b>likelihoods</b>, aka emission probabilities. b<sub>i</sub>(o<sub>t</sub>) = p(o<sub>t</sub> | Q<sub>i</sub> ), the probability of an observation o<sub>t</sub> being generated from a state Q<sub>i</sub></li>
<li>q<sub>0</sub>, q<sub>F</sub>; a special start state and final state</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline350" class="outline-4">
<h4 id="orgheadline350"><span class="section-number-4">12.7.2</span> Two simplifying assumptions</h4>
<div class="outline-text-4" id="text-12-7-2">
<dl class="org-dl">
<dt>Markov assumption</dt><dd>As with first-order Markov chain, the probability of a particular state depends only on the previous state.</dd>
</dl>
<p>
\[ p(q_i | q_1, q_2, \dots, q_{i-1}) = p(q_i | q_{i-1}) \]
</p>
<dl class="org-dl">
<dt>Output independence</dt><dd>the probability of an output observation o<sub>i</sub> only depends on the state q<sub>i</sub> that produced the observation, and not on any other states or observations.</dd>
</dl>
<p>
\[ p(o_i | q_1, \dots, q_T, o_1, \dots, o_T) = p(o_i | q_i) \]
</p>
</div>
</div>
<div id="outline-container-orgheadline351" class="outline-4">
<h4 id="orgheadline351"><span class="section-number-4">12.7.3</span> Likelihood problem (Forward algorithm)</h4>
<div class="outline-text-4" id="text-12-7-3">
<p>
<b>The likelihood problem</b>: given a HMM &lambda; = (A,B) and an observation sequence O, determine the likelihood p(O|&lambda;). 
</p>
<ul class="org-ul">
<li>Since each hidden state produces exactly one observation, for a particular sequence of states Q and observation O, we have</li>
</ul>
<p>
\[p(O|Q) = \prod_{i=1}^T p(o_i|q_i)\]
</p>
<ul class="org-ul">
<li>Probability of a particular state sequence is</li>
</ul>
<p>
\[ p(Q) = \prod_{i=1}^T p(q_i|q_{i-1}) \]
</p>
<ul class="org-ul">
<li>Probability of O is given by</li>
</ul>
<p>
\[ p(O) = \sum_Q p(O,Q) = \sum_Q p(O|Q)\cdot p(Q) \]
</p>
<ul class="org-ul">
<li><p>
<b>Forward algorithm</b> solves \(p(O)\) using dynamic programming. 
</p>
<ul class="org-ul">
<li>Table \(\alpha_t(j)\): total probability of all paths that emit the observation data from Start up through today and end up in state \(q_j\), given the automaton &lambda;.
\[\alpha_t(j) =p(o_1, o_2, \dots, o_t, q_t = j | \lambda )\]</li>
<li>Initialize: \(\alpha_1(j) = a_{0j}\cdot b_j(o_1)\)</li>
<li>Compute \(\alpha_t(j)\) based on all entries in the last column:</li>
</ul>
<p>
\[ \alpha_t(j) = \sum_{i=1}^N \alpha_{t-1}(i) \cdot a_{ij} \cdot b_j(o_t) \]
<img src="./figures/NLP/HMMForwardAlgorithm.jpg" alt="HMMForwardAlgorithm.jpg" />
</p></li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline352" class="outline-4">
<h4 id="orgheadline352"><span class="section-number-4">12.7.4</span> Decoding problem (Viterbi algorithm)</h4>
<div class="outline-text-4" id="text-12-7-4">
<p>
<b>The decoding problem</b>: Given an observation sequence O and a HMM &lambda; = (A,B), discover the the best hidden state sequence Q. <b>Viterbi Algorithm</b> solves decoding using dynamic programming. 
</p>
<ul class="org-ul">
<li>Table \(v_t(j)\): the probability that the HMM is in state \(q_j\) after seeing the first \(t\) observations, and passing through the most probable state sequence \(q_0, q_1, \dots, q_{t-1}\).</li>
</ul>
<p>
\[ v_t(j) = \max_{q_0, \dots, q_{t-1}} p(q_0, \dots, q_{t-1}, o_1, \dots, o_t, q_t = j | \lambda ) = \max p(Q_t(j), O_t | \lambda) \]
</p>
<ul class="org-ul">
<li>Viterbi algorithm updates the table using</li>
</ul>
<p>
\[ v_t(j) = \max_{i=1}^N v_{t-1}(i) \cdot a_{ij} \cdot b_j(o_t) \]
</p>
</div>
</div>

<div id="outline-container-orgheadline353" class="outline-4">
<h4 id="orgheadline353"><span class="section-number-4">12.7.5</span> Learning problem</h4>
<div class="outline-text-4" id="text-12-7-5">
<ul class="org-ul">
<li><b>The learning problem</b>: Given an observation <span class="underline">unlabeled</span> sequence O and the set of states in HMM, learn the HMM parameters A and B.</li>
<li>Solve using backward-forward (aka Baum-Welch) algorithm.</li>
<li><b>Backward probability</b>: \(\beta_t(i)\), the total probability of all paths from state \(q_i\) that emit observations from time \((t+1)\) to the end.</li>
</ul>
<p>
\[\beta_t(i) = p(o_{t+1}, o_{t+2},\dots, o_T | q_t=i, \lambda ) \]
</p>
</div>
</div>
</div>
</div>



<div id="outline-container-orgheadline382" class="outline-2">
<h2 id="orgheadline382"><span class="section-number-2">13</span> Principle of Programming Languages</h2>
<div class="outline-text-2" id="text-13">
</div><div id="outline-container-orgheadline357" class="outline-3">
<h3 id="orgheadline357"><span class="section-number-3">13.1</span> Background</h3>
<div class="outline-text-3" id="text-13-1">
</div><div id="outline-container-orgheadline356" class="outline-4">
<h4 id="orgheadline356"><span class="section-number-4">13.1.1</span> Several Programming paradigm</h4>
<div class="outline-text-4" id="text-13-1-1">
<ul class="org-ul">
<li>Imperative: uses statements that change a programs state</li>
<li>Declarative: expresses the logic of a computation without describing its control flow without requiring the programmer to specify an exact procedure to follow.</li>
<li>Functional: attempts to minimize side effects.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgheadline360" class="outline-3">
<h3 id="orgheadline360"><span class="section-number-3">13.2</span> OCaml</h3>
<div class="outline-text-3" id="text-13-2">
</div><div id="outline-container-orgheadline358" class="outline-4">
<h4 id="orgheadline358"><span class="section-number-4">13.2.1</span> Variable types</h4>
<div class="outline-text-4" id="text-13-2-1">
<ul class="org-ul">
<li>The <code>unit</code> type is actually a 0-tuple.</li>
<li>A regular variable can be viewed as a 1-tuple.</li>
<li><b>record</b>: list of key value pairs: <code>type point = {x:float; y:float}</code></li>
<li><b>variant</b>: unified way of representing object of different types in a single list: <code>type number = | Int of int | Float of float</code></li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline359" class="outline-4">
<h4 id="orgheadline359"><span class="section-number-4">13.2.2</span> Polymorphism</h4>
<div class="outline-text-4" id="text-13-2-2">
<p>
In Ocaml, a function obtained through partial application is not polymorphic enough. Polymorphism is introduced only through the let construct, and results from application are weakly polymorphic.
</p>

<div class="org-src-container">

<pre class="src src-ocaml">let f x y = () ;; (* val f : 'a -&gt; 'b -&gt; unit = &lt;fun&gt; *)
f 2 ;; (* - : '_a -&gt; unit = &lt;fun&gt; *)
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgheadline364" class="outline-3">
<h3 id="orgheadline364"><span class="section-number-3">13.3</span> Operational Semantics</h3>
<div class="outline-text-3" id="text-13-3">
<dl class="org-dl">
<dt>Syntax</dt><dd>the set of rules governing the formation of expressions in a programming language</dd>
<dt>Semantics</dt><dd>the meaning of expressions</dd>
<dt>Operational semantics</dt><dd>a mathematical model of programming language execution; an interpreter defined mathematically. It defines computation relation: \(e \Rightarrow v\).</dd>
<dt>Abstract syntax</dt><dd>A term in an abstract syntax is represented as a syntax <b>tree</b> in which each operation to be performed is a <b>node</b> and each operand to that operation is a <b>child</b> of that node.</dd>
<dt>Concrete syntax</dt><dd>Concrete syntax of a language describes the textual representation of an expression in the language.</dd>
</dl>
</div>

<div id="outline-container-orgheadline361" class="outline-4">
<h4 id="orgheadline361"><span class="section-number-4">13.3.1</span> BNF (Backus-Naur Form)</h4>
<div class="outline-text-4" id="text-13-3-1">
<ul class="org-ul">
<li>BNF is a standard grammar formalism for defining language syntax.</li>
<li>All BNF grammars comprise terminals, non-terminals (aka syntactic categories), and production rules.</li>
<li>General form of production rules: <code>&lt;non-terminal&gt; -&gt; &lt;form1&gt; | ... |&lt;formn&gt;</code></li>
<li>Abstract syntax: a term in an abstract syntax is represented as a <b>syntax tree</b>, in which each operation to be performed is a node and each operand is a child of that node.</li>
<li>Normalizing: a language is normalizing if for all expressions \(e\), there is some value \(v\) such that \(e\Rightarrow v\).</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline362" class="outline-4">
<h4 id="orgheadline362"><span class="section-number-4">13.3.2</span> Variable substitution</h4>
<div class="outline-text-4" id="text-13-3-2">
<dl class="org-dl">
<dt>Bound occurrence</dt><dd>Any occurrence of variable \(x\) in the expression \(\fun x \to e\) are bound in \(e\). Note that \(x\) is bound in \(e\) but not bound in \(e_2\) in this example: \(\fun x \to e \mbox{ in } e_2\)</dd>
<dt>Free occurrence</dt><dd>A variable \(x\) is free in \(e\) if it is not bound in \(e\).</dd>
<dt>Close expressions</dt><dd>An expression \(e\) is closed if it contains no free variable occurrences. All programs we execute are closed.</dd>
<dt>Variable substitution \(e[e'/x]\)</dt><dd>The variable substitution of \(x\) for \(e'\) in \(e\) is the expression resulting in from replacing all <b>free</b> occurrences of \(x\) in \(e'\) with \(e'\).</dd>
<dt>&alpha;-conversion</dt><dd>replacing a variable definition and all occurrences bounded to it with a different name, to improve readability.</dd>
</dl>
</div>
</div>

<div id="outline-container-orgheadline363" class="outline-4">
<h4 id="orgheadline363"><span class="section-number-4">13.3.3</span> Y-combinator</h4>
<div class="outline-text-4" id="text-13-3-3">
<p>
In &lambda;-calculus self-reference or recursion is not allowed, but we can achieve self-reference without directly using self-reference. 
</p>

<p>
Let \(r = \lambda x.(\mathrm{expr})\) be the recursive function to construct. Define another function \(g\) that takes \(r\) as an input argument
\[g = \lambda r. \lambda x.(\mathrm{expr})\]
then \(g r\) will be the recursive function. On the other hand, \(r\) itself is such a recursive function, i.e., \(r = g r\). The problem becomes to find the fixed point of function \(g\). The Y-combinator defined as
\[Y := \lambda f.(\lambda x.f (x ~ x)) ~ (\lambda x.f (x ~ x))\]
could return a fixed point for a function \(g\) in that \(Y g = g (Y g)\). Therefore, \(r =Y g\) is such a recursive function. 
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline367" class="outline-3">
<h3 id="orgheadline367"><span class="section-number-3">13.4</span> Operational equivalence</h3>
<div class="outline-text-3" id="text-13-4">
<dl class="org-dl">
<dt>Operational equivalence (informal)</dt><dd>Two programs expressions are equivalent \(\iff\) one can be replaced with the other one at any place , and no external change in behavior will be noticed.</dd>
<dt>Operational equivalence</dt><dd>Two expressions are equivalent if in any possible context, one terminates if the other does. Nothing is said about the relationship between \(v\) and \(v'\), but they must be very similar. \(e \cong e' \iff \forall\) program context \(C\) such that \(C[e]\To v\) for some \(v\) if and only if \(C[e']\To v'\) for some \(v'\)</dd>
<dt>Touch</dt><dd>An expression is said to touch one of its sub-expressions if the evaluation of the expression causes the evaluation of that sub-expression.</dd>
</dl>
</div>

<div id="outline-container-orgheadline365" class="outline-4">
<h4 id="orgheadline365"><span class="section-number-4">13.4.1</span> Properties of operational equivalence</h4>
<div class="outline-text-4" id="text-13-4-1">
<dl class="org-dl">
<dt>Reflexivity</dt><dd>\(e\) is equivalent to itself; \(e\cong e\)</dd>
<dt>Symmetry</dt><dd>If \(e \cong e'\), then \(e' \cong e\)</dd>
<dt>Transitivity</dt><dd>If \(e_1 \cong e_2\) and \(e_2 \cong e_3\), then \(e_1 \cong e_3\)</dd>
<dt>Congruence</dt><dd>If \(e\cong e'\), then \(C[e] \cong C[e']\)</dd>
<dt>&beta;-equivalence</dt><dd>Function application; \((\fun x\to e)\; v \cong e[v/x]\)</dd>
<dt>&eta;-equivalence</dt><dd>&eta;-conversion is similar to the proxy pattern in OOSE. \(\fun x \to e \cong (\fun z \to \fun x \to e)\; z'\)</dd>
<dt>&alpha;-equivalence</dt><dd>Rename function argument; \(\fun x \to e \cong \fun y \to e[y/x]\)</dd>
<dt>Others</dt><dd><ul class="org-ul">
<li>If \(e\To v\) then \(e\cong v\)</li>
</ul></dd>
</dl>
</div>
</div>
<div id="outline-container-orgheadline366" class="outline-4">
<h4 id="orgheadline366"><span class="section-number-4">13.4.2</span> Some examples</h4>
<div class="outline-text-4" id="text-13-4-2">
<dl class="org-dl">
<dt>\(x \not\cong x+1-1\)</dt><dd>\(x\) may not necessarily be integer type. Consider the program context \((\fun x \to \bullet)\; \True\). Equivalence cannot hold if one side makes <span class="underline">assumptions about the type</span> of operand while the other side does not.</dd>
<dt>\((0\; 0) \cong (\fun x\to x\;x)\;(\fun x\to x\;x)\)</dt><dd>If \(e\not\To v\) for any \(v\) and \(e'\not\To v'\) for any \(v'\), and both \(e, e'\) are closed expressions, then \(e\cong e'\).</dd>
</dl>
</div>
</div>
</div>

<div id="outline-container-orgheadline372" class="outline-3">
<h3 id="orgheadline372"><span class="section-number-3">13.5</span> Abstract Syntax and Semantics</h3>
<div class="outline-text-3" id="text-13-5">
</div><div id="outline-container-orgheadline368" class="outline-4">
<h4 id="orgheadline368"><span class="section-number-4">13.5.1</span> Basic Fb</h4>
<div class="outline-text-4" id="text-13-5-1">

<div class="figure">
<p><img src="./figures/PL/Fb.jpg" alt="Fb.jpg" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline369" class="outline-4">
<h4 id="orgheadline369"><span class="section-number-4">13.5.2</span> FbV, Fb with Variant</h4>
<div class="outline-text-4" id="text-13-5-2">

<div class="figure">
<p><img src="./figures/PL/FbV.jpg" alt="FbV.jpg" />
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline370" class="outline-4">
<h4 id="orgheadline370"><span class="section-number-4">13.5.3</span> FbS, Fb with State</h4>
<div class="outline-text-4" id="text-13-5-3">

<div class="figure">
<p><img src="./figures/PL/FbS.jpg" alt="FbS.jpg" />
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline371" class="outline-4">
<h4 id="orgheadline371"><span class="section-number-4">13.5.4</span> FbX, Fb with Exception</h4>
<div class="outline-text-4" id="text-13-5-4">

<div class="figure">
<p><img src="./figures/PL/FbX.jpg" alt="FbX.jpg" />
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline373" class="outline-3">
<h3 id="orgheadline373"><span class="section-number-3">13.6</span> State</h3>
</div>

<div id="outline-container-orgheadline377" class="outline-3">
<h3 id="orgheadline377"><span class="section-number-3">13.7</span> Type Systems</h3>
<div class="outline-text-3" id="text-13-7">
</div><div id="outline-container-orgheadline374" class="outline-4">
<h4 id="orgheadline374"><span class="section-number-4">13.7.1</span> Concepts</h4>
<div class="outline-text-4" id="text-13-7-1">
<dl class="org-dl">
<dt>Type</dt><dd>A type is a property with which a program is implicitly or explicitly annotated before runtime.</dd>
<dt>Type Systems</dt><dd>Type systems are rule-based formal systems that are similar to operational semantics.</dd>
<dt>Type environment \(\Gamma\)</dt><dd>A type environment \(\Gamma\) is a set \(\{x_1 : \tau_1, \dots, x_n : \tau_n\}\) of bindings of free variables types. We write \(\Gamma(x) = \tau\) to indicate that \(\tau\) is the innermost or rightmost type for \(x\) in \(\Gamma\).</dd>
<dt>Type assertion</dt><dd>\(\Gamma \vdash e: \tau\) indicates that in type environment \(\Gamma\), \(e\) is of type \(\tau\).</dd>
<dt>Type inference</dt><dd>Type inference algorithms infer types and check that the program body has no type errors.</dd>
<dt>Type checking</dt><dd>A type-checking algorithm takes as input a type environment \(\Gamma\) and an expression \(e\). It either returns the type \(\tau\) of \(e\), or it raises an exception indicating that \(e\) is not well-typed in the environment \(\Gamma\).</dd>
<dt>Type soundness theorem</dt><dd>If \(\Gamma \vdash e: \tau\), then in the process of evaluating \(e\), a "stuck state" is never reached.</dd>
<dt>Subtyping</dt><dd>Subtyping allows records and object polymorphism to type check. \(\tau <:\tau'\) means \(\tau\) is a subtype of \(\tau'\), and an object of type \(\tau\) may also be considered as an object of type \(\tau'\).</dd>
</dl>
</div>
</div>

<div id="outline-container-orgheadline375" class="outline-4">
<h4 id="orgheadline375"><span class="section-number-4">13.7.2</span> Level of type systems</h4>
<div class="outline-text-4" id="text-13-7-2">
<dl class="org-dl">
<dt>Static type systems</dt><dd>Types are checked by the compiler, and type-unsafe programs fails to compile.</dd>
<dt>Dynamic type systems</dt><dd>Dynamic type systems check types information at runtime.</dd>
<dt>Untyped</dt><dd>In an untyped system there is no type check at all and anomalous behaviors can result at runtime. Untyped system are more expressive.</dd>
</dl>
</div>
</div>



<div id="outline-container-orgheadline376" class="outline-4">
<h4 id="orgheadline376"><span class="section-number-4">13.7.3</span> Subtyping</h4>
<div class="outline-text-4" id="text-13-7-3">
<ul class="org-ul">
<li>If record B = A + (some additional fields), then B is a subtype of A; \(B <: A\).</li>
<li>If function \(f <: g\), then \(f\) takes less and gives more.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgheadline381" class="outline-3">
<h3 id="orgheadline381"><span class="section-number-3">13.8</span> Concurrency</h3>
<div class="outline-text-3" id="text-13-8">
</div><div id="outline-container-orgheadline378" class="outline-4">
<h4 id="orgheadline378"><span class="section-number-4">13.8.1</span> Concepts</h4>
<div class="outline-text-4" id="text-13-8-1">
<dl class="org-dl">
<dt>Concurrency</dt><dd>A concurrent computation works on more than one things at once.</dd>
<dt>Parallelism</dt><dd>Parallel computing uses multiple processing elements simultaneously to solve one problem.</dd>
<dt>Race condition</dt><dd>Two operations are interleaved and leaves the data in an inconsistent condition.</dd>
<dt>Deadlock</dt><dd>Threads may need to wait for resources to free up (where were locked to prevent race condition), can can get in a cycle of waiting.</dd>
<dt>Process</dt><dd><ul class="org-ul">
<li>An executing instance of a program is called a process</li>
<li>Each process is started with a single thread, often called the primary thread, but can create additional threads from any of its threads.</li>
</ul></dd>
<dt>Thread</dt><dd><ul class="org-ul">
<li>A thread is the entity within a process that can be scheduled for execution.</li>
<li>All threads of a process share its virtual address space and system resources.</li>
<li>In Java, each thread has its own runtime stack but share only one heap.</li>
</ul></dd>
</dl>
</div>
</div>

<div id="outline-container-orgheadline379" class="outline-4">
<h4 id="orgheadline379"><span class="section-number-4">13.8.2</span> Actor model</h4>
<div class="outline-text-4" id="text-13-8-2">
<ul class="org-ul">
<li>Each actor is an autonomous, distributed agent, and has a name.</li>
<li>All communication between actors is via explicit messaging, no shared memory.</li>
<li>All messaging is asynchronous: senders never wait for replies from receivers.</li>
<li>The arrival order of messages is nondeterministic.</li>
<li>Actors can create other actors.</li>
<li>Only one message is processed at a time by an actor.</li>
<li>Concurrency is achieved by the fact that many actors can be processing their messages in parallel, not by concurrent behavior of an individual actor.</li>
<li>Actors can never accept messages in the middle of processing their original messages.</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline380" class="outline-4">
<h4 id="orgheadline380"><span class="section-number-4">13.8.3</span> AFbV</h4>
<div class="outline-text-4" id="text-13-8-3">
<ul class="org-ul">
<li>Messages are of variant type: <code>`typename(argument)</code></li>
<li>Send a message: actor-name &larr; message</li>
<li>Behavior is a function and takes the form <code>fun me -&gt; fun data -&gt; fun message -&gt; fun message -&gt; ...</code></li>
<li>Create an actor: <code>Create(behavior1, data)</code> returns name of the new actor
<ul class="org-ul">
<li>Assign a fresh actor name: <code>name2</code></li>
<li>Get new behavior via application: <code>behavior2 = behavior1 name2 data</code></li>
<li>Added a pair <code>&lt;name2, hehevior2&gt;</code></li>
</ul></li>

<li>Process a message: 
<ul class="org-ul">
<li>Obtain <code>&lt;name, behavior1&gt;</code> and <code>&lt;name &lt;- message&gt;</code></li>
<li>Process message <code>behavior2 = behavior1 message</code></li>
<li>Add pair <code>&lt;name, behavior2&gt;</code></li>
</ul></li>
</ul>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline455" class="outline-2">
<h2 id="orgheadline455"><span class="section-number-2">14</span> Graph Theory</h2>
<div class="outline-text-2" id="text-14">
</div><div id="outline-container-orgheadline388" class="outline-3">
<h3 id="orgheadline388"><span class="section-number-3">14.1</span> Notations</h3>
<div class="outline-text-3" id="text-14-1">
</div><div id="outline-container-orgheadline383" class="outline-4">
<h4 id="orgheadline383"><span class="section-number-4">14.1.1</span> Graph</h4>
<div class="outline-text-4" id="text-14-1-1">
<ul class="org-ul">
<li>\(P_n\): <b>path</b> with \(n\) vertices</li>
<li>\(C_n\): <b>cycle</b> with \(n\) vertices</li>
<li>\(K_n\): <b>complete graph</b> with \(n\) vertices</li>
<li>\(K_{r,s}\): <b>complete bipartite graph</b> with sets of size \(r\) and \(s\)</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline384" class="outline-4">
<h4 id="orgheadline384"><span class="section-number-4">14.1.2</span> Graph operations</h4>
<div class="outline-text-4" id="text-14-1-2">
<ul class="org-ul">
<li>\(\overline{G}\) : complement or inverse: a graph on the <b>same vertices</b> such that two distinct vertices of \(\overline{G}\) are adjacent \(\iff\) they are not adjacent in G.</li>
<li>\(L(G)\) line graph : the graph whose vertices are edges in \(G\) and two vertices in \(L(G)\) are adjacent \(\iff\) their corresponding edges are incident in \(G\).</li>
<li>\([S,T]\) : given \(S, T\subseteq V(G)\), we write \([S,T]\) as the set of edges having one endpoint in \(S\) and the other endpoint in \(T\).</li>
<li>\(G[T]\) : induced graph * is composed of vertex set \(T\) together with edges whose endpoints are both in \(T\). It is noted that \(G[T] = G - \overline{T}\).</li>

<li>\(G\vee H\) join: of simple graph \(G\) and \(H\): the graph obtained from the disjoint union \(G+H\) by adding the edges \(\{xy: x\in V(G), y\in V(H)\}\) (Def 3.3.6)</li>
<li>\(G\Box H\) (cartesian product): the graph with vertex set \(V(G)\times V(H)\) specified by putting \((u,v)\) adjacent to \((u',v')\) if and only if (1) \(u=u'\) and \(vv'\in E(H)\), or (2) \(v=v'\) and \(uu'\in E(G)\).</li>

<li><b>\(N_G(v)\) or \(N(v)\)</b>: neighborhood is the set of vertices adjacent to \(v\)</li>
<li><b>\(G\cdot e\)</b>: contraction of edge \(e\); replace its two endpoints with a single vertex.</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline385" class="outline-4">
<h4 id="orgheadline385"><span class="section-number-4">14.1.3</span> Size</h4>
<div class="outline-text-4" id="text-14-1-3">
<ul class="org-ul">
<li><b>order \(n(G)\)</b>: the number of vertices of a graph \(G\)</li>
<li><b>size \(e(G)\)</b>: the number of edges in a graph \(G\)</li>
<li><b>\(o(G)\)</b>: number of components with odd order.</li>
<li><b>\(\alpha(G)\)</b>: max size of independent set</li>
<li><b>\(\alpha'(G)\)</b>: max size of matching</li>
<li><b>\(\beta(G)\)</b>: min size of vertex cover</li>
<li><b>\(\beta'(G)\)</b>: min size of edge cover</li>
<li>* \(d_G(v)\) or $d(v)$*: degree is the number of edges incident to \(v\)</li>
<li><b>\(\tau(G)\)</b>: number of spanning trees of \(G\)</li>
<li><b>\(c(G)\)</b>: number of components</li>
<li><b>\(g(G)\)</b>: girth; length of shortest cycle.</li>
<li>diameter: max length of a shortest \(uv\) -path for all \(u, v\).&lt;/li&gt;</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline386" class="outline-4">
<h4 id="orgheadline386"><span class="section-number-4">14.1.4</span> Connectivity</h4>
<div class="outline-text-4" id="text-14-1-4">
<ul class="org-ul">
<li><b>\(\kappa(G)\)</b>: connectivity of a graph (min seperating set \(S\) of vertices), such that \(G\setminus S\) is disconnected or has only one vertex. <b>\(k\) -connected</b>: connectivity is at least \(k\)</li>
<li><b>\(\kappa'(G)\)</b>: edge-connectivity; min size of a disconnecting set of edges.</li>

<li><b>\(\kappa(x,y)\)</b>: min size of \(x,y\) -cut (vertices)</li>
<li><b>\(\kappa'(x,y)\)</b>: min number of edges whose deletion disconnects \(x\) and \(y\).</li>
<li><b>\(\lambda(x,y)\)</b>: max size of a set of pairwise internally disjoint \(x,y\) -paths.</li>
<li><b>\(\lambda'(x,y)\)</b>: max number of pairwise edge-disjoint \(x,y\) -paths.</li>
<li><b>\(\delta(G)\)</b>: min vertex degree</li>
<li><b>\(\Delta(G)\)</b> clique number: max vertex degree</li>
<li><b>\(\mu(xy)\)</b>: multiplicity of edge \(xy\)</li>
<li><b>\(\mu(G)\)</b>: max edge multiplicity in \(G\)</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline387" class="outline-4">
<h4 id="orgheadline387"><span class="section-number-4">14.1.5</span> Coloring</h4>
<div class="outline-text-4" id="text-14-1-5">
<ul class="org-ul">
<li><b>\(\chi(G)\)</b>: chromatic number; the least \(k\) such that \(G\) is \(k\) -colorable.</li>
<li><b>\(\chi'(G)\)</b>: edge-chromatic number (or chormatic index); the least \(k\) such that loopless graph \(G\) is \(k\) -edge-colorable.</li>
<li><b>\(\omega(G)\)</b>: clique number; the max size of a set of pairwise adjacent vertices in \(G\).</li>
<li><b>\(\chi(G;k)\)</b>: chromatic polynomial; number of proper colorings \(f: V(G)\to [k]\).</li>
<li><b>\(\theta(G)\)</b> clique cover number: the min number of cliques in \(G\) needed to cover \(V(G)\).</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgheadline398" class="outline-3">
<h3 id="orgheadline398"><span class="section-number-3">14.2</span> Basic Graph</h3>
<div class="outline-text-3" id="text-14-2">
</div><div id="outline-container-orgheadline389" class="outline-4">
<h4 id="orgheadline389"><span class="section-number-4">14.2.1</span> Directed graphs</h4>
<div class="outline-text-4" id="text-14-2-1">
<ul class="org-ul">
<li><b>digraph</b>: directed graph</li>
<li><b>edge \(uv\)</b>: from <b>tail</b> \(u\) to <b>head</b> \(v\). v is <b>successor</b> of \(u\), and \(u\) is the <b>predecessor</b> of \(v\).</li>
<li>An <b>orientation</b> of a graph \(G\) is a digraph \(D\) obtained from \(G\) by choosing an orientation (\(x\to y\) or \(y\to x\)) for each edge.</li>
<li><b>tournament</b>: an orientation of a complete graph</li>
<li><b>king</b>: a vertex from which every vertex is reachable by a path of length at most 2.</li>
<li><b>1.4.29</b>: Every tournament has a king.</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline391" class="outline-4">
<h4 id="orgheadline391"><span class="section-number-4">14.2.2</span> Edges and connections</h4>
<div class="outline-text-4" id="text-14-2-2">
<p>
<b>walk</b> \(\supseteq\) <b>trail</b> (no repeated edges) \(\supseteq\) <b>path</b> (no repeated edges and vertices) \(\supseteq\) <b>cycle</b>
</p>

<ul class="org-ul">
<li><b>walk</b>: a list \((v_0, e_1, \dots, e_k, v_k)\), such that edge \(e_i\) has endpoints \(v_{i-1}\) and \(v_i\). Both edges and vertices can be repeated.</li>
<li><b>trail</b>: a walk with no repeated edge</li>
<li><b>loop</b>: an edge whose endpoints are equal</li>
<li><b>path</b>: a simple graph whose vertices can be ordered so that two vertices are adjacent if and only they are consecutive in the list.</li>
<li><b>cycle</b>: a graph with an equal number of vertices and edges whose vertices form a closed chain.</li>
<li><b>a maximal path</b>: a path that is not contained in a longer path.</li>
<li><b>circuit</b>: a closed trail</li>
</ul>
</div>

<ol class="org-ol"><li><a id="orgheadline390"></a>Theorems<br  /><div class="outline-text-5" id="text-14-2-2-1">
<ul class="org-ul">
<li><b>1.2.15</b>: Every closed odd walk contains an odd cycle.</li>
</ul>
</div></li></ol>
</div>

<div id="outline-container-orgheadline392" class="outline-4">
<h4 id="orgheadline392"><span class="section-number-4">14.2.3</span> Vertices</h4>
<div class="outline-text-4" id="text-14-2-3">
<ul class="org-ul">
<li><b>clique</b>: a set of pairwise adjacent vertices</li>
</ul>

<p>
Properties
</p>

<ul class="org-ul">
<li><b>cut-vertex</b>: a vertex whose deletion increases the number of components.</li>
<li><b>isolated vertex</b>: a vertex of degree \(0\)</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline396" class="outline-4">
<h4 id="orgheadline396"><span class="section-number-4">14.2.4</span> Graphs</h4>
<div class="outline-text-4" id="text-14-2-4">
</div><ol class="org-ol"><li><a id="orgheadline393"></a>Special graphs<br  /><div class="outline-text-5" id="text-14-2-4-1">
<ul class="org-ul">
<li><b>complete graph</b>: every pair of distinct vertices is adjacent.</li>
<li><b>biclique</b>: a complete bipartite graph</li>
</ul>
<p>
\[ K_r + K_s = \overline{K_{r,s}} \]
</p>

<ul class="org-ul">
<li><b>simple or strict graph</b>: an unweighted, undirected graph containing no loops or multiple edges.</li>
<li><b>connected graph</b>: every pair of vertices is connected.</li>
<li><b>bigraph</b>: bipartite graph; a graph \(G\) is bipartite if \(V(G)\) is the union of two disjoint (possibly empty) independent sets</li>
<li><b>even</b>: all vertices are of even degree</li>
<li><b>regular</b>: if maximum degree is equal to minimum degree \(\Delta(G)=\delta(G)\).</li>
<li><b>tree</b>: a connected and acyclic graph</li>
</ul>
</div></li>

<li><a id="orgheadline394"></a>Chord<br  /><div class="outline-text-5" id="text-14-2-4-2">
<ul class="org-ul">
<li><b>chord</b> of a cycle \(C\) is an edge not in \(C\) whose endpoints lie in \(C\)</li>
<li><b>chordless cycle</b> in \(G\) is a cycle of length at least 4 that has no chord</li>
<li><b>chordal</b>: a simple graph that has no chordless cycle.</li>
</ul>
</div></li>

<li><a id="orgheadline395"></a>Graph operations<br  /><div class="outline-text-5" id="text-14-2-4-3">
<ul class="org-ul">
<li><b>component</b>: maximal connected subgraph</li>
</ul>
</div></li></ol>
</div>

<div id="outline-container-orgheadline397" class="outline-4">
<h4 id="orgheadline397"><span class="section-number-4">14.2.5</span> Graph isomorphism</h4>
<div class="outline-text-4" id="text-14-2-5">
<p>
An isomorphism of graphs \(G\) and \(H\) is a bijection between the vertex sets 
\[
f: V(G) \to V(H)
\]
such that any two vertices \(u\) and \(v\) of \(G\) are adjacent if and only if \(f(u)\) and \(f(v)\) are adjacent in \(H\). 
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline402" class="outline-3">
<h3 id="orgheadline402"><span class="section-number-3">14.3</span> Tree</h3>
<div class="outline-text-3" id="text-14-3">
</div><div id="outline-container-orgheadline399" class="outline-4">
<h4 id="orgheadline399"><span class="section-number-4">14.3.1</span> Definitions</h4>
<div class="outline-text-4" id="text-14-3-1">
<ul class="org-ul">
<li><b>leaf or pendant vertex</b>: a vertex of degree 1.</li>
<li><b>n-vertex star</b>: \(K_{1,n-1}\)</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline400" class="outline-4">
<h4 id="orgheadline400"><span class="section-number-4">14.3.2</span> Properties of a tree</h4>
<div class="outline-text-4" id="text-14-3-2">
<ul class="org-ul">
<li>connected and acyclic by definition</li>
<li>bipartite</li>
<li>\(e(T) = n(T)-1\)</li>
<li>\(uv\) -path is unique</li>
<li>\(\not \exists\) induced cycle.</li>
<li><b>4.1.18</b>: Every edge of a tree is a block.</li>
<li><b>2.1.3</b>: Everry tree has at least two leaves (\(|n(T)| \ge 2\)).</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline401" class="outline-4">
<h4 id="orgheadline401"><span class="section-number-4">14.3.3</span> Spanning tree</h4>
<div class="outline-text-4" id="text-14-3-3">
<ul class="org-ul">
<li><b>spanning tree</b>: a subgraph that is a tree and includes all of the vertices.</li>
<li><b>2.2.3 Cayley</b>: For a set \(S\) of size \(n\), there are \(n^{n-1}\) trees with vertex set \(S\)</li>
<li><b>2.2.8</b>: \(\tau(G) = \tau(G-e) + \tau(G\cdot e)\)</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgheadline406" class="outline-3">
<h3 id="orgheadline406"><span class="section-number-3">14.4</span> Matching and Factors</h3>
<div class="outline-text-3" id="text-14-4">
</div><div id="outline-container-orgheadline403" class="outline-4">
<h4 id="orgheadline403"><span class="section-number-4">14.4.1</span> Definitions</h4>
<div class="outline-text-4" id="text-14-4-1">
<ul class="org-ul">
<li>A <b>matching</b> in a graph \(G\) is a set of non-loop edges with no shared endpoints.</li>
<li>The vertices incident to the edges of a matching \(M\) are <b>saturated</b> by \(M\).</li>
<li><b>perfect matching</b>: a matching that saturates every vertex in \(G\).</li>
<li>M-*alternating* path: a path that alternate between edges in \(M\) and edges not in \(M\).</li>
<li>M-*augmenting* path: an M-alternating path whose endpoints are unsaturated by \(M\).</li>
<li><b>vertex cover</b>: a set \(Q\in V(G)\) that contains at least one endpoints of every edge.</li>
<li><b>edge cover</b>: a set of edges such that every vertex of the graph is incident to at least one edge of the set. Note that an edge cover exists only if \(G\) has no isolated vertex.</li>
<li><b>independent set (stable set)</b>: a set of pairwise nonadjacent vertices</li>
<li><b>k-factor</b>: a spanning k-regular subgraph of \(G\)</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline404" class="outline-4">
<h4 id="orgheadline404"><span class="section-number-4">14.4.2</span> Theorems</h4>
<div class="outline-text-4" id="text-14-4-2">
<ul class="org-ul">
<li>\(U\) is a stable set \(\iff\) \(V\setminus U\) is a vertex cover</li>
<li>\(M\) is maximum matching in \(G \iff G\) has no M-augmenting path</li>
<li>\(M\) is a maximal matching \(\iff V(M)\) is a vertex cover</li>
<li>\(|\mathrm{stable set}| \le  |\mathrm{edge cover}|\)</li>
<li>\(|\mathrm{matching}| \le  |\mathrm{vertex cover}|\)</li>
<li><b>Gallai's theorem</b>: If \(G\) has no isolated vertex, then</li>
</ul>
<p>
\[ |\mathrm{max stable set}| + |\mathrm{min vertex cover}| = |V| = |\mathrm{max matching}| + |\mathrm{min edge cover}| \]
</p>

<ul class="org-ul">
<li><b>Berge's theorem</b>: a matching \(M\) is <b>maximum</b> \(\iff\) there is no M-agumenting path.</li>
<li><b>Konig's theorem</b>: If \(G\) is bipartite, \(|\mathrm{maximum macthing}| = |\mathrm{minimum vertex cover}|\)</li>

<li><b>Hall's theorem</b>: An \(X, Y\) -bigraph \(G\) has a matching that saturates \(X \iff |N(S)| \ge |S|\) for all \(S\subseteq X\)</li>

<li><b>Tutte</b>: \(G\) has a 1-factor \(\iff o(G\setminus S)\le |\mathrm{S}| \forall S\subseteq V(G)\)</li>

<li><b>Berge-Tutte Formula</b>: \(|\mathrm{max matching}| = \min_{S\subseteq V(G)} n(G) - o(G-S) + |S|\)</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline405" class="outline-4">
<h4 id="orgheadline405"><span class="section-number-4">14.4.3</span> Stable matching</h4>
</div>
</div>

<div id="outline-container-orgheadline413" class="outline-3">
<h3 id="orgheadline413"><span class="section-number-3">14.5</span> Cuts and Connectivity</h3>
<div class="outline-text-3" id="text-14-5">
</div><div id="outline-container-orgheadline407" class="outline-4">
<h4 id="orgheadline407"><span class="section-number-4">14.5.1</span> Definitions</h4>
<div class="outline-text-4" id="text-14-5-1">
<ul class="org-ul">
<li><b>seperating set, or vertex cut</b>: a set \(S\subseteq V(G)\) such that \(G\setminus S\) is disconnected.</li>
<li><b>disconnecting set</b> of edges: a set \(F\subseteq E(G)\) such that \(G\setminus F\) is disconnected.</li>

<li><b>cut-edge</b>: an edge whose deletion increases the number of components.</li>

<li><b>edge-cut</b>: an edge set of the form \([S,\overline{S}]\), where \(S\subset V(G)\) and \(S\ne \emptyset\)</li>
<li><b>bond</b>: minimal nonempty edge cut.</li>
<li><b>block</b>: a maximal connected subgraph that has no cut-vertex.</li>
<li>Two \(u,v\) -paths are <b>internally disjoint</b> if they have no common internal vertex.</li>
<li><b>subdivision</b>: replacing an edge \(uv\) with a path \(\{u, w, v\}\).</li>
<li><b>ear</b>: a maximal path whose internal vertices have degree 2 in \(G\)</li>
<li><b>ear decomposition</b> of \(G\) is a decomposition \(P_0, \dots, P_k\) such that \(P_0\) is a cycle and \(P_i\) for \(i\ge 1\) is an ear of \(\cup_{k=0}^{i} P_k\)</li>
<li><b>\(x,y\) -separator or cut</b>: a set \(S\subseteq V(G)-x-y\) if \(G-S\) has no \(x,y\) -path.</li>
<li><b>\(X,Y\) -path</b>: a path having first vertex in \(X\), last vertex in \(Y\), and no other vertex in \(X\cup Y\).</li>
<li><b>\(x,U\) -fan</b>: a set of paths from \(x\) to vertex set \(U\) such that any two of them share only \(x\).</li>
<li><b>block-cutpoint graph</b> of \(G\): a bipartite graph \(H=(X\cup Y, E(H))\), where \(X=\) cut-vertices \(v_i\) of \(G\), \(Y=\) blocks \(B_j\) of \(G\), and \(v_i B_j\in E(H) \iff v_i\in B_j\)</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline408" class="outline-4">
<h4 id="orgheadline408"><span class="section-number-4">14.5.2</span> Theorems</h4>
<div class="outline-text-4" id="text-14-5-2">
<ul class="org-ul">
<li><b>4.1.9 Whitney</b>: If \(G\) is a simple graph then</li>
</ul>
<p>
\[ \kappa(G)\le \kappa'(G) \le \delta(G) \]
</p>

<p>
&lt;li&gt;*4.2.17 Menger*: 
</p>

<ul class="org-ul">
<li>If \(x,y\in V(G)\) and \(xy\not\in E(G)\), then \(\kappa(x,y) = \lambda(x,y)\)</li>
<li>If \(x,y\in V(G)\) and \(x\ne y\), then \(\kappa'(x,y) = \lambda'(x,y)\)</li>
</ul>

<p>
&lt;/li&gt;
</p>
<ul class="org-ul">
<li><b>4.2.25 CSDR</b>: Families \(\vA = A_1, \dots, A_m\) and \(\vB = B_1,\dots,B_m\) have a common SDR</li>
</ul>
<p>
\[\iff
\big| (\cup_{i\in I} A_i) \cap (\cup_{j\in J} B_j) \big| 
\ge |I| + |J| - m \; \forall I, J \subseteq [m]
\]
</p>
</div>
</div>

<div id="outline-container-orgheadline410" class="outline-4">
<h4 id="orgheadline410"><span class="section-number-4">14.5.3</span> 2-connected graphs</h4>
<div class="outline-text-4" id="text-14-5-3">
<ul class="org-ul">
<li><b>4.2.2 Whitney</b>: A graph \(G\) having at least 3 vertices is 2-connected \(\iff\) for each pair of vertices \(x,y\) there exist internally disjoint \(x,y\) -paths in \(G\).</li>
<li><b>4.2.6 Subdivision</b>: If \(G\) is 2-connected, then the graph \(G'\) obtained by subdividing an edge of \(G\) is 2-connected.</li>
<li><b>4.2.8 ear</b>: A graph is 2-connected \(\iff\) it has an ear decomposition.</li>
</ul>
</div>

<ol class="org-ol"><li><a id="orgheadline409"></a>4.2.4 Characterization<br  /><div class="outline-text-5" id="text-14-5-3-1">
<p>
If \(V(G)\ge 3\), the followings are equivalent and characterize 2-connected graphs:
</p>
<ul class="org-ul">
<li>\(G\) is connected and has no cut-vertex.</li>
<li>\(\forall x, y\in V(G)\), there are internally disjoint \(x,y\) -paths.</li>
<li>\(\forall x, y\in V(G)\), there is a cycle through \(x,y\).</li>
<li>\(\delta(G)\ge 1\), and every pair of edges in \(G\) lies on a common cycle.</li>
</ul>
</div></li></ol>
</div>

<div id="outline-container-orgheadline411" class="outline-4">
<h4 id="orgheadline411"><span class="section-number-4">14.5.4</span> \(k\) -connected graphs</h4>
<div class="outline-text-4" id="text-14-5-4">
<ul class="org-ul">
<li><b>4.2.3 Expansion Lemma</b>: If \(G\) is \(k\) -connected, and \(G'\) obtained from \(G\) by adding a new vertex \(y\) with at least \(k\) neighbors in \(G\), then \(G'\) is also \(k\) -connected.</li>
<li><b>4.2.23 Fan Lemma</b>: \(G\) is \(k\) -connected \(\iff |V(G)| \ge k+1\) and \(\forall x, U\) with \(|U|\ge k\), \(\exists\) an \(x,U\) -fan of size \(k\).</li>
<li><b>4.2.24 Dirac</b>: If \(G\) is \(k\) -connected (\(k\ge2\)), and \(S\) is a set of \(k\) vertices in \(G\), then \(G\) has a cycle including \(S\) in its vertex set.</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline412" class="outline-4">
<h4 id="orgheadline412"><span class="section-number-4">14.5.5</span> Block</h4>
<div class="outline-text-4" id="text-14-5-5">
<ul class="org-ul">
<li><b>4.1.18</b>: An edge is a block of \(G\) \(\iff\) it is a cut-edge in \(G\).</li>
<li><b>4.1.18</b>: If a block has more than two vertices, then it is 2-connected.</li>
<li><b>4.1.19</b>: Two blocks in a graph share at most one vertex.</li>
<li><b>4.1.20</b>: block-cutpoint graph of a graph is a forest.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgheadline422" class="outline-3">
<h3 id="orgheadline422"><span class="section-number-3">14.6</span> Coloring of graphs</h3>
<div class="outline-text-3" id="text-14-6">
</div><div id="outline-container-orgheadline414" class="outline-4">
<h4 id="orgheadline414"><span class="section-number-4">14.6.1</span> Definitions</h4>
<div class="outline-text-4" id="text-14-6-1">
<ul class="org-ul">
<li><b>\(k\) -coloring</b>  of graph is a labeling \(f: V(G)\to S\), where \(|S| = k\). The labels are <b>colors</b>; the vertices of one color form a <b>color class</b>.</li>
<li><b>proper coloring</b>: adjacent vertices have different colors.</li>
<li><b>\(k\) -colorable</b>: if a graph has a proper \(k\) -coloring.</li>
<li><b>\(k\) -chromatic</b>: if \(\chi(G)=k\)</li>
<li><b>\(k\) -critical</b>: if \(\chi(H)< \chi(G)=k\) for all subgraph \(H\) of \(G\)</li>
<li><b>perfect</b>: if \(\chi(H) = \omega(H)\) holds for \(G\) and all its induced subgraph. \(\chi(G[A]) = \omega(G[A])\; \forall A\in V(G)\)</li>
<li><b>hereditary</b>: a family of graphs \(G\) is hereditary if every induced subgraph of a graph in \(G\) is also a graph in \(G\).</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline415" class="outline-4">
<h4 id="orgheadline415"><span class="section-number-4">14.6.2</span> Theorems (vertex coloring)</h4>
<div class="outline-text-4" id="text-14-6-2">
<ul class="org-ul">
<li><b>5.1.7</b>: For every graph \(G\), \(\chi(G)\ge \omega(G)\) and \(\chi(G)\ge n(G)\big/ \alpha(G)\)</li>
<li><b>5.1.8</b>:</li>
</ul>
<p>
\[\chi(G+H) = \max\big\{ \chi(H), \chi(G) \big\} \]
\[\chi(G\vee H) = \chi(H) + \chi(G)\]
</p>

<ul class="org-ul">
<li><b>5.1.13</b>: \(\chi(G)\le \Delta(G) + 1\)</li>

<li><b>P2 HW9, Exercise 5.1.3</b>: \(\chi(G) = \max_i(G_i)\), where \(G_i\) are the blocks of \(G\).</li>
<li><b>5.1.22 Brooks</b>: If \(G\) is a connected other than complete graph or an odd cycle, then \(\chi(G)\le \Delta(G)\)</li>
<li><b>5.3.18</b>: \(\theta(G) = \chi(\overline{G})\)</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline416" class="outline-4">
<h4 id="orgheadline416"><span class="section-number-4">14.6.3</span> Theorems (edge coloring)</h4>
<div class="outline-text-4" id="text-14-6-3">
<ul class="org-ul">
<li><b>7.1.3</b>: \(\chi'(G) \ge \Delta(G)\)</li>
<li><b>7.1.7 Konig</b>: If \(G\) is bipartite, then \(\chi'(G) = \Delta(G)\)</li>
<li><b>7.1.10 Vizing</b>: If \(G\) is a simple graph, then \(\chi'(G) \le \Delta(G) + 1\)</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline419" class="outline-4">
<h4 id="orgheadline419"><span class="section-number-4">14.6.4</span> \(k\) -critical graph</h4>
<div class="outline-text-4" id="text-14-6-4">
</div><ol class="org-ol"><li><a id="orgheadline417"></a>\(k\) -critical graphs for small number<br  /><div class="outline-text-5" id="text-14-6-4-1">
<ul class="org-ul">
<li><b>\(k=1\)</b>: \(K_1\)</li>
<li><b>\(k=2\)</b>: \(K_2\)</li>
<li><b>\(k=3\)</b>: odd cycles</li>
</ul>
</div></li>

<li><a id="orgheadline418"></a>Theorems<br  /><div class="outline-text-5" id="text-14-6-4-2">
<ul class="org-ul">
<li><b>5.2.13 a</b>: If \(G\) is \(k\) -critical, then \(\delta(G)\ge k-1\)</li>
</ul>
</div></li></ol>
</div>

<div id="outline-container-orgheadline421" class="outline-4">
<h4 id="orgheadline421"><span class="section-number-4">14.6.5</span> Chromatic Polynomial</h4>
<div class="outline-text-4" id="text-14-6-5">
<ul class="org-ul">
<li><b>5.3.2</b>: \(\chi(\overline{K_n}; k) =  k^n\)</li>
<li><b>5.3.2</b>: \(\chi(K_n; k) = \Pi_{i=0}^{n-1} (k-i) = P_n^k\)</li>
<li><b>5.3.3</b>: If \(T\) is a tree with \(n\) vertices, then \(\chi(T; k) = k(k-1)^{n-1}\)</li>

<li><b>5.3.6 Chromatic Recurrence</b>: If \(G\) is a simple graph and \(e\in E(G)\), then \(\chi(G; k) = \chi(G-e; k) - \chi(G\cdot e; k)\)</li>

<li><b>5.3.4</b>: \(\chi(G; k) = \sum_{r=1}^{n(G)} p_r(G) k_{(r)}\), where \(p_r(G)\) is the number of partitions of \(V(G)\) into \(r\) nonempty independent sets, and \(k_{(r)} = \Pi_{i=0}^r (k-i)\)</li>

<li><b>5.3.27 Stanley</b>: number of acyclic orientations of \(G\) is \((-1)^{n(G)} \chi(G; -1)\)</li>
</ul>
</div>

<ol class="org-ol"><li><a id="orgheadline420"></a>Coefficients of chromatic polynomial<br  /><div class="outline-text-5" id="text-14-6-5-1">
<ul class="org-ul">
<li><b>5.3.8</b>: chromatic polynomial \(\chi(G; k)\) of a simple graph has degree \(n(G)\), with integer coefficients alternating in sign and begining \(1, -e(G)\).</li>

<li><b>P4 HW10</b>: exponent of last nonzero term is \(c(G)\).</li>
<li><b>P4 HW10</b>: \(k\) is always a factor of \(\chi(G; k)\)</li>
</ul>
</div></li></ol>
</div>
</div>

<div id="outline-container-orgheadline430" class="outline-3">
<h3 id="orgheadline430"><span class="section-number-3">14.7</span> Special graphs</h3>
<div class="outline-text-3" id="text-14-7">
</div><div id="outline-container-orgheadline426" class="outline-4">
<h4 id="orgheadline426"><span class="section-number-4">14.7.1</span> Vertex degree</h4>
<div class="outline-text-4" id="text-14-7-1">
<ul class="org-ul">
<li><b>1.2.25</b>: If \(\delta(G)\ge 2\), then \(G\) contains a cycle.</li>
<li><b>HW2 P9</b>: If \(\delta(G) = k\), then \(G\) contains a path of length at least \(k\) and a cycle of length at least \(k+1\).</li>
<li><b>1.2.28</b>: If simple graph \(\delta(G)\ge k\), then \(G\) has \(|\mathrm{path}| \ge k\). If \(k\ge 2\), \(G\) has \(|\mathrm{cycle}| \ge k+1\)</li>
</ul>
</div>

<ol class="org-ol"><li><a id="orgheadline423"></a>Even graph<br  /><div class="outline-text-5" id="text-14-7-1-1">
<ul class="org-ul">
<li><b>1.2.27</b>: Every even graph decomposes into cycles.</li>
</ul>
</div></li>

<li><a id="orgheadline424"></a>3-regular<br  /><div class="outline-text-5" id="text-14-7-1-2">
<ul class="org-ul">
<li><b>3.3.8</b> if it has no cut-edge, then it has a 1-factor</li>
<li><b>4.1.11</b> \(\kappa(G) = \kappa'(G)\)</li>
</ul>
</div></li>

<li><a id="orgheadline425"></a>Even regular<br  /><div class="outline-text-5" id="text-14-7-1-3">
<ul class="org-ul">
<li><b>3.3.9</b> has a 2-factor</li>
</ul>
</div></li></ol>
</div>

<div id="outline-container-orgheadline427" class="outline-4">
<h4 id="orgheadline427"><span class="section-number-4">14.7.2</span> Bipartite Graph</h4>
</div>

<div id="outline-container-orgheadline428" class="outline-4">
<h4 id="orgheadline428"><span class="section-number-4">14.7.3</span> No even cycle</h4>
<div class="outline-text-4" id="text-14-7-3">
<ul class="org-ul">
<li><b>P5 HW8</b>: If \(G\) has no isolated vertex nor even cycle, then every block of \(G\) is a single edge or an odd cycle.</li>
<li><b>P3 HW9</b>: If \(G\) has no even cycle, then \(\chi(G)\le 3\)</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline429" class="outline-4">
<h4 id="orgheadline429"><span class="section-number-4">14.7.4</span> Line graphs</h4>
<div class="outline-text-4" id="text-14-7-4">
<ul class="org-ul">
<li><b>7.1.1</b> \(\alpha'(G) = \alpha(L(G))\)</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgheadline442" class="outline-3">
<h3 id="orgheadline442"><span class="section-number-3">14.8</span> Several topics</h3>
<div class="outline-text-3" id="text-14-8">
</div><div id="outline-container-orgheadline431" class="outline-4">
<h4 id="orgheadline431"><span class="section-number-4">14.8.1</span> Transversing a graph</h4>
<div class="outline-text-4" id="text-14-8-1">
<ul class="org-ul">
<li><b>Eulerian circuit</b>: a closed trail (no repeated edges) containing all edges.</li>
<li><b>1.2.26</b>: A connected graph \(G\) is Eulerian \(\iff\) it is even.</li>
<li><b>1.4.24</b>: A digraph is Eulerian \(\iff\) \(d^+(v) = d^-(v)\) for each vertex \(v\), and the underlying graph has at most one nontrivial component.</li>

<li><b>Hamiltonian cycle</b>: a cycle that visits each vertex exactly once.</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline432" class="outline-4">
<h4 id="orgheadline432"><span class="section-number-4">14.8.2</span> Bijection</h4>
<div class="outline-text-4" id="text-14-8-2">
<p>
A function \(f: X\to Y\) is a bijection \(\iff\) it is injective and surjective.
</p>

<ul class="org-ul">
<li><b>injective (one-to-one)</b>: \(f\) preserves distinctness</li>
<li><b>surjective (onto)</b>: every \(y\in Y\) has a \(x\in X\) such that \(f(x) = y\).</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline438" class="outline-4">
<h4 id="orgheadline438"><span class="section-number-4">14.8.3</span> Some famous graphs</h4>
<div class="outline-text-4" id="text-14-8-3">
</div><ol class="org-ol"><li><a id="orgheadline435"></a>Hypercube<br  /><div class="outline-text-5" id="text-14-8-3-1">
<p>
<b>n-cube or hypercube \(Q_n\)</b>: \(V(Q_n)\) is the set of all n-typles of \(\{0,1\}\), and two vertices are adjacent \(\iff\) their correponding tuples differ in exactly 1 coordinates.
</p>
</div>
<ol class="org-ol"><li><a id="orgheadline433"></a>Properties<br  /><div class="outline-text-6" id="text-14-8-3-1-1">
<p>
&lt;ol&gt;
</p>
<ul class="org-ul">
<li>\(n(Q_n) = 2^n, d(v) = n, e(Q_n) = n 2^{n-1}\)</li>
<li>bipartite.</li>
<li>Size of min seperating set: \(\kappa(Q_n) = n\)</li>
<li>\(Q_n = Q_{n-1}\Box K_2\) when \(k\ge 1\)</li>
</ul>
<p>
&lt;/ol&gt;
</p>

<p>
*Boolean Lattice \(BL_n\)
Vertex set of BL is the set of all subsets of \(\{1,2,\dots,n\}\). Two subsets are adjacent \(\iff\) their symmetric difference has exactly one element. 
</p>
</div></li>
<li><a id="orgheadline434"></a>Properties<br  /><div class="outline-text-6" id="text-14-8-3-1-2">
<p>
&lt;ol&gt;
</p>
<ul class="org-ul">
<li>\(Q_n\) and \(BL_n\) are isomorphic.</li>
</ul>
<p>
&lt;/ol&gt;
</p>
</div></li></ol></li>

<li><a id="orgheadline437"></a>Graph of permutations<br  /><div class="outline-text-5" id="text-14-8-3-2">
<p>
<b>Graph of permutations</b>: \(V(G_n)\) is the set of all permutations of \(\{1,2,\dots,n\}\), and two vertices are adjacent \(\iff\) they differ by changing a pair of entries.
</p>
</div>

<ol class="org-ol"><li><a id="orgheadline436"></a>Properties<br  /><div class="outline-text-6" id="text-14-8-3-2-1">
<ul class="org-ul">
<li>bipartite.</li>
<li>Every edge of \(G_n\) connects vertices with different parity of number of inversions.</li>
</ul>

<p>
Size for the followings is \(n!/2\)
</p>
<ul class="org-ul">
<li>min vertex cover</li>
<li>max independent set</li>
<li>max matching</li>
<li>min edge cover</li>
</ul>
</div></li></ol></li></ol>
</div>

<div id="outline-container-orgheadline441" class="outline-4">
<h4 id="orgheadline441"><span class="section-number-4">14.8.4</span> Techniques in graph theory</h4>
<div class="outline-text-4" id="text-14-8-4">
</div><ol class="org-ol"><li><a id="orgheadline439"></a>Extremality<br  /><div class="outline-text-5" id="text-14-8-4-1">
<p>
When considering structures of a given type, choosing an example that is extreme in some sense may yield useful additional information.
Examples: If \(\delta(G)=2\), then \(G\) contains a cycle
Proof: Let \(P\) be a maximal path in \(G\), and let \(u\) be an endpoint in \(P\). By definition \(P\) cannot be extended, then \(N(u)\in V(P)\). Since \(d(u)\ge 2\), it has a neighbor \(v\) via an edge not in \(P\). The edge \(uv\) completes a cycle. 
</p>
</div></li>

<li><a id="orgheadline440"></a>Counting two ways<br  /><div class="outline-text-5" id="text-14-8-4-2">
<p>
Examples:
</p>
<ul class="org-ul">
<li><b>Handshaking Lemma</b>: \(\sum_v d(v) = 2\cdot e(G)\)</li>
<li>Every \(k\) -regular bipartite graph has a perfect matching.</li>
</ul>
</div></li></ol>
</div>
</div>

<div id="outline-container-orgheadline445" class="outline-3">
<h3 id="orgheadline445"><span class="section-number-3">14.9</span> Plannar Graphs</h3>
<div class="outline-text-3" id="text-14-9">
</div><div id="outline-container-orgheadline443" class="outline-4">
<h4 id="orgheadline443"><span class="section-number-4">14.9.1</span> Definitions</h4>
</div>

<div id="outline-container-orgheadline444" class="outline-4">
<h4 id="orgheadline444"><span class="section-number-4">14.9.2</span> Theorems</h4>
<div class="outline-text-4" id="text-14-9-2">
<ul class="org-ul">
<li><b>6.1.2</b>: \(K_5\) and \(K_{3,3}\) cannot be drawn without crossings</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgheadline454" class="outline-3">
<h3 id="orgheadline454"><span class="section-number-3">14.10</span> Random Graph</h3>
<div class="outline-text-3" id="text-14-10">
</div><div id="outline-container-orgheadline446" class="outline-4">
<h4 id="orgheadline446"><span class="section-number-4">14.10.1</span> Definitions</h4>
<div class="outline-text-4" id="text-14-10-1">
<ul class="org-ul">
<li><b>Ramsey number</b>:</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline448" class="outline-4">
<h4 id="orgheadline448"><span class="section-number-4">14.10.2</span> Ramsey Theory</h4>
<div class="outline-text-4" id="text-14-10-2">
</div><ol class="org-ol"><li><a id="orgheadline447"></a>Theorems<br  /><div class="outline-text-5" id="text-14-10-2-1">
<ul class="org-ul">
<li><b>Pigeonhold principle</b>: If \(m\) objects are partitioned into \(n\) classes, then some class has at least \(\ceil{m/n}\) objects, and some class has at most \(\floor{m/n}\) objects.</li>
</ul>
</div></li></ol>
</div>

<div id="outline-container-orgheadline449" class="outline-4">
<h4 id="orgheadline449"><span class="section-number-4">14.10.3</span> Probability and Expectation</h4>
<div class="outline-text-4" id="text-14-10-3">
<ul class="org-ul">
<li>\(P[\cup_i A_i] = \sum_i P[A_i]\)</li>
<li><b>Markov's Inequality</b>: probability of \(X\) being large is small.</li>
</ul>
<p>
\[P[X\ge a] \le {E[X] \over a} \]
</p>

<ul class="org-ul">
<li><b>Chebyshev's inequility</b>: \(X\) cannot deviate a lot from its mean too often.</li>
</ul>
<p>
\[ P\big[|X-\mu| \ge \lambda \big] \le {\sigma^2\over \lambda^2} \] 
</p>
</div>
</div>

<div id="outline-container-orgheadline453" class="outline-4">
<h4 id="orgheadline453"><span class="section-number-4">14.10.4</span> Several results</h4>
<div class="outline-text-4" id="text-14-10-4">
</div><ol class="org-ol"><li><a id="orgheadline450"></a>Probabilities<br  /><div class="outline-text-5" id="text-14-10-4-1">
<ul class="org-ul">
<li><b>Having \(m\) edges</b>: $p<sup>m</sup> (1-p)<sup>{n\choose2} - m</sup> $</li>
<li>\(H\) (with \(l\) edges) is an induced subgraph of \(G\): \(p^l (1-p)^{{k\choose2} - l}\)</li>
<li><b>Diestel 11.1.2</b>: \(G\in \vG(n,p)\) has a set of \(k\) independent set: \(P[\alpha(G)\ge k] \le {n\choose k} (1-p)^{k\choose 2}\)</li>
<li><b>Diestel 11.1.2</b>: \(G\in \vG(n,p)\) has a set of \(k\) clique: \(P[\omega(G)\ge k] \ge {n\choose k} p^{k\choose 2}\)</li>
<li><b>HW11 P6</b>: a vertex having degree \(k\): \({n-1\choose k} p^k (1-p)^{n-1-k}\)</li>
</ul>
</div></li>

<li><a id="orgheadline451"></a>Expected numbers<br  /><div class="outline-text-5" id="text-14-10-4-2">
<ul class="org-ul">
<li><b>Diestel 11.1.5</b>: number of \(k\) -cycles \( = p^k\cdot {n\choose k} k! \big/ 2k\)</li>
<li><b>HW11 P6</b>: number of degree \(k\) vertices \( = k{n-1\choose k} p^k (1-p)^{n-1-k}\)</li>
<li><b>HW11 P8</b>: number of spanning trees \( = n^{n-2} \cdot p^{n-1}\)</li>
</ul>
</div></li>

<li><a id="orgheadline452"></a>\(P[X=0]\)<br  /><div class="outline-text-5" id="text-14-10-4-3">
<p>
Let \(X\) be integer property, \(\mu = E[X]\) and \(\sigma^2 = E[(X-\mu)^2]\)
</p>

<ul class="org-ul">
<li><b>Lower bound</b>:</li>
</ul>
\begin{eqnarray}
P[X = 0] &=& 1 - P[X> 0] \\
&=& 1- P[X\ge 1] \\
&\ge & 1 - E[X] = 1-\mu
\end{eqnarray}

<ul class="org-ul">
<li><b>Upper bound</b>:</li>
</ul>
\begin{eqnarray}
P[X=0] &\le& P\bigg[ |X-\mu|\ge \mu \bigg] 
\le {\sigma^2 \over \mu^2 } = {E[X^2]\over \mu^2} -1
\end{eqnarray}
</div></li></ol>
</div>
</div>
</div>

<div id="outline-container-orgheadline465" class="outline-2">
<h2 id="orgheadline465"><span class="section-number-2">15</span> My Cheat Sheet</h2>
<div class="outline-text-2" id="text-15">
</div><div id="outline-container-orgheadline463" class="outline-3">
<h3 id="orgheadline463"><span class="section-number-3">15.1</span> Emacs</h3>
<div class="outline-text-3" id="text-15-1">
</div><div id="outline-container-orgheadline460" class="outline-4">
<h4 id="orgheadline460"><span class="section-number-4">15.1.1</span> General</h4>
<div class="outline-text-4" id="text-15-1-1">
</div><ol class="org-ol"><li><a id="orgheadline456"></a>Modifier keys:<br  /><div class="outline-text-5" id="text-15-1-1-1">
<ul class="org-ul">
<li>C: Control; </li>
<li>M: Meta; Alt; Option.</li>
</ul>
</div></li>
<li><a id="orgheadline457"></a>Cut and paste rectangle region<br  /><div class="outline-text-5" id="text-15-1-1-2">
<ul class="org-ul">
<li><code>C-x r k</code>: <code>kill-rectangle</code>, cut</li>
<li><code>C-x r y</code>: <code>yank-rectangle</code>; paste. (be careful with the target lines)</li>
</ul>
</div></li>
<li><a id="orgheadline458"></a>Search and replace<br  /><div class="outline-text-5" id="text-15-1-1-3">
<ul class="org-ul">
<li><code>C-s</code>: <code>isearch-forward</code>; incremental search forward</li>
<li><code>C-r</code>: <code>isearch-backward</code>; incremental search forward</li>
<li>Repeat <code>C-s</code> or <code>C-r</code> to move to the next or previous match.</li>
</ul>
</div></li>
<li><a id="orgheadline459"></a>Moving cursor<br  /><div class="outline-text-5" id="text-15-1-1-4">
<ul class="org-ul">
<li><code>CM-n</code>: Move cursor to the next parentheses group.</li>
<li><code>CM-p</code>: Move cursor to the previous parentheses group.</li>
</ul>
</div></li></ol>
</div>

<div id="outline-container-orgheadline461" class="outline-4">
<h4 id="orgheadline461"><span class="section-number-4">15.1.2</span> Org-mode</h4>
<div class="outline-text-4" id="text-15-1-2">
<ul class="org-ul">
<li><code>C-ce hh</code>: Export to html file</li>
<li><code>C-cxl</code>: Toggle latex mask</li>
<li><code>C-c .</code>: Insert current date</li>
<li><code>C-ct</code>: Change status of a TODO task.</li>
<li><code>C-x ns</code>: <code>org-narrow-to-subtree</code></li>
<li><code>C-c c</code>: <code>org-capture</code></li>
<li><code>C-cl</code>: Edit link address and content</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline462" class="outline-4">
<h4 id="orgheadline462"><span class="section-number-4">15.1.3</span> Auctex</h4>
<div class="outline-text-4" id="text-15-1-3">
<ul class="org-ul">
<li>Preview: <code>C-cpd</code></li>
<li>Remove preview: <code>C-cpcd</code></li>
</ul>
</div>
</div>
</div>


<div id="outline-container-orgheadline464" class="outline-3">
<h3 id="orgheadline464"><span class="section-number-3">15.2</span> Bash</h3>
<div class="outline-text-3" id="text-15-2">
<ul class="org-ul">
<li><code>pgrep keywords</code>: grep search by process name</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgheadline467" class="outline-2">
<h2 id="orgheadline467"><span class="section-number-2">16</span> Others</h2>
<div class="outline-text-2" id="text-16">
</div><div id="outline-container-orgheadline466" class="outline-3">
<h3 id="orgheadline466"><span class="section-number-3">16.1</span> Software Installation</h3>
<div class="outline-text-3" id="text-16-1">
<dl class="org-dl">
<dt>Emacs</dt><dd><code>brew install emacs --HEAD --with-cocoa --with-gnutls --with-imagemagick</code></dd>
</dl>
<p>
If you prefer a stable version, use <code>brew cask install emacs</code> to install from a stable binary release.
</p>
<dl class="org-dl">
<dt>Openmp</dt><dd>The <code>gcc</code> that comes with Mac OS does not contain OpenMP, so we need to reinstall it: <code>brew reinstall gcc --without-multilib</code> Then use the newly installed <code>g++-6</code> or other later version.</dd>
<dt>Save password for ssh</dt><dd></dd>
</dl>
<pre class="example">
ssh-keygen
brew install ssh-copy-id
ssh-copy-id user@hostname
</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Sen Lin</p>
<p class="date">Created: 2016-10-21 Fri 15:33</p>
<p class="validation"></p>
</div>
</body>
</html>
